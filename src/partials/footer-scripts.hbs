<script src="{{{uiRootPath}}}/js/site.js"></script>
<script async src="{{{uiRootPath}}}/js/vendor/highlight.js"></script>

<script>
  function closeBanner() {
    const banner = document.getElementById('latest-banner')
    if (banner) {
      banner.style.display = 'none'
      const now = new Date()
      const item = {
        expiry: now.getTime() + 86400000,
      }
      localStorage.setItem('latestBannerCookie', JSON.stringify(item))
    }
  }
</script>

<!-- 404 is not a component, so we avoid reading the component versions and names from it -->
{{#if (not-eq page.title 'Page Not Found')}}
  <!-- TUTORIALS -->
  {{#if (eq page.component.name 'tutorials')}}
  <!-- Filter tutorials by product using the query parameters in the URL -->
    <script>
      var queryParams = new URLSearchParams(window.location.search);
      var product = queryParams.get("product");
      if (product) {
        params.product = product
        document.getElementById(product).click()
        updateCards(params)
      }
    </script>
    <!-- Unused feature that displays multi-path tutorial steps as a stream of boxes -->
    {{#with page.attributes.box-number}}
      <script>
        if (document.getElementsByClassName('box').length > 0) {
          var activeBox = document.getElementsByClassName('box box{{this}}')[0]
          activeBox.classList.add('active')
        }
      </script>
    {{/with}}
  {{/if}}
{{/if}}

<script>
  feather.replace();
</script>
