<!DOCTYPE html>
<html lang="en">
  <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
 <title>Advanced Features | Hazelcast Documentation</title>
    <link rel="canonical" href="https://docs.hazelcast.com/hazelcast/5.5/wan/advanced-features">
    <link rel="prev" href="configuring-for-map-and-cache">
    <link rel="next" href="tuning">
    <meta name="generator" content="Antora 3.1.10">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
<!-- Apply the site styles after the docsearch ones -->
<link rel="stylesheet" href="../../../_/css/site.css">
<style>
  .nav-item[data-depth="1"] {
  color: #6d7480;
}
</style>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
<meta name="google-site-verification" content="3gaMIo4Cp94mol0v1ae9PNYw9xYLbP4O_IrQxSvnS7E" />
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MQ59XD6');</script>
  <!-- End Google Tag Manager -->

  <!-- Kapa snippet -->
  <script
    src="https://widget.kapa.ai/kapa-widget.bundle.js"
    data-website-id="6b326171-dd1e-40c6-a948-1f9bb6c0ed52"
    data-project-name="Hazelcast"
    data-project-color="#000000"
    data-project-logo="/_/img/kapa/kapa-logo.png"
    data-modal-z-index="10001"
    data-modal-title="Ask AI"
    data-modal-header-bg-color="#71808A"
    data-modal-title-color="#fff"
    data-modal-disclaimer-text-color="#10A4B3"
    data-modal-image-width="40"
    data-modal-image-height="40"
    data-modal-title-font-family="PP Telegraf"
    data-modal-title-font-size="30px"
    data-modal-title-font-weight="400"
    data-modal-disclaimer="This is an experimental custom LLM for answering technical questions about Hazelcast. Answers are based **only** on Hazelcast documentation and support sources, but may not be fully accurate so please use your best judgement. Don't forget to rate the answers and give feedback!"
    data-modal-example-questions="How do I get started with Hazelcast?,What are Enterprise-only features?,What is the best serialization strategy?,What is the CP Subsystem?"
    data-button-image-width="40"
    data-button-image-height="40"
    data-button-border="1px solid #AFE922"
    data-button-border-radius="10px"
    data-button-bg-color="#0b2b39"
    data-button-text-font-family="PP Telegraf"
    data-button-text-font-size="16px"
    data-button-text-font-weight="400"
    data-search-mode-enabled="true"
    data-search-display-num-results="10"
    data-search-source-group-order='["docs.hazelcast.com", "Java API Docs", "C# API Docs", "Go Client Docs"]'
  ></script>
  <!-- End Kapa snippet -->

<script src="https://app.enzuzo.com/scripts/cookiebar/85a261c2-e311-11ef-b8c9-bb6cda60a835"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/js/all.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
      <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MQ59XD6"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
<header class="header">
  <nav class="navbar navbar-brand">
    <div class="navbar-start">
      <a class="navbar-item navbar-logo-item" href="/">
        <img class="navbar-logo-item-img" src="../../../_/img/hazelcast-logo-white.png" alt="Hazelcast Logo" />
      </a>
      <p class="navbar-item navbar-app-title">
        Documentation
      </p>
    </div>

    <div class="navbar-end">
        <div id="search-input" class="navbar-item searchbox"></div>
          <label class="filter checkbox">
            <input id="facet" type="checkbox" onclick="applyFacetedSearch()"> Search all docs
          </label>
        <a class="navbar-item get-hazelcast-link" href="https://hazelcast.com/get-started/?utm_source=docs-website" target="_blank">
          <button class="button navbar-button">Get Hazelcast</button>
        </a>
    </div>
  </nav>
</header>
    <div class="body">
  <div class="nav-container" data-component="hazelcast" data-version="5.4">
  <aside class="nav">
    <div id="navVersionPicker" class="nav-version-picker" data-active-toggle>
  <div class="navbar-product-name">
    <a id="navbarProductName" class="nav-version-picker-toggle nav-version-picker-toggle-components" data-toggle-value="product"  title="Hazelcast Platform">
      Hazelcast Platform
    </a>
  </div>

    <div class="navbar-product-version">
      <a id="navbarProductVersion" class="nav-version-picker-toggle nav-version-picker-toggle-versions" data-toggle-value="version" title="5.4">
        5.4
      </a>
    </div>

  <ul class="nav-version-picker-components" id="navbarProductsList">
      <span>hazelcast</span>
        <li class="component is-current">
              <a href="../../5.5/">
                Hazelcast Platform
              </a>
        </li>
      <span>management-center</span>
        <li class="component">
              <a href="../../../management-center/5.7/">
                Management Center
              </a>
        </li>
      <span>home</span>
      <span>privacy</span>
      <span>templates</span>
      <span>tutorials</span>
        <li class="component">
              <a href="../../../tutorials/">
                Tutorials
              </a>
        </li>
  </ul>

      <ul class="nav-version-picker-versions" id="navbarVersionsList">
            <li
              class="version"
            >
              <a href="../../6.0-snapshot/wan/advanced-features">6.0-SNAPSHOT</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.5/wan/advanced-features">5.5</a>
            </li>
            <li
              class="version is-current"
            >
              <a href="advanced-features">5.4</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.3/wan/advanced-features">5.3</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.2/wan/advanced-features">5.2</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.1/wan/advanced-features">5.1</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.0/wan/advanced-features">5.0</a>
            </li>
      </ul>
</div>
    <div class="panels">
  <div class="nav-panel-menu is-active" data-panel="menu">
    <nav class="nav-menu">
        <ul class="nav-list">
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Get started</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../whats-new">What&#8217;s new in 5.4</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../what-is-hazelcast">What is Hazelcast Platform</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/editions">Available versions</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Start a local cluster</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-docker">Docker</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-cli">CLI</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-binary">Binary</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-java">Java Embedded</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/enterprise-overview">Get started with Enterprise Edition</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/persistence">Persist Map Entries on Disk</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/authenticate-clients">Authenticate Client Connections</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/wan">Replicate a Map over Clusters in a WAN</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/blue-green">Deploy Blue-Green Clusters</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Get started with SQL</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/get-started-sql">Get Started with SQL Over Maps</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/learn-sql">Get Started with SQL Over Kafka</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/get-started-sql-files">Get Started with SQL Over Files</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/hazelcast-clients">Get started with a Hazelcast Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/support">Getting Support</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Install &amp; upgrade</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Overview</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/choosing-a-deployment-option">Available Topologies</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/versioning-compatibility">Versioning and Compatibility</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/deploying-in-cloud">Deploying on Cloud</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../deploy/deploying-on-aws">Deploying a Cluster on Amazon AWS</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../deploy/deploying-on-azure">Deploying a Cluster on Microsoft Azure</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../deploy/deploying-on-gcp">Deploying a Cluster on Google Cloud Platform</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/deploying-with-docker">Deploying on Docker</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/install-enterprise">Install Enterprise Edition</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/enterprise-licenses">Managing Enterprise license keys</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/install-hazelcast">Install Community Edition</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../migrate/data-migration-tool">Using the Data Migration Tool</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Upgrades</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../migrate/upgrading-from-jet">Upgrading from Jet</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../migrate/upgrading-from-imdg-4">Upgrading from IMDG 4.x</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../migrate/upgrading-from-imdg-3">Upgrading from IMDG 3.12.x</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../migrate/migration-tool-imdg">Migrating Data from IMDG 3.12.x</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../migrate/dmt-command-reference">DMT Command Reference</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../release-notes/releases">Release notes</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-4-1">5.4.1</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-4-0">5.4.0</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Develop &amp; build</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Architecture</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/architecture">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/data-partitioning">Data Partitioning and Replication</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/distributed-computing">Jet: How Hazelcast Models and Executes Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/execution-engine">Cooperative Multithreading</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/event-time-processing">How Hazelcast Handles Event Disorder</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/sliding-window">Jet: Sliding Window Aggregation</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/in-memory-storage">In-Memory Storage</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../cluster-performance/best-practices">Best Practices</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../capacity-planning">Capacity Planning</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/performance-tips">Performance Tips</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/back-pressure">Back Pressure</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/pipelining">Pipelining</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/aws-deployments">AWS Deployments</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/threading">Threading</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/near-cache">Near Cache</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/data-affinity">Data Affinity</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Member/Client Discovery</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovery-mechanisms">Discovery Mechanisms</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovering-by-tcp">Discovering Members by TCP</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovering-by-multicast">Discovering Members by Multicast</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovering-native-clients">Discovering Java Clients</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Kubernetes</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/deploying-in-kubernetes">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tutorials/kubernetes">Deploy Hazelcast using Kubernetes</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/deploying-in-kubernetes#hazelcast-platform-operator-for-kubernetesopenshift">Hazelcast Platform Operator</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/kubernetes-auto-discovery">Discovery and Partitioning</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/kubernetes-persistence">Persistence</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/troubleshooting-and-limitations">Troubleshooting and Limitations</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Helm Charts</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-hazelcast-chart">Hazelcast Chart</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-hazelcast-enterprise-chart">Hazelcast Enterprise Edition Chart</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-upgrade-guide">Helm Upgrade Guide</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-adding-custom-jar">Adding Custom Jar</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-enabling-external-access">Enabling External Access</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-configuring-ssl">Configuring SSL</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-dynamic-persistence-configuration">Dynamic Persistence Configuration</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Distributed Data Structures</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/distributed-data-structures">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Map</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/map">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/map-config">Configuring Maps</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/creating-a-map">Creating a Map</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/reading-a-map">Reading Data From a Map</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/updating-map-entries">Updating Map Entries</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/setting-data-format">Setting the In-Memory Format of Map Entries</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/backing-up-maps">Making Your Map Data Safe</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/managing-map-memory">Managing Map Memory</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/locking-maps">Locking Maps</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/listening-for-map-entries">Acting Upon Changes to a Map</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/reading-map-metrics">Reading Map Metrics</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../computing/entry-processor">Entry Processor</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">JCache</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/jcache">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/overview">JCache Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/setup">JCache Setup and Configuration</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/providers">JCache Providers</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/api">JCache API</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/hazelcast-integration">JCache - Hazelcast Instance Integration</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/icache">Hazelcast JCache Extension - ICache</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/tck">Testing for JCache Specification Compliance</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/queue">Queue</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/priority-queue">Priority Queue</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/multimap">MultiMap</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/set">Set</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/list">List</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/ringbuffer">Ringbuffer</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/topic">Topic</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/reliable-topic">Reliable Topic</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/fencedlock">FencedLock</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/iatomiclong">IAtomicLong</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/isemaphore">ISemaphore</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/iatomicreference">IAtomicReference</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/icountdownlatch">ICountDownLatch</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/cpmap">CPMap</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/pn-counter">PN Counter</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/flake-id-generator">Flake ID Generator</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/replicated-map">Replicated Map</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/cardinality-estimator-service">Cardinality Estimator Service</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/event-journal">Event Journal</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../computing/distributed-computing">Distributed Computing</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Executor Services</span>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Java Executor Service</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../computing/executor-service">Java Executor Service</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../computing/durable-executor-service">Durable Executor Service</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../computing/scheduled-executor-service">Scheduled Executor Service</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/user-code-namespaces">User Code Namespaces</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-enable">Enable User Code Namespaces</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-static-config">Static Configuration</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-member-side">Member Configuration</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-data-structures">Data Structures</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-static-programmatic">Programmatic Configuration</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-dynamic-config">Dynamic Configuration API</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-dynamic-client">Configure Client</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-non-associated">Non-associated Namespaces</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-security">Security</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-migrate-ucd">Migrate from User Code Deployment</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/legacy-ucd">User Code Deployment</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/deploying-code-on-member">Deploying User Code on the Member</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/deploying-code-from-clients">Deploying User Code from Clients</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/accessing-domain-objects">Accessing Domain Objects Without Domain Classes</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Data Ingestion &amp; Query</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../ingest/overview">Ingesting Data from External Sources</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../query/overview">Running Distributed Queries</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../mapstore/working-with-external-data">Building a Cache with MapStore</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../mapstore/configuring-a-generic-maploader">Using the generic MapLoader</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../mapstore/configuring-a-generic-mapstore">Using the generic MapStore</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../mapstore/implement-a-mapstore">Implementing a Custom MapStore</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../mapstore/configuration-guide">Configuring a MapStore</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../mapstore/mapstore-triggers">Map Operations that Trigger Methods on a MapStore</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Building Data Pipelines</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/overview">About Data Pipelines</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Get Started</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/stream-processing-embedded">Get Started with Stream Processing (Embedded)</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/stream-processing-client">Get Started with Stream Processing (Client/Server)</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Ingesting Data from Sources</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/ingesting-from-sources">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-stream-source">Creating a Custom Streaming Source</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-batch-source">Adding Batching to a Custom Source</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Processing Data</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/transforms">Transforms</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-aggregate-operation">Building a Custom Aggregate Operation</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/python">Apply a Custom Transform with Python</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Sending Results to Sinks</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/sending-data-to-sinks">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-sink">Create a Custom Sink</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Stream Processing</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/building-pipelines">About Stream Processing Pipelines</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/windowing">Apply Windowed Aggregation</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/stream-imap">Subscribe to Changes to a Map</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/map-join">Enrich a Stream</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/grpc">Mapping Data in a Pipeline Using a a gRPC Service</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/cdc-overview">Change Data Capture (CDC)</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc-database-setup">Setting Up a Database for Change Data Capture</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc">Capture Changes from MySQL</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc-postgres">Capture Changes from PostgreSQL</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc-join">Join Change Data Capture Records</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/etl-overview">Extract Transform Load (ETL)</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/kafka">Connect to Apache Kafka</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/kinesis">Connect to Amazon Kinesis</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/pulsar">Group Messages from Apache Pulsar</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/serialization">Serializing Pipelines</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/configuring-jobs">Configuring Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-security">Securing Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/submitting-jobs">Submitting Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-management">Managing Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-monitoring">Monitoring Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-update">Updating Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/xa">Testing Sources and Sinks for XA Transaction Support</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">SQL</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/sql-overview">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over Maps</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/get-started-sql">Tutorial</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/querying-maps-sql">Queries</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-maps">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over Kafka</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/learn-sql">Tutorial</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-kafka">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over File Systems</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/get-started-sql-files">Tutorial</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-a-file-system">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over JDBC</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-jdbc">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over MongoDB</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-mongo">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/working-with-json">Working with JSON</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/querying-streams">Stream Processing</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/parameterized-queries">Query Parameters</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/finding-mappings">Finding Mappings</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/improving-performance">Improving Performance</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/sql-reflection-configuration">Reflection Configuration</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/troubleshooting">Troubleshooting</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Statements</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/sql-statements">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/alter-job"><code>ALTER JOB</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-data-connection"><code>CREATE DATA CONNECTION</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-index"><code>CREATE INDEX</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-job"><code>CREATE JOB</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-mapping"><code>CREATE MAPPING</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-snapshot"><code>CREATE SNAPSHOT</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-view"><code>CREATE VIEW</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/delete"><code>DELETE</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-data-connection"><code>DROP DATA CONNECTION</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-job"><code>DROP JOB</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-mapping"><code>DROP MAPPING</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-snapshot"><code>DROP SNAPSHOT</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-view"><code>DROP VIEW</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/explain"><code>EXPLAIN</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/sink-into"><code>INSERT INTO</code>/<code>SINK INTO</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/select"><code>SELECT</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/show-jobs"><code>SHOW JOBS</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/show-resources"><code>SHOW RESOURCES</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/show-mappings"><code>SHOW MAPPINGS</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/update"><code>UPDATE</code></a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/functions-and-operators">Functions and Expressions</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/data-types">SQL Data Types</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/user-defined-types">User-Defined Types in SQL</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Optimizing SQL queries</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/partition-pruning">Partition Pruning</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../query/predicate-overview">Predicates API</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../query/predicate-overview">Predicates API</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Improving Query Performance</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../query/indexing-maps">Indexing Maps</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../performance/caching-deserialized-values">Caching Deserialized Values</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/preventing-out-of-memory">Preventing Out of Memory Exceptions when Querying a Map</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Java Executor Service</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../computing/executor-service">Java Executor Service</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../computing/durable-executor-service">Durable Executor Service</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../computing/scheduled-executor-service">Scheduled Executor Service</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clusters/user-code-namespaces">User Code Namespaces</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-enable">Enable User Code Namespaces</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-static-config">Static Configuration</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-member-side">Member Configuration</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-data-structures">Data Structures</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-static-programmatic">Programmatic Configuration</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-dynamic-config">Dynamic Configuration API</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-dynamic-client">Configure Client</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-non-associated">Non-associated Namespaces</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-security">Security</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/ucn-migrate-ucd">Migrate from User Code Deployment</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/legacy-ucd">User Code Deployment</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/deploying-code-on-member">Deploying User Code on the Member</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/deploying-code-from-clients">Deploying User Code from Clients</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/accessing-domain-objects">Accessing Domain Objects Without Domain Classes</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Serialization</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/serialization">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/compact-serialization">Compact Serialization</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../compact-binary-specification">Compact Serialization Binary Specification</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/serializing-json">HazelcastJsonValue</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/custom-serialization">Custom Serialization</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Other Serialization Options</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-identifieddataserializable">IdentifiedDataSerializable</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-dataserializable">DataSerializable</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-java-serializable">Java Serializable and Externalizable</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-portable-serialization">Portable</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/global-serializer">Global Serializer</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-hazelcastinstanceaware">HazelcastInstanceAware</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/serialization-configuration">Configuring Serializers</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Listening to Events</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/distributed-events">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/cluster-events">Cluster Events</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/event-listeners-for-clients">Event Listeners for Hazelcast Clients</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/global-event-configuration">Global Event Configuration</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/object-events">Distributed Object Events</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Transactions</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../transactions/creating-a-transaction-interface">Creating a Transaction Interface</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../transactions/providing-xa-transactions">Providing XA Transactions</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Testing Applications</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../test/testing-apps">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../test/testing">Testing Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../simulator">Hazelcast Simulator</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Troubleshooting</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/troubleshooting">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/error-handling">Error Handling Strategies for Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/remedies-for-alerts">Actions and Remedies for Alerts</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/recovery-members">Recovery from a Partial or Total Failure</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/recovery-clients">Recovery from Client Connection Failures</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../common-exception-types">Common Exception Types</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Operate &amp; manage</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Configuration</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../configuration/understanding-configuration">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Static Configuration</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-declaratively">Member Configuration Files</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-programmatically">Configuring Hazelcast in Embedded Mode</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-with-system-properties">System Props and Environment Variables</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/jvm-parameters">JVM Parameters</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-within-spring">Configuring Hazelcast in Spring</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/pattern-matcher">Configuration Pattern Matcher</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/using-wildcards">Using Wildcards</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Dynamic Configuration</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config-programmatic-api">Programmatic API</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config-update-and-reload">Update and Reload with REST</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config-persistence">Configuration Options</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../phone-homes">Phone Homes</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../maintain-cluster/logging">Configuring Logging</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Maintaining a Cluster</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/rolling-upgrades">Rolling Upgrades</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/monitoring">Monitoring</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/cluster-member-states">Cluster and Member States</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/member-attributes">Filtering Members with Attributes</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/lite-members">Lite Members</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/shutdown">Shutting Down</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../management/cluster-utilities">Cluster Utilities</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Partition Groups and Networking</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/creating-clusters">Grouping Clusters</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/partition-group-configuration">Grouping Partitions</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/network-configuration">Networking</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../configuration/jet-configuration">Configuring the Jet Engine</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Securing a Cluster</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/overview">Security Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../secure-cluster/security-defaults">Security Defaults</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../secure-cluster/hardening-recommendations">Security Hardening Recommendations</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/enabling-jaas">Enabling JAAS Security</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">TLS/SSL</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/tls-ssl">TLS/SSL Basics</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/integrating-openssl">Integrating OpenSSL / BoringSSL</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/tls-configuration">Other TLS-Related Configurations</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Authentication Types</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/default-authentication">Default authentication</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/simple-authentication">Simple Authentication</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/jaas-authentication">JAAS authentication</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/security-realms">Security Realms</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/cluster-member-security">Cluster Member Security</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/native-client-security">Client Security</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/socket-interceptor">Socket Interceptor</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/security-interceptor">Security Interceptor</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Advanced Security Features</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/logging-auditable-events">Logging Auditable Events</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/validating-secrets">Validating Secrets Using Strength Policy</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/fips-140-2">FIPS 140-2</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/security-debugging">Security Debugging</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/encryption">Encryption</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Configuring for Fault Tolerance</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../fault-tolerance/backups">Backups</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Persistence</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/persistence">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/configuring-persistence">Configuration</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/backing-up-persistence">Backups</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/triggering-force-start">Force-start</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/triggering-partial-start">Partial-start</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/persistence-on-intel">Intel Optane DC</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/copying-persistence">Copying Data</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/performance">Performance Benchmark</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/persistence-design">Design Details</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Detecting Failures</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/failure-detector-configuration">Failure Detectors</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/deadline-detector">Deadline Failure Detector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/phi-accrual-detector">Phi Accrual Failure Detector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ping-detector">Ping Failure Detector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../fault-tolerance/timeouts">Connection Timeouts</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../fault-tolerance/fault-tolerance">Fault Tolerance for Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Handling Network Partitions</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../network-partitioning/network-partitioning">Network Partitioning</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../network-partitioning/partial-network-partitions">Partial Network Partitions</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../network-partitioning/dealing-with-network-partitions">Dealing with Network Partitions</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../network-partitioning/split-brain-protection">Split-Brain Protection</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../network-partitioning/split-brain-recovery">Split-Brain Recovery</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../storage/high-density-memory">High-Density Memory Store</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">CP Subsystem</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/cp-subsystem">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/configuration">Configuration</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/management">Management</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/best-practices">Best Practices</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Synchronizing Data Across Clusters</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="wan">WAN Replication Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="modes">WAN Replication Modes</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="quick-start">WAN Quickstart</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="defining-wan-replication">Configuring WAN Replication</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="configuring-for-map-and-cache">Configuring for IMap and ICache</a>
              </li>
      <li class="nav-item is-current-page" data-depth="2">
            <a class="nav-link

            " href="advanced-features">Advanced Features</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="tuning">Fine-Tuning WAN Replication</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="failures">Failure Detection and Recovery</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="rest-api">REST API for WAN Wrap-Up</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../cluster-performance/thread-per-core-tpc">Thread-Per-Core (TPC)</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Tiered Storage</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/overview">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/capacity-planning">Capacity Planning</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/configuration">Configuration</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/compactor">Compactor</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/performance">Performance</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/troubleshooting">Troubleshooting</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../extending-hazelcast/extending-hazelcast">Extending Hazelcast</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../extending-hazelcast/operationparker">OperationParker</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../extending-hazelcast/discovery-spi">Discovery SPI</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../extending-hazelcast/config-properties-spi">Config Properties SPI</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../osgi/osgi">OSGI</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/osgi-support">OSGI Support</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/api">API</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/configuring-osgi-support">Configuring Hazelcast OSGI Support</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/design">Design</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/using-osgi-service">Using Hazelcast OSGI Service</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Integrate</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/connectors">Overview</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Integrate with Spring</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/overview">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/configuration">Configuring Hazelcast in Spring</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/springaware">Enabling SpringAware Objects</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/add-caching">Adding Caching to Spring</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/hibernate">Configuring Hibernate Second-Level Cache</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/transaction-manager">Configuring Hazelcast Transaction Manager</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/best-practices">Spring Best Practices</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Messaging System Connectors</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/messaging-system-connectors">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/kafka-connector">Apache Kafka Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/kinesis-connector">Amazon Kinesis Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/jms-connector">JMS Message Queue Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/database-connectors">Database &amp; CDC Connectors</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/jdbc-connector">JDBC Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/cdc-connectors">CDC Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/elasticsearch-connector">Elasticsearch Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/mongodb-connector">MongoDB Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">File Connectors</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/file-connector">Unified File Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/legacy-file-connector">Legacy File Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Hazelcast Data Structure Connectors</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/map-connector">Map Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/jcache-connector">JCache Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/list-connector">List Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/map-connector">Map Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/reliable-topic-connector">Reliable Topic Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/kafka-connect-connectors">Kafka Connect Source Connectors</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/socket-connector">Socket Connector</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/test-connectors">Test Source Connectors</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/custom-connectors">Custom Connectors</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Clients &amp; APIs</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/hazelcast-clients">Overview</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/java">Java Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/cplusplus">C++ Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/dotnet">.NET Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../maintain-cluster/enterprise-rest-api">REST API</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/rest-api">Community Edition REST API</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/memcache">Memcache Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/python">Python Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/nodejs">Node.js Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/go">Go Client</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Tools &amp; plugins</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../management-center">Management Center</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../kubernetes/deploying-in-kubernetes#hazelcast-platform-operator-for-kubernetesopenshift">Platform Operator</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/clc">Command Line Client (CLC)</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../simulator">Simulator</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../plugins/hazelcast-plugins">Hazelcast Plugins</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/cloud-discovery">Cloud Discovery Plugins</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/web-session-replication">Web Session Replication Plugins</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/framework-integration">Framework Integration Plugins</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/other-integrations">Other Integrations</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Reference</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../glossary">Glossary</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../system-properties">System Properties</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../faq">Frequently Asked Questions</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../list-of-metrics">Metrics</a>
              </li>
  </ul>
      </li>
  </ul>
    </nav>
  </div>
    </div>
  </aside>
</div>
<div id="hide-nav">
  <button>
    <span>
      ᐸ
    </span>
  </button>
</div>
  <main class="article">
    <div class="article-banner prerelease" id="latest-banner">
      <div class="prerelease">
        <p>A newer version of Hazelcast Platform is available.</p>
        <a class="btn" href="../../5.5/wan/advanced-features">View latest</a>
      </div>
            <button onclick="closeBanner()" style="color:white; font-size: 2em; background:none; border:none; align-self: flex-start;">&times;</button>
    </div>
  <div class="content">
    <article class="doc">
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../">Platform</a></li>
    <li>Operate &amp; manage</li>
    <li>Synchronizing Data Across Clusters</li>
    <li><a href="advanced-features">Advanced Features</a></li>
  </ul>
</nav>
    <button class="nav-toggle"></button>
      <h1 class="page enterprise">Advanced Features</h1>
    <div class="page-versions">
    <button class="version-menu-toggle" title="Show other versions of page">Version 5.4</button>
    <div class="version-menu">
          <a class="version" href="../../6.0-snapshot/wan/advanced-features">6.0-SNAPSHOT</a>
          <a class="version" href="../../5.5/wan/advanced-features">5.5</a>
          <a class="version is-current" href="advanced-features">5.4</a>
          <a class="version" href="../../5.3/wan/advanced-features">5.3</a>
          <a class="version" href="../../5.2/wan/advanced-features">5.2</a>
          <a class="version" href="../../5.1/wan/advanced-features">5.1</a>
          <a class="version" href="../../5.0/wan/advanced-features">5.0</a>
    </div>
  </div>
  <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This section provides information on how to do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#synchronizing-wan-clusters">Synchronize WAN Clusters</a></p>
</li>
<li>
<p><a href="#dynamically-adding-wan-publishers">Dynamically add WAN Publishers at runtime</a></p>
</li>
<li>
<p><a href="#event-filtering-api">Use the Event Filtering API for WAN replication events</a></p>
</li>
<li>
<p><a href="#implementing-a-custom-wan-publisher">Implement your own Custom WAN Publisher</a></p>
</li>
<li>
<p><a href="#customizing-wan-event-processing-on-passivetarget-cluster">Customize WAN event processing on target clusters</a></p>
</li>
<li>
<p><a href="#securing-the-connections-for-wan-replication">Secure connections used for WAN replication</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synchronizing-wan-clusters"><a class="anchor" href="#synchronizing-wan-clusters"></a>Synchronizing WAN Clusters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>WAN Replication creates a replica of data structure mutation events as they occur on
the source cluster. The events are queued up, collected in a batch
and sent to the target cluster to be applied, without any user interaction.</p>
</div>
<div class="paragraph">
<p>However, Hazelcast clusters connected over WAN may become out-of-sync for various reasons,
including but not limited to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Member failures</p>
</li>
<li>
<p>Concurrent updates</p>
</li>
<li>
<p>Target cluster starts with no data</p>
</li>
<li>
<p>Target cluster experiences issues that result in the failure of one or more operations</p>
</li>
<li>
<p>Two sides disconnect and the in-memory buffer of the source
cluster becomes full (the behavior in this case is <a href="tuning#queue-full-behavior" class="xref page">configurable</a>)</p>
</li>
<li>
<p>The WAN link cannot keep up with a burst experienced by the source cluster
and its in-memory buffer gets full (the behavior in this case is <a href="tuning#queue-full-behavior" class="xref page">configurable</a>)</p>
</li>
<li>
<p>Split-brain scenario in source clusters where both brains can
still communicate with WAN target clusters</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As well as failures such as the examples above, data can become out-of-sync
after manual interventions such as cluster restarts or failover of one cluster
to another (for example disaster recovery). <strong>After any such situation, you are
advised to synchronize all WAN replicated data</strong>.</p>
</div>
<div class="paragraph">
<p>To overcome this out-of-sync issue, you can use either of the following approaches
to synchronize your WAN replicated clusters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Full synchronization</p>
</li>
<li>
<p>Delta synchronization</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These approaches are described in the following sections.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="synchronizing-wan-target-cluster"><a class="anchor" href="#synchronizing-wan-target-cluster"></a>Full WAN Synchronization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Full WAN synchronization sends all the data of an IMap to a target cluster to align the state of target IMap with source IMap.
It is useful if two remote clusters lost their synchronizations due to overflow in the WAN queue or in restart scenarios.
This is the default synchronization option.</p>
</div>
<div class="paragraph">
<p>Full WAN Synchronization can be initiated through
<a href="../../../management-center/5.4/clusters/wan-replication#wan-sync" class="xref page">Management Center</a> and
Hazelcast&#8217;s REST API.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="title">Deprecation Notice for the REST API</div>
<div class="paragraph">
<p>The REST API has been deprecated and will be removed as of Hazelcast version 7.0. An improved version of this feature is under development.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Below is the URL for the REST call;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">http://{member IP address:port}/hazelcast/rest/wan/sync/map</code></pre>
</div>
</div>
<div class="paragraph">
<p>You need to add URL-encoded parameters to the request in the following order separated by "&amp;";</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cluster name</p>
</li>
<li>
<p>Cluster password</p>
</li>
<li>
<p>Name of the WAN replication configuration</p>
</li>
<li>
<p>WAN replication publisher ID/target cluster name</p>
</li>
<li>
<p>Map name to be synchronized</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Assume that you have configured an IMap with a WAN replication configuration as follows:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset1_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  wan-replication name: london-wan-rep
    batch-publisher:
      cluster-name: istanbul
  map:
    my-map:
      wan-replication-ref:
        london-wan-rep:
          merge-policy: com.hazelcast.spi.merge.PassThroughMergePolicy</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;wan-replication name="london-wan-rep"&gt;
        &lt;batch-publisher&gt;
            &lt;cluster-name&gt;istanbul&lt;/cluster-name&gt;
        &lt;/batch-publisher&gt;
    &lt;/wan-replication&gt;
    &lt;map name="my-map"&gt;
        &lt;wan-replication-ref name="london-wan-rep"&gt;
            &lt;merge-policy&gt;com.hazelcast.spi.merge.PassThroughMergePolicy&lt;/merge-policy&gt;
        &lt;/wan-replication-ref&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Then, an example curl command to initiate the synchronization for "my-map" would be as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">curl -X POST -d "{clusterName}&amp;{clusterPassword}&amp;london-wan-rep&amp;istanbul&amp;my-map" --URL http://127.0.0.1:5701/hazelcast/rest/wan/sync/map</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also synchronize all maps in the source and target clusters.
In that case, the curl command using the above parameters becomes as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">curl -X POST -d "{clusterName}&amp;{clusterPassword}&amp;london-wan-rep&amp;istanbul" --URL http://127.0.0.1:5701/hazelcast/rest/wan/sync/allMaps</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Synchronization for a target cluster operates only with
the data residing in the memory. Therefore, evicted entries are not
synchronized, not even if <code>MapLoader</code> is configured.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="delta-wan-synchronization"><a class="anchor" href="#delta-wan-synchronization"></a>Delta WAN Synchronization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As explained in the previous section, the default <a href="#synchronizing-wan-target-cluster">Full WAN Synchronization</a> feature
synchronizes  the maps in different clusters by transferring all the entries from the source to the target cluster.
This may be not efficient since some of the entries have remained unchanged on both clusters and
do not require to be transferred. Also, for the entries to be transferred, they need to be copied to
on-heap on the source cluster. This may cause spikes in the heap usage, especially if using large off-heap stores.</p>
</div>
<div class="paragraph">
<p>In addition to the default Full WAN Synchronization, Hazelcast provides Delta WAN Synchronization which uses
<a href="https://en.wikipedia.org/wiki/Merkle_tree" target="_blank" rel="noopener">Merkle tree</a> for the same purpose.
It is a data structure used for efficient comparison of the difference in the contents of large data structures.
The precision of this comparison is defined by Merkle tree&#8217;s depth.
Merkle tree hash exchanges can detect inconsistencies in the map data and
synchronize only the different entries when using WAN synchronization, instead of sending all the map entries.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Currently, Delta WAN Synchronization is implemented only for Hazelcast IMap.
It will be implemented also for ICache in the future releases.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="requirements-for-delta-wan-sync"><a class="anchor" href="#requirements-for-delta-wan-sync"></a>Requirements</h3>
<div class="paragraph">
<p>To be able to use Delta WAN synchronization, the following must be met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Source and target cluster versions must be at least Hazelcast 4.0.</p>
</li>
<li>
<p>Both clusters must have the same number of partitions.</p>
</li>
<li>
<p>Both clusters must use the same partitioning strategy.</p>
</li>
<li>
<p>Both clusters must have the Merkle tree structure enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="using-delta-wan-synchronization"><a class="anchor" href="#using-delta-wan-synchronization"></a>Using Delta WAN Synchronization</h3>
<div class="paragraph">
<p>To be able to use Delta WAN synchronization for a Hazelcast data structure:</p>
</div>
<div class="paragraph">
<p>1 - Configure the WAN synchronization mechanism for your WAN publisher so that
it uses the Merkle tree: If configuring declaratively, you can use the <code>consistency-check-strategy</code> sub-element of
the <code>sync</code> element. If configuring programmatically, you can use the setter of the
<a href="https://docs.hazelcast.org/docs/5.4.1/javadoc/com/hazelcast/config/WanSyncConfig.html" target="_blank" rel="noopener">WanSyncConfig</a> object.
Here is a declarative example:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset2_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  wan-replication:
    wanReplicationScheme:
      batch-publisher:
        cluster-name: clusterName
        sync:
          consistency-check-strategy: MERKLE_TREES</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
     &lt;wan-replication name="wanReplicationScheme"&gt;
        &lt;batch-publisher&gt;
            &lt;cluster-name&gt;clusterName&lt;/cluster-name&gt;
            &lt;sync&gt;
                &lt;consistency-check-strategy&gt;MERKLE_TREES&lt;/consistency-check-strategy&gt;
            &lt;/sync&gt;
        &lt;/batch-publisher&gt;
    &lt;/wan-replication&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>2 - Bind that WAN synchronization configuration to the data structure (currently IMap):
Simply set the WAN replication reference of your map to the name of the WAN replication
configuration which uses the Merkle tree.
Here is a declarative example:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset3_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset3_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset3_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  map:
    myMap:
      wan-replication-ref:
        wanReplicationScheme:
          ...</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="myMap"&gt;
        &lt;wan-replication-ref name="wanReplicationScheme"&gt;
          ...
        &lt;/wan-replication-ref&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>3 - Finally, configure the Merkle tree using the <code>merkle-tree</code> element which is contained
in the <code>map</code> configuration:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset4_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset4_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset4_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  map:
    myMap:
      merkle-tree:
        enabled: true
        depth: 5</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset4_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="myMap"&gt;
        &lt;merkle-tree enabled="true"&gt;
            &lt;depth&gt;5&lt;/depth&gt;
        &lt;/merkle-tree&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>You can programmatically configure it, too, using the
<a href="https://docs.hazelcast.org/docs/5.4.1/javadoc/com/hazelcast/config/MerkleTreeConfig.html" target="_blank" rel="noopener">MerkleTreeConfig</a> object.</p>
</div>
<div class="paragraph">
<p>Here is the full declarative configuration example showing how to
enable Delta WAN Synchronization, bind it to a Hazelcast data structure (an IMap in this case) and specify its depth:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset5_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset5_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset5_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  map:
    myMap:
      wan-replication-ref:
        wanReplicationScheme:
          ...
      merkle-tree:
        enabled: true
        depth: 10
  wan-replication:
    wanReplicationScheme:
      batch-publisher:
        cluster-name: clusterName
        sync:
          consistency-check-strategy: MERKLE_TREES</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset5_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="myMap"&gt;
        &lt;wan-replication-ref name="wanReplicationScheme"&gt;
            ...
        &lt;/wan-replication-ref&gt;
        &lt;merkle-tree enabled="true"&gt;
            &lt;depth&gt;10&lt;/depth&gt;
        &lt;/merkle-tree&gt;
    &lt;/map&gt;

    &lt;wan-replication name="wanReplicationScheme"&gt;
        &lt;batch-publisher&gt;
            &lt;cluster-name&gt;clusterName&lt;/cluster-name&gt;
            &lt;sync&gt;
                &lt;consistency-check-strategy&gt;MERKLE_TREES&lt;/consistency-check-strategy&gt;
            &lt;/sync&gt;
        &lt;/batch-publisher&gt;
    &lt;/wan-replication&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Here, the element <code>consistency-check-strategy</code> sets the strategy for
checking the consistency of data between the source and target clusters.
You must initiate the WAN synchronization (via Management Center or REST API as explained in
<a href="#synchronizing-wan-target-cluster">Synchronizing WAN clusters</a>) to let this strategy reconcile the inconsistencies.
The element <code>consistency-check-strategy</code> has currently two values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NONE</code>: Means that there are no consistency checks. This is the default value.</p>
</li>
<li>
<p><code>MERKLE_TREES</code>: Means that WAN synchronization uses Merkle tree structure.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Merkle tree structure is enabled using its <code>enabled</code> attribute (default is <code>true</code>).
Its  <code>depth</code> element specifies the depth of Merkle tree. Valid values are between 2 and 27 (exclusive).
Its default value is <code>10</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A larger depth means that a data synchronization mechanism is able to pinpoint a smaller subset of
the data structure (e.g., IMap) contents in which a change has occurred.
This causes the synchronization mechanism to be more efficient.
However, keep in mind that a large depth means that the Merkle tree will consume more memory.
As the comparison mechanism is iterative, a larger depth also prolongs the comparison duration.
Therefore, it is recommended not to have large tree depths if the latency of the comparison operation is high.</p>
</li>
<li>
<p>A smaller depth means that the Merkle tree is shallower and the data synchronization mechanism transfers
larger chunks of the data structure (e.g., IMap) in which a possible change has happened.
As you can imagine, a shallower Merkle tree will consume less memory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Also see the <a href="#defining-the-depth">Defining the Depth section</a> for more insights.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you do not specifically configure the <code>merkle-tree</code> in your
Hazelcast configuration, Hazelcast uses the default Merkle tree structure values
(i.e., it is enabled by default and its default depth is 10) when there is a WAN publisher using
the Merkle tree (i.e., <code>consistency-check-strategy</code> for a WAN replication configuration is set as
<code>MERKLE_TREES</code> and there is a data structure using that WAN replication configuration).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Merkle trees are created for each partition holding IMap data.
Therefore, increasing the partition count also
increases the efficiency of the Delta WAN Synchronization.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="the-process"><a class="anchor" href="#the-process"></a>The Process</h4>
<div class="paragraph">
<p>Synchronizing the maps based on Merkle trees consists of two phases:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>Consistency check</em>: Process of exchanging and comparing the hashes stored in the Merkle tree structures in the
source and target clusters. The check starts with the root node and continues recursively with the children with different
hash codes. Both sides send the children of the nodes that the other side sent, hence the comparison is done by <code>depth/2</code>
steps. After this check, the tree leaves holding different entries are identified.</p>
</li>
<li>
<p><em>Synchronization</em>: Process of transferring the entries belong to the leaves identified by the <em>consistency
check</em> from the source to target cluster. On the target cluster the configured merge policy is applied for each entry that
is in both the source and target clusters.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you only need the differences between the clusters, you can trigger the consistency check without performing
synchronization.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The two phases of the Merkle tree based synchronization can be triggered by the REST calls, as it can be done with the
full synchronization.</p>
</div>
<div class="paragraph">
<p>The URL for the consistency check REST call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">http://{member IP address:port}/hazelcast/rest/wan/consistencyCheck/map</code></pre>
</div>
</div>
<div class="paragraph">
<p>The URL for the synchronization REST call - the same as it is for the default synchronization:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">http://{member IP address:port}/hazelcast/rest/wan/sync/map</code></pre>
</div>
</div>
<div class="paragraph">
<p>See the REST call details <a href="rest-api#synchronizing-the-clusters" class="xref page">here</a>.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="title">Deprecation Notice for the REST API</div>
<div class="paragraph">
<p>The REST API has been deprecated and will be removed as of Hazelcast version 7.0. An improved version of this feature is under development.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="memory-consumption"><a class="anchor" href="#memory-consumption"></a>Memory Consumption</h4>
<div class="paragraph">
<p>Since Merkle trees are built for each partition and each map, the memory overhead of the trees with high entry count and deep
trees can be significant. The trees are maintained on-heap, therefore - besides the memory consumption - garbage collection could be another
concern.</p>
</div>
<div class="paragraph">
<p>The table below shows a few examples for what the memory overhead could be.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Merkle trees memory overhead for a member, for one map</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Partitions Owned</th>
<th class="tableblock halign-left valign-top">Depth</th>
<th class="tableblock halign-left valign-top">Memory Overhead</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">271</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.27 MB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">271</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 MB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">271</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 MB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">271</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">68 MB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5009</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 MB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5009</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 MB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5009</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">157 MB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5009</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1252 MB</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="defining-the-depth"><a class="anchor" href="#defining-the-depth"></a>Defining the Depth</h4>
<div class="paragraph">
<p>The efficiency of the Delta WAN Synchronization (WAN synchronization based on Merkle trees) is determined by the average number of entries per the tree
leaves that is proportionate to the number of entries in the map. The bigger this average, the more entries are getting
synchronized for the same difference. Raising the depth decreases this average at the cost of increasing the memory overhead.</p>
</div>
<div class="paragraph">
<p>This average can be calculated for a map as <code>avgEntriesPerLeaf = mapEntryCount / totalLeafCount</code>, where <code>totalLeafCount =
partitionCount * 2<sup>depth-1</sup></code>. The ideal value is 1, however this may come at significant memory overhead as shown in the
table above.</p>
</div>
<div class="paragraph">
<p>In order to specify the tree depth, a trade-off between memory consumption and effectiveness might be needed.</p>
</div>
<div class="paragraph">
<p>Even if the map is huge and the Merkle trees are configured to be relatively shallow, the Merkle tree based synchronization
may be leveraged if only a small subset of the whole map is expected to be synchronized. The table below illustrates the
efficiency of the Merkle tree based synchronization compared to the default synchronization mechanism.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Efficiency examples</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Map entry count</th>
<th class="tableblock halign-left valign-top">Depth</th>
<th class="tableblock halign-left valign-top">Memory consumption</th>
<th class="tableblock halign-left valign-top">Avg entries / leaf</th>
<th class="tableblock halign-left valign-top">Difference count</th>
<th class="tableblock halign-left valign-top">Entries synced</th>
<th class="tableblock halign-left valign-top">Efficiency</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">39 MB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">78 MB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 MB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">150%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 MB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10K</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">160K</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6150%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">78 MB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10K</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10K</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">99900%</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>Difference count</code> column shows the number of the entries different in the source and the target clusters.
This is the minimum number of the entries that need to be synchronized to make the clusters consistent. The <code>Entries synced</code>
column shows how many entries are synchronized in the given case, calculated as <code>Entries synced</code> = <code>Difference count</code>
* <code>Avg entries / leaf</code>.</p>
</div>
<div class="paragraph">
<p>As shown in the last two rows, the Merkle tree based synchronization transfers significantly fewer entries than what the
default mechanism does even with 8 deep trees. The efficiency with depth 12 is even better but consumes much more memory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The averages in the table are calculated with 5009 partitions.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The average entries per leaf number above assumes perfect distribution of the entries amongst the leaves. Since this is
typically not true in real-life scenarios the efficiency can be slightly worse. The statistics section below describes how to
get the actual average for the leaves involved in the synchronization.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="wan-synchronization-statistics"><a class="anchor" href="#wan-synchronization-statistics"></a>WAN Synchronization Statistics</h3>
<div class="paragraph">
<p>Both Full and Delta WAN Synchronization processes write statistics into the
<a href="../maintain-cluster/monitoring#diagnostics" class="xref page">diagnostics</a> subsystem and send them to Hazelcast Management
Center. Using these statistics you can measure the efficiency of your configuration.</p>
</div>
<div class="paragraph">
<p>Full WAN Synchronization reports the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Duration of the synchronization</p>
</li>
<li>
<p>Count of the synchronized entries</p>
</li>
<li>
<p>Total count of the synchronized partitions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is an example output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">Synchronization statistics:
  Synchronization UUID: 8af2f9e7-3f9f-4c31-b594-47c421bfb33c
  Duration: 0 secs
  Total records synchronized: 448
  Total partitions synchronized: 5</code></pre>
</div>
</div>
<div class="paragraph">
<p>Delta WAN Synchronization reports the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Duration of the synchronization</p>
</li>
<li>
<p>Count of the synchronized entries</p>
</li>
<li>
<p>Total count of the synchronized partitions</p>
</li>
<li>
<p>Merkle tree nodes checked</p>
</li>
<li>
<p>Merkle tree nodes found to be different</p>
</li>
<li>
<p>Count of the entries needed to be synchronized to make the clusters consistent</p>
</li>
<li>
<p>Average count of entries per tree leaves in the synchronized leaves</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is an example output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">Merkle synchronization statistics:
  Synchronization UUID: f49a25ba-dc57-4547-817b-bea67ff7f0fe
  Duration: 0 secs
  Total records synchronized: 528
  Total partitions synchronized: 6
  Total Merkle tree nodes synchronized: 178
  Average records per Merkle tree node: 2.97
  StdDev of records per Merkle tree node: 1.55
  Minimum records per Merkle tree node: 1
  Maximum records per Merkle tree node: 7</code></pre>
</div>
</div>
<div class="paragraph">
<p>See the <a href="../maintain-cluster/monitoring#diagnostics" class="xref page">Diagnostics section</a> to learn how to enable
diagnostics and locate its log file to see the above statistics.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dynamically-adding-wan-publishers"><a class="anchor" href="#dynamically-adding-wan-publishers"></a>Dynamically Adding WAN Publishers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When running clusters for an extensive period, you might need to
dynamically change the configuration while the cluster is running.
This includes dynamically adding new WAN replication publishers (new target clusters) and
replicating the subsequent map and cache updates to the new publishers without any manual intervention.</p>
</div>
<div class="paragraph">
<p>You can add new WAN publishers to an existing WAN replication using
almost all the configuration options that are available when
configuring the WAN publishers in the static configuration (including using Discovery SPI).
The new configuration is not persisted but it is replicated to all existing and new members.
Once the cluster is completely restarted, the dynamically added publisher configuration is lost and
the updates are not replicated to the target cluster anymore until added again.</p>
</div>
<div class="paragraph">
<p>To persist dynamic configuration changes, you can configure persistence for dynamic configuration. See <a href="../configuration/dynamic-config" class="xref page">Dynamic Configuration for Members</a></p>
</div>
<div class="paragraph">
<p>You cannot remove the existing configurations but can put the publishers into
a STOPPED state which prevents the WAN events from being enqueued in the WAN queues and
prevents the replication, rendering the publisher idle. The configurations also cannot be changed.</p>
</div>
<div class="paragraph">
<p>You can dynamically add a WAN publisher configuration using the
following REST call URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">http://{memberIPaddress:port}/hazelcast/rest/wan/addWanConfig</code></pre>
</div>
</div>
<div class="paragraph">
<p>You need to add the following URL-encoded parameters to the request in the following order separated by "&amp;";</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cluster name</p>
</li>
<li>
<p>Cluster password</p>
</li>
<li>
<p>WAN replication configuration, serialized as JSON</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can, at any point, even when maps and caches are concurrently mutated, add a new WAN publisher to
an existing WAN replication configuration.
The limitation is that there must be an existing WAN replication configuration but
it can be empty, without any publishers (target clusters).
For instance, this is an example of an XML configuration to which you can dynamically add new publishers:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset6_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset6_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset6_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  wan-replication:
    myWanReplication:
  map:
    myMap:
      wan-replication-ref:
        myWanReplication:
          merge-policy: com.hazelcast.spi.merge.PassThroughMergePolicy
          republishing-enabled: false</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset6_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;wan-replication name="myWanReplication"&gt;&lt;/wan-replication&gt;
    &lt;map name="my-map"&gt;
        &lt;wan-replication-ref name="myWanReplication"&gt;
            &lt;merge-policy&gt;com.hazelcast.spi.merge.PassThroughMergePolicy&lt;/merge-policy&gt;
            &lt;republishing-enabled&gt;false&lt;/republishing-enabled&gt;
       &lt;/wan-replication-ref&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Note that the map has defined WAN replication but there is no target cluster yet.
You can then add the new WAN replication publishers (target clusters) by
performing an HTTP POST as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">curl -X POST -d "clusterName&amp;clusterPassword&amp;{...}" --URL http://127.0.0.1:5701/hazelcast/rest/wan/addWanConfig</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can provide the full configuration as JSON as a parameter.
Any WAN configuration supported in the XML and programmatic configurations is also supported in this JSON format.
Below are some examples of JSON configuration for a WAN publisher using
the Discovery SPI and static IP configuration. Here are the integer values for <code>initialPublisherState</code>,
<code>queueFullBehavior</code> and <code>consistencyCheckStrategy</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>initialPublisherState</code>:</p>
<div class="ulist">
<ul>
<li>
<p>0: REPLICATING</p>
</li>
<li>
<p>1: PAUSED</p>
</li>
<li>
<p>2: STOPPED</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>queueFullBehavior</code>:</p>
<div class="ulist">
<ul>
<li>
<p>0: DISCARD_AFTER_MUTATION</p>
</li>
<li>
<p>1: THROW_EXCEPTION</p>
</li>
<li>
<p>2: THROW_EXCEPTION_ONLY_IF_REPLICATION_ACTIVE</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>consistencyCheckStrategy</code>:</p>
<div class="ulist">
<ul>
<li>
<p>0: NONE</p>
</li>
<li>
<p>1: MERKLE_TREES</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Below is an example using Discovery SPI (AWS configuration):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">{
   "name":"wanReplication",
   "batchPublishers":[
      {
         "clusterName":"tokyo",
         "queueCapacity":10000,
         "queueFullBehavior":0,
         "initialPublisherState":0,
         "discovery":{
            "nodeFilterClass":null,
            "discoveryStrategy":[
               {
                  "className":"com.hazelcast.aws.AwsDiscoveryStrategy",
                  "properties":{
                     "security-group-name":"hazelcast",
                     "tag-value":"cluster1",
                     "host-header":"ec2.amazonaws.com",
                     "tag-key":"aws-test-cluster",
                     "secret-key":"my-secret-key",
                     "iam-role":"s3access",
                     "access-key":"my-access-key",
                     "hz-port":"5701-5708",
                     "region":"us-west-1"
                  }
               }
            ]
         }
      }
   ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Below is an example with Discovery SPI (the new AWS configuration)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">{
   "name":"wanReplication",
   "batchPublishers":[
      {
         "clusterName":"tokyo",
         "queueCapacity":1000,
         "queueFullBehavior":0,
         "initialPublisherState":0,
         "aws":{
            "enabled":true,
            "usePublicIp":false,
            "properties":{
               "security-group-name":"hazelcast-sg",
               "tag-value":"hz-nodes",
               "host-header":"ec2.amazonaws.com",
               "tag-key":"type",
               "secret-key":"my-secret-key",
               "iam-role":"dummy",
               "access-key":"my-access-key",
               "region":"us-west-1"
            }
         },
         "sync":{
            "consistencyCheckStrategy":0
         }
      }
   ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Below is an example with static IP configuration (with some optional attributes):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">{
   "name":"wanReplication",
   "batchPublishers":[
      {
         "clusterName":"tokyo",
         "queueCapacity":1000,
         "queueFullBehavior":0,
         "initialPublisherState":0,
         "responseTimeoutMillis":5000,
         "targetEndpoints":"10.3.5.1:5701, 10.3.5.2:5701",
         "batchMaxDelayMillis":3000,
         "batchSize":50,
         "snapshotEnabled":false,
         "acknowledgeType":1,
         "sync":{
            "consistencyCheckStrategy":0
         }
      }
   ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Below is an XML configuration with two publishers and several (disabled) discovery strategy configurations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">{
   "name":"wanReplication",
   "batchPublishers":[
      {
         "clusterName":"tokyo",
         "queueCapacity":1000,
         "queueFullBehavior":0,
         "initialPublisherState":0,
         "aws":{
            "enabled":true,
            "usePublicIp":false,
            "properties":{
               "security-group-name":"hazelcast-sg",
               "tag-value":"hz-nodes",
               "host-header":"ec2.amazonaws.com",
               "tag-key":"type",
               "secret-key":"my-secret-key",
               "iam-role":"dummy",
               "access-key":"my-access-key",
               "region":"us-west-1"
            }
         },
         "gcp":{
            "enabled":false,
            "usePublicIp":true,
            "properties":{
               "gcp-prop":"gcp-val"
            }
         },
         "azure":{
            "enabled":false,
            "usePublicIp":true,
            "properties":{
               "azure-prop":"azure-val"
            }
         },
         "kubernetes":{
            "enabled":false,
            "usePublicIp":true,
            "properties":{
               "k8s-prop":"k8s-val"
            }
         },
         "eureka":{
            "enabled":false,
            "usePublicIp":true,
            "properties":{
               "eureka-prop":"eureka-val"
            }
         },
         "discovery":{
            "nodeFilterClass":null,
            "discoveryStrategy":[

            ]
         },
         "sync":{
            "consistencyCheckStrategy":0
         }
      },
      {
         "clusterName":"london",
         "queueCapacity":1000,
         "queueFullBehavior":0,
         "initialPublisherState":0,
         "responseTimeoutMillis":5000,
         "targetEndpoints":"10.3.5.1:5701, 10.3.5.2:5701",
         "batchMaxDelayMillis":3000,
         "batchSize":50,
         "snapshotEnabled":false,
         "acknowledgeType":1,
         "aws":{
            "enabled":false,
            "usePublicIp":false
         },
         "gcp":{
            "enabled":false,
            "usePublicIp":false
         },
         "azure":{
            "enabled":false,
            "usePublicIp":false
         },
         "kubernetes":{
            "enabled":false,
            "usePublicIp":false
         },
         "eureka":{
            "enabled":false,
            "usePublicIp":false
         },
         "discovery":{
            "nodeFilterClass":null,
            "discoveryStrategy":[

            ]
         },
         "sync":{
            "consistencyCheckStrategy":1
         }
      }
   ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="event-filtering-api"><a class="anchor" href="#event-filtering-api"></a>Event Filtering API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>WAN replication allows you to intercept WAN replication events before they are placed to
WAN event replication queues by providing a filtering API.
Using this API, you can monitor WAN replication events of each data structure
separately.</p>
</div>
<div class="paragraph">
<p>You can attach filters to your data structures using the <code>filter</code> element of
<code>wan-replication-ref</code> configuration inside <code>hazelcast.xml</code> as shown below.
You can also configure it using the programmatic configuration.</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset7_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset7_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset7_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  map:
    testMap:
      wan-replication-ref:
        test:
          filters:
            - com.example.MyFilter
            - com.example.MyFilter2</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset7_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="testMap"&gt;
        &lt;wan-replication-ref name="test"&gt;
            &lt;filters&gt;
                &lt;filter-impl&gt;com.example.MyFilter&lt;/filter-impl&gt;
                &lt;filter-impl&gt;com.example.MyFilter2&lt;/filter-impl&gt;
            &lt;/filters&gt;
        &lt;/wan-replication-ref&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>As shown in the above configuration, you can define more than one filter. Filters are called in the order that they are introduced.
A WAN replication event is only eligible to publish if it passes all the filters.</p>
</div>
<div class="paragraph">
<p>Map and Cache have different filter interfaces: <code>MapWanEventFilter</code> and
<code>CacheWanEventFilter</code>. Both of these interfaces have the method <code>filter</code> which takes the following parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mapName</code>/<code>cacheName</code>: Name of the related data structure.</p>
</li>
<li>
<p><code>entryView</code>: <a href="https://docs.hazelcast.org/docs/5.4.1/javadoc/com/hazelcast/core/EntryView.html" target="_blank" rel="noopener">EntryView</a>
or <a href="https://docs.hazelcast.org/docs/5.4.1/javadoc/com/hazelcast/cache/CacheEntryView.html" target="_blank" rel="noopener">CacheEntryView</a> depending on the data structure.</p>
</li>
<li>
<p><code>eventType</code>: Enum type - <code>UPDATED(1)</code>, <code>REMOVED(2)</code> or <code>LOADED(3)</code> - depending on the event.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>LOADED</code> events are filtered out and not replicated to target cluster.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="defining-custom-wr"><a class="anchor" href="#defining-custom-wr"></a>Implementing a Custom WAN Publisher</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to using the Hazelcast&#8217;s built-in WAN Replication implementation, you can implement your own replication mechanism using the WAN publisher SPI.</p>
</div>
<div class="paragraph">
<p>Following is the configuration snippet where <code>replicatedMap</code> and <code>replicatedCache</code> use the custom implementation
<code>com.my.WanPublisher</code> to replicate map and cache updates.</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset8_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset8_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset8_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  wan-replication:
    london-wan-rep:
      custom-publisher:
        publisher-id: myCustomPublisher
        class-name: com.my.WanPublisher
        properties:
          prop1: val1
          prop2: val2
  map:
    replicatedMap:
      wan-replication-ref:
        london-wan-rep:
          ...
  cache:
    replicatedCache:
      wan-replication-ref:
        london-wan-rep:
          ...</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset8_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;wan-replication name="london-wan-rep"&gt;
        &lt;custom-publisher&gt;
            &lt;publisher-id&gt;myCustomPublisher&lt;/publisher-id&gt;
            &lt;class-name&gt;com.my.WanPublisher&lt;/class-name&gt;
            &lt;properties&gt;
                &lt;property name="prop1"&gt;val1&lt;/property&gt;
                &lt;property name="prop2"&gt;val2&lt;/property&gt;
            &lt;/properties&gt;
        &lt;/custom-publisher&gt;
    &lt;/wan-replication&gt;

    &lt;map name="replicatedMap"&gt;
        &lt;wan-replication-ref name="london-wan-rep"/&gt;
        ...
    &lt;/map&gt;

    &lt;cache name="replicatedCache"&gt;
        &lt;wan-replication-ref name="london-wan-rep"/&gt;
        ...
    &lt;/cache&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>custom-publisher</code> is used to configure a custom implementation of a WAN replication implementing
<code>com.hazelcast.wan.WanPublisher</code>. For example, you might implement replication to Kafka or some JMS queue or even
write out map and cache event changes to a log on disk. It has the following sub-elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>class-name</code>: Mandatory configuration value defining the fully qualified class name of the
WAN publisher implementation. The class must implement <code>com.hazelcast.wan.WanPublisher</code>.</p>
</li>
<li>
<p><code>publisher-id</code>: Mandatory configuration value for the publisher ID used for identifying the
publisher in a <code>WanReplicationConfig</code>. This ID will be used to refer to this specific WAN publisher in
a certain WAN replication scheme.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In some cases, specifying the configuration on the source/active cluster is enough to fully implement your use case.
This is the case when you don&#8217;t have any target/passive Hazelcast cluster which consumes these events. In cases when
you do have a target Hazelcast cluster and you wish to use a custom WAN Replication implementation, you will need to
configure the target cluster as well. For example, you might want to implement WAN Replication by transmitting WAN events
through some JMS queue like ActiveMQ. In this case, you need to implement both your custom WAN publisher and WAN consumer.</p>
</div>
<div class="paragraph">
<p>Below is a configuration example for specifying a custom WAN replication consumer on the target/passive cluster:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset9_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset9_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset9_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  wan-replication:
    london-wan-rep:
      consumer:
        class-name: com.my.WanConsumer
        properties:
          prop1: val1
          prop2: val2</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset9_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;wan-replication name="london-wan-rep"&gt;
        &lt;consumer&gt;
            &lt;class-name&gt;com.my.WanConsumer&lt;/class-name&gt;
            &lt;properties&gt;
                &lt;property name="prop1"&gt;val1&lt;/property&gt;
                &lt;property name="prop2"&gt;val2&lt;/property&gt;
            &lt;/properties&gt;
        &lt;/consumer&gt;
    &lt;/wan-replication&gt;
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>consumer</code> is used to configure the implementation of the <code>com.hazelcast.wan.WanConsumer</code> interface
which will be used to retrieve and process WAN events. A custom WAN consumer allows you to
define custom processing logic and is used in combination with a custom WAN publisher.</p>
</div>
<div class="paragraph">
<p>The <code>consumer</code> configuration element has the following sub-elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>class-name</code>: Name of the class implementing a custom WAN consumer (<code>com.hazelcast.wan.WanConsumer</code>).</p>
</li>
<li>
<p><code>properties</code>: Properties for the custom WAN consumer. These properties are accessible when initializing the WAN consumer.
You can define the host, username and password for the host, name of the queue to be polled by the consumer, etc.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="customizing-wan-event-processing-on-passivetarget-cluster"><a class="anchor" href="#customizing-wan-event-processing-on-passivetarget-cluster"></a>Customizing WAN Event Processing on Passive/Target Cluster</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to customizing the behavior of the source cluster and how WAN events are sent and retained, you can also
configure some aspects of how WAN events are processed on the receiving (target/passive) cluster. In addition, you
can also define a custom implementation of a WAN event consumer. A custom WAN consumer allows you to define custom
processing logic and is usually used in combination with a custom WAN publisher. A custom consumer is optional and
you may simply omit defining it, which causes the default processing logic to be used. See the
<a href="#defining-custom-wr">Using the WAN Custom Publisher section</a> for more information.</p>
</div>
<div class="paragraph">
<p>Below you can see an example configuration of the target/passive cluster where we configure how incoming WAN events
are processed.</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset10_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset10_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset10_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  wan-replication:
    london-wan-rep:
      consumer:
        persist-wan-replicated-data: false
  map:
    replicatedMap:
      wan-replication-ref:
        london-wan-rep:
          ...
  cache:
    replicatedCache:
      wan-replication-ref:
        london-wan-rep:
          ...</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset10_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...

    &lt;wan-replication name="london-wan-rep"&gt;
        &lt;consumer&gt;
            &lt;persist-wan-replicated-data&gt;false&lt;/persist-wan-replicated-data&gt;
        &lt;/consumer&gt;
    &lt;/wan-replication&gt;

    &lt;map name="replicatedMap"&gt;
        &lt;wan-replication-ref name="london-wan-rep"/&gt;
        ...
    &lt;/map&gt;

    &lt;cache name="replicatedCache"&gt;
        &lt;wan-replication-ref name="london-wan-rep"/&gt;
        ...
    &lt;/cache&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In the configuration above, you can see that the WAN Replication configuration is again matched by WAN replication
scheme name to the exact map and cache configuration. This means that different structures can process WAN events
differently.</p>
</div>
<div class="paragraph">
<p>The processing behavior is configured using the <code>consumer</code> element. It has the following sub-elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>persist-wan-replicated-data</code>: When set to <code>true</code>, an incoming event over WAN replication can be persisted to a database for example, otherwise it is not persisted. Default value is <code>false</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="securing-wan-connections"><a class="anchor" href="#securing-wan-connections"></a>Securing the Connections for WAN Replication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can secure the communications between the endpoints on the WAN replicated clusters
using security features such as TLS/SSL, socket interceptor and encryption.
WAN connections, cluster members and clients can
have their own unique security configurations. You can also choose to have
security features configured on some of the WAN connections/members/clients and not on the others.</p>
</div>
<div class="paragraph">
<p>Multiple WAN endpoint configurations can be defined to configure the outgoing
connections and server sockets, depending on the role of the member in the WAN
replication. The configuration examples are provided in the following sections for
both active and passive side of the WAN replication.</p>
</div>
<div class="sect2">
<h3 id="configuring-the-wan-active-side"><a class="anchor" href="#configuring-the-wan-active-side"></a>Configuring the WAN Active Side</h3>
<div class="paragraph">
<p>The members on the active cluster initiate connections to the target cluster members,
so there is no need to create a server socket. A plain <code>EndpointConfig</code> is created that
supplies the configuration for the client side of connections that the active members
will create:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">        config.getAdvancedNetworkConfig().addWanEndpointConfig(
                new EndpointConfig().setName("tokyo")
                        .setSSLConfig(new SSLConfig()
                                            .setEnabled(true)
                                            .setFactoryClassName("com.hazelcast.examples.MySSLContextFactory")
                                            .setProperty("foo", "bar"))
        );
        WanReplicationConfig wanReplicationConfig = new WanReplicationConfig();
        WanBatchPublisherConfig publisherConfig = new WanBatchPublisherConfig()
        			.setEndpoint("tokyo")
        			.setTargetEndpoints("tokyo.hazelcast.com:8765");
        wanReplicationConfig.addBatchReplicationPublisherConfig(publisherConfig);
        config.addWanReplicationConfig(wanReplicationConfig);

        config.getMapConfig("customers").setWanReplicationRef(
                new WanReplicationRef("replicate-to-tokyo", "com.company.MergePolicy", emptyList(), false)
        );</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the equivalent declarative configuration:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset11_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset11_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset11_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  advanced-network:
    enabled: true
    wan-endpoint-config:
      endpoint-tokyo:
        ssl:
          enabled: true
          factory-class-name: com.hazelcast.examples.MySSLContextFactory
          properties:
            endpoints: tokyo.example.com:11010
  wan-replication:
    replicate-to-tokyo:
      batch-publisher:
        cluster-name: clusterB
        target-endpoints: ...
        endpoint: endpoint-tokyo
  map:
    customer:
      wan-replication-ref:
        replicate-to-tokyo:
          merge-policy-class-name: ...</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset11_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;advanced-network enabled="true"&gt;
        &lt;wan-endpoint-config name="tokyo"&gt;
            &lt;ssl enabled="true"&gt;
                &lt;factory-class-name&gt;com.hazelcast.examples.MySSLContextFactory&lt;/factory-class-name&gt;
                &lt;properties&gt;
                    &lt;property name="endpoints"&gt;tokyo.example.com:11010&lt;/property&gt;
                &lt;/properties&gt;
            &lt;/ssl&gt;
        &lt;/wan-endpoint-config&gt;
    &lt;/advanced-network&gt;
    ...
    &lt;wan-replication name="replicate-to-tokyo"&gt;
        &lt;batch-publisher&gt;
            &lt;cluster-name&gt;clusterB&lt;/cluster-name&gt;
            &lt;target-endpoints&gt;...&lt;/target-endpoints&gt;
            &lt;endpoint&gt;tokyo&lt;/endpoint&gt;
        &lt;/batch-publisher&gt;
    &lt;/wan-replication&gt;
    ...
    &lt;map name="customer"&gt;
        &lt;wan-replication-ref name="replicate-to-tokyo"&gt;
            &lt;merge-policy&gt;...&lt;/merge-policy&gt;
        &lt;/wan-replication-ref&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>wan-endpoint-config</code> element contains the same sub-elements as the
<code>member-server-socket-endpoint-config</code> element described
in the <a href="../clusters/network-configuration" class="xref page">Advanced Network Configuration section</a> except <code>port</code>, <code>public-address</code> and <code>reuse-address</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-the-wan-passive-side"><a class="anchor" href="#configuring-the-wan-passive-side"></a>Configuring the WAN Passive Side</h3>
<div class="paragraph">
<p>On the passive cluster, a server socket is configured on the members to listen
for the incoming WAN connections, matching the network configuration (SSL configuration,
etc.) configured on the active side of the WAN replication.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">        config.getAdvancedNetworkConfig().addWanEndpointConfig(
                new ServerSocketEndpointConfig()
                        .setName("tokyo")
                        .setPort(11010)
                        .setPortAutoIncrement(false)
                        .setSSLConfig(new SSLConfig()
                                .setEnabled(true)
                                .setFactoryClassName("com.hazelcast.examples.MySSLContextFactory")
                                .setProperty("foo", "bar")
                        ));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the equivalent declarative configuration:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset12_yaml"></a>YAML</p>
</li>
<li>
<p><a id="tabset12_xml"></a>XML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset12_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  advanced-network:
    enabled: true
    wan-server-socket-endpoint-config:
      tokyo:
        port:
          auto-increment: false
          port: 11010
        ssl:
          enabled: true
          factory-class-name: com.hazelcast.examples.MySSLContextFactory
        properties:
          foo: bar</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset12_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;advanced-network enabled="true"&gt;
        &lt;wan-server-socket-endpoint-config name="tokyo"&gt;
            &lt;port auto-increment="false"&gt;11010&lt;/port&gt;
            &lt;ssl enabled="true"&gt;
                &lt;factory-class-name&gt;com.hazelcast.examples.MySSLContextFactory&lt;/factory-class-name&gt;
                &lt;properties&gt;
                    &lt;property name="foo"&gt;bar&lt;/property&gt;
                &lt;/properties&gt;
            &lt;/ssl&gt;
        &lt;/wan-server-socket-endpoint-config&gt;
    &lt;/advanced-network&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="configuring-for-map-and-cache">Configuring for IMap and ICache</a></span>
  <span class="next"><a href="tuning">Fine-Tuning WAN Replication</a></span>
</nav>
</article>
    <div class="toc-container">
  <aside class="toc sidebar" data-title="Contents" data-levels="1">
    <div class="toc-menu"></div>
  </aside>
  <div class="feedback-prompt">
    <a class="edit-this-page feedback-button" href="https://github.com/hazelcast/hz-docs/edit/v/5.4/docs/modules/wan/pages/advanced-features.adoc" target="_blank">
      <span class="feedback-button-text git-pull">
        Edit this page
      </span>
    </a>
      <a class="additional-feedback feedback-button" href="https://github.com/hazelcast/hz-docs/issues/new?title=Docs: Feedback for Advanced Features&body=Hi, I have some feedback about [this page](https://github.com/hazelcast/hz-docs/edit/main/docs/modules/wan/pages/advanced-features.adoc)%0D%0A" target="_blank">
        <span class="feedback-button-text git">
          Report an issue
        </span>
      </a>
    <div class="feedback-form-container">
  <div id="helpful-feedback-widget" class="helpful-feedback">
    <span class="helpful-feedback-title">Was this helpful?</span>
    <div class="helpful-feedback-buttons">
      <label for="positive-feedback-starter" class="feedback-button yes-button">
        <img src="../../../_/img/thumbs-up.svg" alt="like" class="like-img"/>
        <input type="radio" id="positive-feedback-starter" value="yes"/>
      </label>
      <label for="negative-feedback-starter" class="feedback-button no-button">
        <img src="../../../_/img/thumbs-down.svg" alt="like" class="like-img"/>
        <input type="radio" id="negative-feedback-starter" value="no"/>
      </label>
    </div>
  </div>
  <p id="feedback-submit-success" class="feedback-submit-success hidden">
    Thank you for your feedback.
  </p>
</div>
<div id="feedback-overlay" class="overlay feedback-overlay">
  <div class="overlay-content feedback-overlay-content">
    <span id="close-feedback-overlay" class="close-overlay">&times;</span>
    <h2 class="feedback-overlay-title">Send us your feedback</h2>
    <p class="feedback-overlay-description">Thank you for helping us improve Hazelcast documentation.</p>
    <div>
      <form name="detailed-docs-feedback" id="feedback-form" netlify-honeypot="bot-field" method="POST"
            data-netlify="true">
        <p class="hidden">
          <label>Don’t fill this out if you’re human: <input name="bot-field"/></label>
        </p>
        <div id="positive-feedback-form-container"
             class="feedback-form-container positive-feedback-form-container hidden">
          <label for="yes" class="hidden">
            <input type="radio" id="yes" name="helpful" value="yes">
          </label>

          <label for="solved-my-problem-feedback" class="feedback-radio-button-label">
            <input type="radio" id="solved-my-problem-feedback" name="feedback" value="Solved my problem">
            <span class="feedback-description">
        <span class="radio-btn-title">
          Solved my problem
        </span>
          <span class="radio-btn-description">
          Helped me resolve an issue or answer a question.
        </span>
      </span>
          </label>
                <label for="accurate-radio-feedback" class="feedback-radio-button-label">
            <input type="radio" id="accurate-radio-feedback" name="feedback" value="Accurate"/>
            <span class="feedback-description">
              <span class="radio-btn-title">
                Accurate
              </span>
              <span class="radio-btn-description">
                Precisely describes the product or feature.
              </span>
            </span>
          </label>
          <label for="easy-to-understand" class="feedback-radio-button-label">
            <input type="radio" id="easy-to-understand" name="feedback" value="Easy to understand">
            <span class="feedback-description">
        <span class="radio-btn-title">
          Easy to understand
        </span>
        <span class="radio-btn-description">
          Well written and easy to follow.
        </span>
      </span>
          </label>
          <label for="helped-in-decision" class="feedback-radio-button-label">
            <input type="radio" id="helped-in-decision" name="feedback" value="Helped me decide to use the product">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Helped me decide to use the product
              </span>
              <span class="radio-btn-description">
                Convinced me to try or adopt the product or feature.
              </span>
            </span>
          </label>
          <label for="another-reason" class="feedback-radio-button-label">
            <input type="radio" id="another-reason" name="feedback" value="Another positive reason">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Another reason
              </span>
            </span>
          </label>
        </div>

        <div id="negative-feedback-form-container"
             class="feedback-form-container negative-feedback-form-container hidden">

          <label for="no" class="hidden">
            <input type="radio" id="no" name="helpful" value="no">
          </label>

          <label for="could-not-find" class="feedback-radio-button-label">
            <input type="radio" id="could-not-find" name="feedback" value="Couldn't find what I was looking for">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Couldn't find what I was looking for
              </span>
              <span class="radio-btn-description">
                Missing important information or didn't answer my question.
              </span>
            </span>
          </label>
          <label for="inaccurate-radio-feedback" class="feedback-radio-button-label">
            <input type="radio" id="inaccurate-radio-feedback" name="feedback" value="Inaccurate">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Inaccurate
              </span>
              <span class="radio-btn-description">
                Doesn't accurately describe the product or feature.
              </span>
            </span>
          </label>

          <label for="hard-to-understand" class="feedback-radio-button-label">
            <input type="radio" id="hard-to-understand" name="feedback" value="Hard to understand">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Hard to understand
              </span>
              <span class="radio-btn-description">
                Too complicated or badly written.
              </span>
            </span>
          </label>
          <label for="code-sample-errors" class="feedback-radio-button-label">
            <input type="radio" id="code-sample-errors" name="feedback" value="Code sample errors">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Code sample error
              </span>
              <span class="radio-btn-description">
                Incorrect or missing code sample(s).
               </span>
            </span>
          </label>
          <label for="another-negative-reason" class="feedback-radio-button-label">
            <input type="radio" id="another-negative-reason" name="feedback" value="Another negative reason">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Another reason
              </span>
            </span>
          </label>
        </div>
        <div class="feedback-form-submit-container">
          <button type="submit" id="feedback-form-submit-btn" class="feedback-form-submit-btn">
            SUBMIT
          </button>
        </div>
        <textarea
          id="additional-textual-feedback"
          name="additional-textual-feedback"
          class="additional-textual-feedback"
          placeholder="(Optional) Please provide specific examples or suggestions!"
          rows="6"
        ></textarea>
      </form>
    </div>
  </div>
</div>
</div>
</div>
  </div>
</main>

</div>
    <div class="feedback-footer-container">
  <div class="feedback-footer">
    <div class="card-header">
      <img class="card-img" src="../../../_/img/lifebuoy.svg" alt="lifebuoy" />
      <h4 class="card-title">Help and support</h4>
    </div>
      <a class="additional-feedback feedback-button" href="https://github.com/hazelcast/hz-docs/issues/new?title=Docs: Feedback for Advanced Features&body=Hi, I have some feedback about [this page](https://github.com/hazelcast/hz-docs/edit/main/docs/modules/wan/pages/advanced-features.adoc)%0D%0A" target="_blank">
        <span class="feedback-button-text git">
          Report an issue
        </span>
      </a>
    <a class="additional-feedback feedback-button" href="https://slack.hazelcast.com/" target="_blank">
      <span class="feedback-button-text command">
        Ask Community
      </span>
    </a>
    <a class="additional-feedback feedback-button" href="https://training.hazelcast.com/?utm_source=docs-website" target="_blank">
      <span class="feedback-button-text training">
        Online Training
      </span>
    </a>
    <a class="additional-feedback feedback-button" href="https://support.hazelcast.com/s/?utm_source=docs-website" target="_blank">
      <span class="feedback-button-text mail">
        Contact Support
      </span>
    </a>
  </div>
</div>
    <footer class="footer">
  <a href="https://hazelcast.com/terms-of-use/?utm_source=docs-website">Terms of service</a>
  <a href="/privacy/">Privacy</a>
  <a href="https://hazelcast.com/contact/?utm_source=docs-website">Contact us</a>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>

<script>
  const hzDocSearch = (facetFilters, placeholder) => {
    docsearch({
      apiKey: 'ef7bd9485eafbd75d6e8425949eda1f5',
      indexName: 'prod_hazelcast_docs',
      appId: 'QK2EAH8GB0',
      container: '#search-input',
      // Set debug to true to inspect the dropdown
      debug: false,
      searchParameters: { facetFilters: facetFilters },
      translations: {
        button: {
          buttonText: placeholder,
          buttonAriaLabel: placeholder,
        },
      },
    })
  };
</script>

<!-- SEARCH CONFIGURATIONS -->
<!-- 404 is not a component, so we avoid reading the component versions and names from it -->
  <!-- TUTORIALS -->
  <script>
    hzDocSearch(["tags:hazelcast-5.4"]);
  </script>
  <script>
    function closeBanner() {
      var banner = document.getElementById('latest-banner')
      if (banner) {
        banner.style.display = 'none'
      }
    }
  </script>
  <script>
  function applyFacetedSearch(){
      var checkbox = document.getElementById('facet')
      if (checkbox.checked) {
        hzDocSearch([[
          "tags:hazelcast-5.4",
          "tags:management-center-5.4",
          "tags:cloud",
          "tags:flow-",
        ]], 'Search all docs...');
      } else {
        hzDocSearch(["tags:hazelcast-5.4"]);
      }
    }
  </script>

<script>
  feather.replace();
</script>
  </body>
</html>
