<!DOCTYPE html>
<html lang="en">
  <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
 <title>Split-Brain Recovery | Hazelcast Documentation</title>
    <link rel="canonical" href="https://docs.hazelcast.com/hazelcast/5.5/network-partitioning/split-brain-recovery">
    <link rel="prev" href="split-brain-protection">
    <link rel="next" href="../cp-subsystem/cp-subsystem">
    <meta name="generator" content="Antora 3.1.10">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
<!-- Apply the site styles after the docsearch ones -->
<link rel="stylesheet" href="../../../_/css/site.css">
<style>
  .nav-item[data-depth="1"] {
  color: #6d7480;
}
</style>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
<meta name="google-site-verification" content="3gaMIo4Cp94mol0v1ae9PNYw9xYLbP4O_IrQxSvnS7E" />
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MQ59XD6');</script>
  <!-- End Google Tag Manager -->

  <!-- Kapa snippet -->
  <script
    src="https://widget.kapa.ai/kapa-widget.bundle.js"
    data-website-id="6b326171-dd1e-40c6-a948-1f9bb6c0ed52"
    data-project-name="Hazelcast"
    data-project-color="#000000"
    data-project-logo="/_/img/kapa/kapa-logo.png"
    data-modal-z-index="10001"
    data-modal-title="Ask AI"
    data-modal-header-bg-color="#71808A"
    data-modal-title-color="#fff"
    data-modal-disclaimer-text-color="#10A4B3"
    data-modal-image-width="40"
    data-modal-image-height="40"
    data-modal-title-font-family="PP Telegraf"
    data-modal-title-font-size="30px"
    data-modal-title-font-weight="400"
    data-modal-disclaimer="This is an experimental custom LLM for answering technical questions about Hazelcast. Answers are based **only** on Hazelcast documentation and support sources, but may not be fully accurate so please use your best judgement. Don't forget to rate the answers and give feedback!"
    data-modal-example-questions="How do I get started with Hazelcast?,What are Enterprise-only features?,What is the best serialization strategy?,What is the CP Subsystem?"
    data-button-image-width="40"
    data-button-image-height="40"
    data-button-border="1px solid #AFE922"
    data-button-border-radius="10px"
    data-button-bg-color="#0b2b39"
    data-button-text-font-family="PP Telegraf"
    data-button-text-font-size="16px"
    data-button-text-font-weight="400"
    data-search-mode-enabled="true"
    data-search-display-num-results="10"
    data-search-source-group-order='["docs.hazelcast.com", "Java API Docs", "C# API Docs", "Go Client Docs"]'
  ></script>
  <!-- End Kapa snippet -->

<script src="https://app.enzuzo.com/scripts/cookiebar/85a261c2-e311-11ef-b8c9-bb6cda60a835"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/js/all.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
      <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MQ59XD6"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
<header class="header">
  <nav class="navbar navbar-brand">
    <div class="navbar-start">
      <a class="navbar-item navbar-logo-item" href="/">
        <img class="navbar-logo-item-img" src="../../../_/img/hazelcast-logo-white.png" alt="Hazelcast Logo" />
      </a>
      <p class="navbar-item navbar-app-title">
        Documentation
      </p>
    </div>

    <div class="navbar-end">
        <div id="search-input" class="navbar-item searchbox"></div>
          <label class="filter checkbox">
            <input id="facet" type="checkbox" onclick="applyFacetedSearch()"> Search all docs
          </label>
        <a class="navbar-item get-hazelcast-link" href="https://hazelcast.com/get-started/?utm_source=docs-website" target="_blank">
          <button class="button navbar-button">Get Hazelcast</button>
        </a>
    </div>
  </nav>
</header>
    <div class="body">
  <div class="nav-container" data-component="hazelcast" data-version="5.5">
  <aside class="nav">
    <div id="navVersionPicker" class="nav-version-picker" data-active-toggle>
  <div class="navbar-product-name">
    <a id="navbarProductName" class="nav-version-picker-toggle nav-version-picker-toggle-components" data-toggle-value="product"  title="Hazelcast Platform">
      Hazelcast Platform
    </a>
  </div>

    <div class="navbar-product-version">
      <a id="navbarProductVersion" class="nav-version-picker-toggle nav-version-picker-toggle-versions" data-toggle-value="version" title="5.5">
        5.5
      </a>
    </div>

  <ul class="nav-version-picker-components" id="navbarProductsList">
      <span>hazelcast</span>
        <li class="component is-current">
              <a href="../">
                Hazelcast Platform
              </a>
        </li>
      <span>management-center</span>
        <li class="component">
              <a href="../../../management-center/5.7/">
                Management Center
              </a>
        </li>
      <span>home</span>
      <span>privacy</span>
      <span>templates</span>
      <span>tutorials</span>
        <li class="component">
              <a href="../../../tutorials/">
                Tutorials
              </a>
        </li>
  </ul>

      <ul class="nav-version-picker-versions" id="navbarVersionsList">
            <li
              class="version"
            >
              <a href="../../6.0-snapshot/network-partitioning/split-brain-recovery">6.0-SNAPSHOT</a>
            </li>
            <li
              class="version is-current"
            >
              <a href="split-brain-recovery">5.5</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.4/network-partitioning/split-brain-recovery">5.4</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.3/network-partitioning/split-brain-recovery">5.3</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.2/network-partitioning/split-brain-recovery">5.2</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.1/network-partitioning/split-brain-recovery">5.1</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.0/network-partitioning/split-brain-recovery">5.0</a>
            </li>
      </ul>
</div>
    <div class="panels">
  <div class="nav-panel-menu is-active" data-panel="menu">
    <nav class="nav-menu">
        <ul class="nav-list">
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Get started</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../whats-new">What&#8217;s new in 5.5</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../what-is-hazelcast">What is Hazelcast Platform</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../ask-ai">Ask AI</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/editions">Available versions</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Start a local cluster</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-docker">Docker</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-cli">CLI</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-binary">Binary</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-java">Java Embedded</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/enterprise-overview">Get started with Enterprise Edition</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/persistence">Persist Map Entries on Disk</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/authenticate-clients">Authenticate Client Connections</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/wan">Replicate a Map over Clusters in a WAN</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/blue-green">Deploy Blue-Green Clusters</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Get started with SQL</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/get-started-sql">Get Started with SQL Over Maps</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/learn-sql">Get Started with SQL Over Kafka</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/get-started-sql-files">Get Started with SQL Over Files</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/hazelcast-clients">Get started with a Hazelcast Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/support">Getting Support</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Install &amp; upgrade</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Overview</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/choosing-a-deployment-option">Available Topologies</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/versioning-compatibility">Versioning and Compatibility</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/deploying-in-cloud">Deploying on Cloud</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../deploy/deploying-on-aws">Deploying a Cluster on Amazon AWS</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../deploy/deploying-on-azure">Deploying a Cluster on Microsoft Azure</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../deploy/deploying-on-gcp">Deploying a Cluster on Google Cloud Platform</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/deploying-with-docker">Deploying on Docker</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/install-enterprise">Install Enterprise Edition</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/enterprise-licenses">Managing Enterprise license keys</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/install-hazelcast">Install Community Edition</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../migrate/lts">Long-term Support Releases</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../migrate/community-to-enterprise">Move to Enterprise from Community/OSS</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../migrate/rolling-restart">Upgrade Cluster to Enterprise Edition</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../migrate/data-migration-tool">Using the Data Migration Tool</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../migrate/dmt-command-reference">DMT Command Reference</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Upgrades</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../migrate/upgrading-from-jet">Upgrading from Jet</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../migrate/upgrading-from-imdg-4">Upgrading from IMDG 4.x</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../migrate/upgrading-from-imdg-3">Upgrading from IMDG 3.12.x</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../migrate/migration-tool-imdg">Migrating Data from IMDG 3.12.x</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../release-notes/releases">Release notes</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-5-4">5.5.4</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-5-3">5.5.3</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-5-2">5.5.2</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-5-1">5.5.1</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-5-0">5.5.0</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Develop &amp; build</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Architecture</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/architecture">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/data-partitioning">Data Partitioning and Replication</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/distributed-computing">Jet: How Hazelcast Models and Executes Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/execution-engine">Cooperative Multithreading</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/event-time-processing">How Hazelcast Handles Event Disorder</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/sliding-window">Jet: Sliding Window Aggregation</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/in-memory-storage">In-Memory Storage</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../cluster-performance/best-practices">Best practices</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../capacity-planning">Capacity Planning</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/performance-tips">Performance Tips</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/back-pressure">Back Pressure</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/pipelining">Pipelining</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/aws-deployments">AWS Deployments</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/threading">Threading</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/near-cache">Near Cache</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/imap-bulk-read-operations">IMap bulk read operations</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/data-affinity">Data Affinity</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Member/Client Discovery</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovery-mechanisms">Discovery Mechanisms</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovering-by-tcp">Discovering Members by TCP</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovering-by-multicast">Discovering Members by Multicast</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovering-native-clients">Discovering Java Clients</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Kubernetes</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/deploying-in-kubernetes">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tutorials/kubernetes">Deploy Hazelcast using Kubernetes</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/deploying-in-kubernetes#hazelcast-platform-operator-for-kubernetesopenshift">Hazelcast Platform Operator</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/kubernetes-auto-discovery">Discovery and Partitioning</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/kubernetes-persistence">Persistence</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/troubleshooting-and-limitations">Troubleshooting and Limitations</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Helm Charts</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-hazelcast-chart">Hazelcast Chart</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-hazelcast-enterprise-chart">Hazelcast Enterprise Edition Chart</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-upgrade-guide">Helm Upgrade Guide</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-adding-custom-jar">Adding Custom Jar</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-enabling-external-access">Enabling External Access</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-configuring-ssl">Configuring SSL</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-dynamic-persistence-configuration">Dynamic Persistence Configuration</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Distributed Data Structures</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/distributed-data-structures">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cache/overview">Caching Data</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">AP Data Structures</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
              <span class="nav-text">Map</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/map">Overview</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/map-config">Configuring Maps</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/creating-a-map">Creating a Map</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/reading-a-map">Reading Data From a Map</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/updating-map-entries">Updating Map Entries</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/setting-data-format">Setting the In-Memory Format of Map Entries</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/backing-up-maps">Making Your Map Data Safe</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/managing-map-memory">Managing Map Memory</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/locking-maps">Locking Maps</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/listening-for-map-entries">Acting Upon Changes to a Map</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/reading-map-metrics">Reading Map Metrics</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../data-structures/entry-processor">Entry Processor</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="3">
              <span class="nav-text">JCache</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../jcache/jcache">Overview</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../jcache/overview">JCache Overview</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../jcache/setup">JCache Setup and Configuration</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../jcache/providers">JCache Providers</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../jcache/api">JCache API</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../jcache/hazelcast-integration">JCache - Hazelcast Instance Integration</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../jcache/icache">Hazelcast JCache Extension - ICache</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../jcache/tck">Testing for JCache Specification Compliance</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/topic">Topic</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/reliable-topic">Reliable Topic</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/queue">Queue</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/priority-queue">Priority Queue</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/multimap">MultiMap</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/replicated-map">Replicated Map</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/set">Set</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/list">List</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/ringbuffer">Ringbuffer</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/flake-id-generator">Flake ID Generator</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/pn-counter">PN Counter</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">CP Data Structures</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/cpmap">CPMap</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/fencedlock">FencedLock</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/iatomiclong">IAtomicLong</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/iatomicreference">IAtomicReference</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/icountdownlatch">ICountDownLatch</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/isemaphore">ISemaphore</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Streaming Data Structures</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/event-journal">Event Journal</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">AI/ML Data Structures</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/cardinality-estimator-service">Cardinality Estimator Service</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link
 beta
            " href="../data-structures/vector-collections">Vector Collection</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link
 beta
            " href="../data-structures/vector-search-overview">Data Structure Design</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link
 beta
            " href="../data-structures/vector-search-tutorial">Vector search tutorial</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../computing/distributed-computing">Distributed Computing</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Executor Services</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../computing/executor-service">Java Executor Service</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../computing/durable-executor-service">Durable Executor Service</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../computing/scheduled-executor-service">Scheduled Executor Service</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/user-code-namespaces">User Code Namespaces</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-enable">Enable User Code Namespaces</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-static-config">Static Configuration</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../clusters/ucn-member-side">Member Configuration</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../clusters/ucn-data-structures">Data Structures</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../clusters/ucn-static-programmatic">Programmatic Configuration</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-dynamic-config">Dynamic Configuration API</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../clusters/ucn-dynamic-client">Configure Client</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-non-associated">Non-associated Namespaces</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-security">Security</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ucn-migrate-ucd">Migrate from User Code Deployment</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/legacy-ucd">User Code Deployment</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../clusters/deploying-code-on-member">Deploying User Code on the Member</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../clusters/deploying-code-from-clients">Deploying User Code from Clients</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../clusters/accessing-domain-objects">Accessing Domain Objects Without Domain Classes</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Data Ingestion &amp; Query</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../ingest/overview">Ingesting Data from External Sources</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../query/overview">Running Distributed Queries</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../mapstore/working-with-external-data">Building a Cache with MapStore</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../mapstore/configuring-a-generic-maploader">Using the generic MapLoader</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../mapstore/configuring-a-generic-mapstore">Using the generic MapStore</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../mapstore/implement-a-mapstore">Implementing a Custom MapStore</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../mapstore/configuration-guide">Configuring a MapStore</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../mapstore/mapstore-triggers">Map Operations that Trigger Methods on a MapStore</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Building Data Pipelines</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/overview">About Data Pipelines</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Get Started</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/stream-processing-embedded">Get Started with Stream Processing (Embedded)</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/stream-processing-client">Get Started with Stream Processing (Client/Server)</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Ingesting Data from Sources</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/ingesting-from-sources">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-stream-source">Creating a Custom Streaming Source</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-batch-source">Adding Batching to a Custom Source</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Processing Data</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/transforms">Transforms</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-aggregate-operation">Building a Custom Aggregate Operation</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/python">Apply a Custom Transform with Python</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Sending Results to Sinks</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/sending-data-to-sinks">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-sink">Create a Custom Sink</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Stream Processing</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/building-pipelines">About Stream Processing Pipelines</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/windowing">Apply Windowed Aggregation</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/stream-imap">Subscribe to Changes to a Map</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/map-join">Enrich a Stream</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/cdc-overview">Change Data Capture (CDC)</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc-database-setup">Setting Up a Database for Change Data Capture</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc">Capture Changes from MySQL</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc-postgres">Capture Changes from PostgreSQL</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc-join">Join Change Data Capture Records</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/etl-overview">Extract Transform Load (ETL)</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/kafka">Connect to Apache Kafka</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/kinesis">Connect to Amazon Kinesis</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/pulsar">Group Messages from Apache Pulsar</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/serialization">Serializing Pipelines</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-placement-control">Jet Job Placement Control</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/configuring-jobs">Configuring Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-security">Securing Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/submitting-jobs">Submitting Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-management">Managing Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-monitoring">Monitoring Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-update">Updating Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/xa">Testing Sources and Sinks for XA Transaction Support</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">SQL</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/sql-overview">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over Maps</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/get-started-sql">Tutorial</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/querying-maps-sql">Queries</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-maps">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over Kafka</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/learn-sql">Tutorial</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-kafka">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over File Systems</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/get-started-sql-files">Tutorial</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-a-file-system">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over JDBC</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-jdbc">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over MongoDB</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-mongo">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/working-with-json">Working with JSON</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/querying-streams">Stream Processing</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/parameterized-queries">Query Parameters</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/finding-mappings">Finding Mappings</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/improving-performance">Improving Performance</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/sql-reflection-configuration">Reflection Configuration</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/troubleshooting">Troubleshooting</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Statements</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/sql-statements">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/alter-job"><code>ALTER JOB</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-data-connection"><code>CREATE DATA CONNECTION</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-index"><code>CREATE INDEX</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-job"><code>CREATE JOB</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-mapping"><code>CREATE MAPPING</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-snapshot"><code>CREATE SNAPSHOT</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-view"><code>CREATE VIEW</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/delete"><code>DELETE</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-data-connection"><code>DROP DATA CONNECTION</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-job"><code>DROP JOB</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-mapping"><code>DROP MAPPING</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-snapshot"><code>DROP SNAPSHOT</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-view"><code>DROP VIEW</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/explain"><code>EXPLAIN</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/sink-into"><code>INSERT INTO</code>/<code>SINK INTO</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/select"><code>SELECT</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/show-jobs"><code>SHOW JOBS</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/show-resources"><code>SHOW RESOURCES</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/show-mappings"><code>SHOW MAPPINGS</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/update"><code>UPDATE</code></a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/functions-and-operators">Functions and Expressions</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/data-types">SQL Data Types</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/user-defined-types">User-Defined Types in SQL</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Optimizing SQL queries</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/partition-pruning">Partition Pruning</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../query/predicate-overview">Predicates API</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Improving Query Performance</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../query/indexing-maps">Indexing Maps</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../performance/caching-deserialized-values">Caching Deserialized Values</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/preventing-out-of-memory">Preventing Out of Memory Exceptions when Querying a Map</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Serialization</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/serialization">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/compact-serialization">Compact Serialization</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../compact-binary-specification">Compact Serialization Binary Specification</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/serializing-json">HazelcastJsonValue</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/custom-serialization">Custom Serialization</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Other Serialization Options</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-identifieddataserializable">IdentifiedDataSerializable</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-dataserializable">DataSerializable</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-java-serializable">Java Serializable and Externalizable</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-portable-serialization">Portable</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/global-serializer">Global Serializer</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-hazelcastinstanceaware">HazelcastInstanceAware</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/serialization-configuration">Configuring Serializers</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Listening to Events</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/distributed-events">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/cluster-events">Cluster Events</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/event-listeners-for-clients">Event Listeners for Hazelcast Clients</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/global-event-configuration">Global Event Configuration</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/object-events">Distributed Object Events</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Transactions</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../transactions/creating-a-transaction-interface">Creating a Transaction Interface</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../transactions/providing-xa-transactions">Providing XA Transactions</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Testing Applications</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../test/testing-apps">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../test/testing">Testing Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../simulator">Hazelcast Simulator</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Troubleshooting</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/troubleshooting">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/error-handling">Error Handling Strategies for Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/remedies-for-alerts">Actions and Remedies for Alerts</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/recovery-members">Recovery from a Partial or Total Failure</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/recovery-clients">Recovery from Client Connection Failures</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../common-exception-types">Common Exception Types</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Operate &amp; manage</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Configuration</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../configuration/understanding-configuration">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Static Configuration</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-declaratively">Member Configuration Files</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-programmatically">Configuring Hazelcast in Embedded Mode</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-with-system-properties">System Props and Environment Variables</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/jvm-parameters">JVM Parameters</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-within-spring">Configuring Hazelcast in Spring</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/pattern-matcher">Configuration Pattern Matcher</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/using-wildcards">Using Wildcards</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Dynamic Configuration</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config-programmatic-api">Programmatic API</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config-update-and-reload">Update and Reload with REST</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config-persistence">Configuration Options</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../phone-homes">Phone Homes</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../maintain-cluster/logging">Configuring Logging</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../configuration/jet-configuration">Configuring the Jet Engine</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Maintaining a Cluster</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/rolling-upgrades">Rolling Upgrades</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/monitoring">Monitoring</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/cluster-member-states">Cluster and Member States</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/member-attributes">Filtering Members with Attributes</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/lite-members">Lite Members</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/shutdown">Shutting Down</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../management/cluster-utilities">Cluster Utilities</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Partition Groups and Networking</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/creating-clusters">Grouping Clusters</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/partition-group-configuration">Grouping Partitions</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/network-configuration">Networking</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Securing a Cluster</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/overview">Security Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">TLS</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/tls-ssl">TLS/SSL Basics</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/integrating-openssl">Integrating OpenSSL / BoringSSL</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/tls-configuration">Other TLS-Related Configurations</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../secure-cluster/security-defaults">Security Defaults</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/enable-security">Enabling Security</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Authentication</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/authentication-overview">Authentication overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/simple-authentication">Simple Authentication</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/ldap-authentication">LDAP Authentication</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/kerberos-authentication">Kerberos Authentication</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/tls-authentication">TLS Authentication</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/identity-configuration">Identity configuration</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/jaas-authentication">JAAS Authentication</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/default-authentication">Default authentication</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/client-authorization">Client Authorization</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Advanced Security Features</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/logging-auditable-events">Logging Auditable Events</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/validating-secrets">Validating Secrets Using Strength Policy</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/fips-140-2">FIPS 140-2</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/security-debugging">Security Debugging</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/encryption">Encryption</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/socket-interceptor">Socket Interceptor</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/security-interceptor">Security Interceptor</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../secure-cluster/hardening-recommendations">Security Hardening Recommendations</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Fault Tolerance</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../fault-tolerance/backups">Backups</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Persistence</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/persistence">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/configuring-persistence">Configuration</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/backing-up-persistence">Backups</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/triggering-force-start">Force-start</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/triggering-partial-start">Partial-start</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/persistence-on-intel">Intel Optane DC</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/copying-persistence">Copying Data</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/performance">Performance Benchmark</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/persistence-design">Design Details</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Detecting Failures</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/failure-detector-configuration">Failure Detectors</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/deadline-detector">Deadline Failure Detector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/phi-accrual-detector">Phi Accrual Failure Detector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ping-detector">Ping Failure Detector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../fault-tolerance/timeouts">Connection Timeouts</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../fault-tolerance/fault-tolerance">Fault Tolerance for Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Handling Network Partitions</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="network-partitioning">Network Partitioning</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="partial-network-partitions">Partial Network Partitions</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="dealing-with-network-partitions">Dealing with Network Partitions</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="split-brain-protection">Split-Brain Protection</a>
              </li>
      <li class="nav-item is-current-page" data-depth="3">
            <a class="nav-link

            " href="split-brain-recovery">Split-Brain Recovery</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">CP Subsystem</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/cp-subsystem">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/configuration">Configuration</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/management">Management</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/best-practices">Best Practices</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../storage/high-density-memory">High-Density Memory Store</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Data Connections</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-connections/data-connections-configuration">Configuring Data Connections to External Systems</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Synchronizing Data Across Clusters</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/wan">WAN Replication Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/modes">WAN Replication Modes</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/quick-start">WAN Quickstart</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/defining-wan-replication">Configuring WAN Replication</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/configuring-for-map-and-cache">Configuring for IMap and ICache</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/advanced-features">Advanced Features</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/tuning">Fine-Tuning WAN Replication</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/failures">Failure Detection and Recovery</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/rest-api">REST API for WAN Wrap-Up</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../cluster-performance/thread-per-core-tpc">Thread-Per-Core (TPC)</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Tiered Storage</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/overview">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/capacity-planning">Capacity Planning</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/configuration">Configuration</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/compactor">Compactor</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/performance">Performance</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../tiered-storage/troubleshooting">Troubleshooting</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../extending-hazelcast/extending-hazelcast">Extending Hazelcast</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../extending-hazelcast/operationparker">OperationParker</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../extending-hazelcast/discovery-spi">Discovery SPI</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../extending-hazelcast/config-properties-spi">Config Properties SPI</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../osgi/osgi">OSGI</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/osgi-support">OSGI Support</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/api">API</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/configuring-osgi-support">Configuring Hazelcast OSGI Support</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/design">Design</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/using-osgi-service">Using Hazelcast OSGI Service</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Integrate</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../spring/overview">Integrate with Spring</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/configuration">Configure Hazelcast in Spring</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/springaware">Enable SpringAware data structures</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/add-caching">Add caching to Spring</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/hibernate">Configure Hibernate second-level cache</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/transaction-manager">Configure Hazelcast Transaction Manager</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/integrate-with-feast">Integrate with Feast</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/install-connect">Install and connect Feast</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/feast-config">Configure Feature Store</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/feature-engineering-with-feast">Get started with Feast batch features</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/streaming-features-with-feast">Get started with Feast streaming features</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/integrate-with-vertx">Integrate with Vert.x</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/get-started-with-vertx">Get started with Vert.x</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/connectors">Connector Guides</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Messaging System Connectors</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/messaging-system-connectors">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/kafka-connector">Apache Kafka Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/kinesis-connector">Amazon Kinesis Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/jms-connector">JMS Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/database-connectors">Database &amp; CDC Connectors</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/jdbc-connector">JDBC Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/cdc-connectors">CDC Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/legacy-cdc-connectors">Legacy CDC Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/elasticsearch-connector">Elasticsearch Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/mongodb-connector">MongoDB Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">File Connectors</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/file-connector">Unified File Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/legacy-file-connector">Legacy File Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Hazelcast Data Structure Connectors</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/map-connector">Map Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/jcache-connector">JCache Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/list-connector">List Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/reliable-topic-connector">Reliable Topic Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link
 beta
            " href="../integrate/vector-collection-connector">Vector Collection Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/kafka-connect-connectors">Kafka Connect Source Connectors</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/socket-connector">Socket Connectors</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/test-connectors">Test Source Connectors</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../integrate/custom-connectors">Custom Connectors</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Community Connectors</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/pulsar-connector">Apache Pulsar Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/http-connector">HTTP Listener Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/influxdb-connector">InfluxDB Connector</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Clients &amp; APIs</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/java">Java Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/dotnet">.NET Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/python">Python Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/cplusplus">C++ Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/go">Go Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/nodejs">Node.js Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/memcache">Memcache Client</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../maintain-cluster/enterprise-rest-api">REST API</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-rest-api-with-docker">Get started using Docker</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-rest-api-with-java">Get started using Java</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/rest-api-swagger">Swagger UI for REST API</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/dynamic-config-via-rest">Dynamic configuration tutorial</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Tools &amp; plugins</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../management-center">Management Center</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../kubernetes/deploying-in-kubernetes#hazelcast-platform-operator-for-kubernetesopenshift">Platform Operator</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../clients/clc">Command Line Client (CLC)</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../simulator">Simulator</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../plugins/hazelcast-plugins">Hazelcast Plugins</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/cloud-discovery">Cloud Discovery Plugins</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/web-session-replication">Web Session Replication Plugins</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/framework-integration">Framework Integration Plugins</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/other-integrations">Other Integrations</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Reference</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../glossary">Glossary</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../system-properties">System Properties</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../faq">Frequently Asked Questions</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../list-of-metrics">Metrics</a>
              </li>
  </ul>
      </li>
  </ul>
    </nav>
  </div>
    </div>
  </aside>
</div>
<div id="hide-nav">
  <button>
    <span>
      ᐸ
    </span>
  </button>
</div>
  <main class="article">
  <div class="content">
    <article class="doc">
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../">Hazelcast Platform</a></li>
    <li>Operate &amp; manage</li>
    <li>Fault Tolerance</li>
    <li>Handling Network Partitions</li>
    <li><a href="split-brain-recovery">Split-Brain Recovery</a></li>
  </ul>
</nav>
    <button class="nav-toggle"></button>
      <h1 class="page">Split-Brain Recovery</h1>
    <div class="page-versions">
    <button class="version-menu-toggle" title="Show other versions of page">Version 5.5</button>
    <div class="version-menu">
          <a class="version" href="../../6.0-snapshot/network-partitioning/split-brain-recovery">6.0-SNAPSHOT</a>
          <a class="version is-current" href="split-brain-recovery">5.5</a>
          <a class="version" href="../../5.4/network-partitioning/split-brain-recovery">5.4</a>
          <a class="version" href="../../5.3/network-partitioning/split-brain-recovery">5.3</a>
          <a class="version" href="../../5.2/network-partitioning/split-brain-recovery">5.2</a>
          <a class="version" href="../../5.1/network-partitioning/split-brain-recovery">5.1</a>
          <a class="version" href="../../5.0/network-partitioning/split-brain-recovery">5.0</a>
    </div>
  </div>
  <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hazelcast deploys a background task that periodically searches for split clusters.
When a split is detected, the side that will initiate the merge process is decided.
This decision is based on the cluster size; the smaller cluster, by
member count, merges into the bigger one. If they have an equal number of members,
then a hashing algorithm determines the merging cluster. When deciding the merging side,
both sides ensure that there&#8217;s no overlap in their member lists. In some cases, recovery from
split-brain may be problematic due to discovery issues; see <a href="#eliminating-unsuccessful-cluster-merges">Eliminating Unsuccessful Cluster Merges</a> on how to overcome these issues.</p>
</div>
<div class="paragraph">
<p>After the merging side is decided, the oldest cluster member of
the merging side initiates the cluster merge process by sending
merge instructions to the members in its cluster.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>The oldest cluster member (master) runs the split-brain check for every <a href="../system-properties#splitbrain-check-interval" class="xref page">hazelcast.merge.next.run.delay.seconds</a>. First check is done <a href="../system-properties#splitbrain-first-check " class="xref page">hazelcast.merge.first.run.delay.seconds</a> seconds after the startup.</p>
</li>
<li>
<p>Master member checks the IP addresses in the member list, and tries consecutive ports. The count to try is defined by <a href="../system-properties#tcp-try-count" class="xref page">hazelcast.tcp.join.port.try.count</a>.</p>
</li>
<li>
<p>Only the master member searches for other clusters for possible split-brain situations.</p>
</li>
<li>
<p>The split-brain recovery process initiates when the master member of smaller cluster detects that of the larger cluster.
However, if the master of larger cluster communicates with that of the smaller cluster, and not the other way around, the recovery process cannot commence.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>While recovering from partitioning, Hazelcast uses merge policies for
supported data structures to resolve data conflicts between split clusters.
A merge policy is a callback function to resolve conflicts between
the existing and merging data. Hazelcast provides an interface to be
implemented and also a selection of out-of-the-box policies.
Data structures without split-brain recovery support discarding the data from merging side.</p>
</div>
<div class="paragraph">
<p>Each member of the merging cluster:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>closes all its network connections (detach from its cluster)</p>
</li>
<li>
<p>takes a snapshot of local data structures which support split-brain recovery</p>
</li>
<li>
<p>discards all data structure data</p>
</li>
<li>
<p>joins to the new cluster as lite member</p>
</li>
<li>
<p>sends merge operations to the new cluster from local snapshots.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see the <a href="../architecture/data-partitioning" class="xref page">Consistency and Replication Model chapter</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="merge-policies"><a class="anchor" href="#merge-policies"></a>Merge Policies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Since Hazelcast 3.10 all merge policies implement
the unified interface <code>com.hazelcast.spi.SplitBrainMergePolicy</code>.
We provide the following out-of-the-box implementations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>DiscardMergePolicy</code>: The entry from the smaller cluster is discarded.</p>
</li>
<li>
<p><code>ExpirationTimeMergePolicy</code>: The entry with the higher expiration time wins.</p>
</li>
<li>
<p><code>HigherHitsMergePolicy</code>: The entry with the higher number of hits wins.</p>
</li>
<li>
<p><code>HyperLogLogMergePolicy</code>: Specialized merge policy for the <code>CardinalityEstimator</code>,
which uses the default merge algorithm from HyperLogLog research, keeping
the maximum register value of the two given instances.</p>
</li>
<li>
<p><code>LatestAccessMergePolicy</code>: The entry with the latest access wins.</p>
</li>
<li>
<p><code>LatestUpdateMergePolicy</code>: The entry with the latest update wins.</p>
</li>
<li>
<p><code>PassThroughMergePolicy</code>: the entry from the smaller cluster wins.</p>
</li>
<li>
<p><code>PutIfAbsentMergePolicy</code>: The entry from the smaller cluster wins if
it doesn&#8217;t exist in the cluster.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, you can develop a custom merge policy by implementing
the <code>SplitBrainMergePolicy</code> interface, as explained in the
<a href="#custom-merge-policies">Custom Merge Policies section</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="supported-data-structures"><a class="anchor" href="#supported-data-structures"></a>Supported Data Structures</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following data structures support split-brain recovery:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>IMap</code> (including High-Density Memory Store backed IMap)</p>
</li>
<li>
<p><code>ICache</code> (including High-Density Memory Store backed IMap)</p>
</li>
<li>
<p><code>ReplicatedMap</code></p>
</li>
<li>
<p><code>MultiMap</code></p>
</li>
<li>
<p><code>IAtomicLong</code></p>
</li>
<li>
<p><code>IAtomicReference</code></p>
</li>
<li>
<p><code>IQueue</code></p>
</li>
<li>
<p><code>IList</code></p>
</li>
<li>
<p><code>ISet</code></p>
</li>
<li>
<p><code>Ringbuffer</code></p>
</li>
<li>
<p><code>CardinalityEstimator</code></p>
</li>
<li>
<p><code>ScheduledExecutorService</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The statistic based out-of-the-box merge policies are only supported by
<code>IMap</code>, <code>ICache</code>, <code>ReplicatedMap</code> and <code>MultiMap</code>.
The <code>HyperLogLogMergePolicy</code> is supported by the <code>CardinalityEstimator</code>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Except the <code>CardinalityEstimator</code> data structure,
the default merge policy for all the Hazelcast data structures that
support split-brain recovery (listed above) is <code>PutIfAbsentMergePolicy</code>.
For the <code>CardinalityEstimator</code> data structure,
the default merge policy is <code>HyperLogLogMergePolicy</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also the <a href="#merge-types">Merge Types section</a> for a complete overview of
supported merge types of each data structure. There is a config validation which
checks these constraints to provide fail-fast behavior for invalid configurations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For the other data structures, e.g., <code>ISemaphore</code>, <code>ICountDownLatch</code> and <code>ILock</code>,
the instance from the smaller cluster is discarded during the split-brain recovery.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-merge-policies"><a class="anchor" href="#configuring-merge-policies"></a>Configuring Merge Policies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The merge policies are configured via a <code>MergePolicyConfig</code>, which can be set for
all supported data structures. The only exception is <code>ICache</code>, which just accepts
the merge policy classname (due to compatibility reasons with older Hazelcast clients).
For <code>ICache</code>, all other configurable merge parameters are the default values from <code>MergePolicyConfig</code>.</p>
</div>
<div class="paragraph">
<p>For custom merge policies you should set the full class name of your implementation as
the <code>merge-policy</code> configuration. For the out-of-the-box merge policies the simple classname is enough.</p>
</div>
<div class="sect2">
<h3 id="declarative-configuration"><a class="anchor" href="#declarative-configuration"></a>Declarative Configuration</h3>
<div class="paragraph">
<p>Here are examples how merge policies can be specified for various data structures:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_xml"></a>XML</p>
</li>
<li>
<p><a id="tabset1_yaml"></a>YAML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="default"&gt;
        &lt;merge-policy batch-size="100"&gt;LatestUpdateMergePolicy&lt;/merge-policy&gt;
    &lt;/map&gt;

    &lt;replicatedmap name="default"&gt;
        &lt;merge-policy batch-size="100"&gt;org.example.merge.MyMergePolicy&lt;/merge-policy&gt;
    &lt;/replicatedmap&gt;

    &lt;multimap name="default"&gt;
        &lt;merge-policy batch-size="50"&gt;HigherHitsMergePolicy&lt;/merge-policy&gt;
    &lt;/multimap&gt;

    &lt;list name="default"&gt;
        &lt;merge-policy batch-size="500"&gt;org.example.merge.MyMergePolicy&lt;/merge-policy&gt;
    &lt;/list&gt;

    &lt;atomic-long name="default"&gt;
        &lt;merge-policy&gt;PutIfAbsentMergePolicy&lt;/merge-policy&gt;
    &lt;/atomic-long&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  map:
    default:
      merge-policy:
        batch-size: 100
        class-name: LatestUpdateMergePolicy
  replicatedmap:
    default:
      merge-policy:
        batch-size: 100
        class-name: org.example.merge.MyMergePolicy
  multimap:
    default:
      merge-policy:
        batch-size: 50
        class-name: HigherHitsMergePolicy
  list:
    default:
      merge-policy:
        batch-size: 500
        class-name: org.example.merge.MyMergePolicy
  atomic-long:
    default:
      merge-policy:
        class-name: PutIfAbsentMergePolicy</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Here is how merge policies are specified for <code>ICache</code> (it is the same configuration tag,
but lacks the support for additional attributes like <code>batch-size</code>):</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_xml"></a>XML</p>
</li>
<li>
<p><a id="tabset2_yaml"></a>YAML</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;cache name="*"&gt;
        &lt;merge-policy&gt;org.example.merge.MyMergePolicy&lt;/merge-policy&gt;
    &lt;/cache&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_yaml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">hazelcast:
  cache:
    "*":
      merge-policy:
        class-name: org.example.merge.MyMergePolicy</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="programmatic-configuration"><a class="anchor" href="#programmatic-configuration"></a>Programmatic Configuration</h3>
<div class="paragraph">
<p>Here are examples how merge policies can be specified for various data structures:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">        MergePolicyConfig mergePolicyConfig = new MergePolicyConfig()
                .setPolicy("org.example.merge.MyMergePolicy")
                .setBatchSize(100);

        MapConfig mapConfig = new MapConfig("default")
                .setMergePolicyConfig(mergePolicyConfig);

        ListConfig listConfig = new ListConfig("default")
                .setMergePolicyConfig(mergePolicyConfig);

        Config config = new Config()
                .addMapConfig(mapConfig)
                .addListConfig(listConfig);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is how merge policies are specified for <code>ICache</code> (you can only set the merge policy classname):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">CacheConfig mapConfig = new CacheConfig()
  .setName("default")
  .setMergePolicy("org.example.merge.MyMergePolicy");

Config config = new Config()
  .addMapConfig(mapConfig);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="custom-merge-policies"><a class="anchor" href="#custom-merge-policies"></a>Custom Merge Policies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To implement a custom merge policy you have to implement <code>com.hazelcast.spi.SplitBrainMergePolicy</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface SplitBrainMergePolicy&lt;V, T extends MergingValue&lt;V&gt;, R&gt;
    extends DataSerializable {

  R merge(T mergingValue, T existingValue);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>MergingValue</code> is an interface which describes a merge type.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please have in mind that <code>existingValue</code> can be <code>null</code>.
This happens when a data structure or key-based entry was just created in the smaller cluster.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="merge-types"><a class="anchor" href="#merge-types"></a>Merge Types</h3>
<div class="paragraph">
<p>A merge type defines an attribute which is required by a merge policy and provided by a data structure.</p>
</div>
<div class="paragraph">
<p><code>MergingValue</code> is the main merge type, which is required by all merge policies and provided by
all data structures. It contains the value of the merged data in raw (in-memory storage) and
deserialized format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface MergingValue&lt;V&gt; extends MergingView {

  V getValue();

  Object getRawValue();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>MergingValue</code> extends <code>MergingView</code>, which is a marker interface extended by all provided merge types.</p>
</div>
<div class="paragraph">
<p>The most common extension of <code>MergingValue</code> is <code>MergingEntry</code>, which additionally provides the key in
raw (in-memory storage) and deserialized format (used by all key-based data structures like
<code>IMap</code> or <code>ICache</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface MergingEntry&lt;K, V&gt; extends MergingValue&lt;V&gt; {

  K getKey();

  Object getRawKey();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition, we have a bunch of specialized merge types, e.g., for provided statistics.
An example is <code>MergingHits</code>, which provides the hit counter of the merge data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface MergingHits extends MergingView {

  long getHits();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The class <code>com.hazelcast.spi.merge.SplitBrainMergeTypes</code> contains composed interfaces,
which show the provided merge types and required merge policy return type for each data structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface ReplicatedMapMergeTypes&lt;K, V&gt; extends MergingEntry&lt;K, V&gt;,
    MergingCreationTime, MergingHits, MergingLastAccessTime, MergingLastUpdateTime,
    MergingTTL {
}

public interface QueueMergeTypes&lt;V&gt; extends MergingValue&lt;Collection&lt;V&gt;&gt; {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>ReplicatedMap</code> provides key/value merge data, with the creation time, access hits,
last access time, last update time and TTL. The return type of the merge policy is <code>Object</code>.</p>
</div>
<div class="paragraph">
<p>The <code>IQueue</code> just provides a collection of values. The return type is also a <code>Collection&lt;Object&gt;</code>.</p>
</div>
<div class="paragraph">
<p>The following is the full list of merge types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MergingValue</code>: Represents the value of the merged data.</p>
</li>
<li>
<p><code>MergingEntry</code>: Represents the key and value of the merged data.</p>
</li>
<li>
<p><code>MergingCreationTime</code>: Represents the creation time of the merging process.</p>
</li>
<li>
<p><code>MergingHits</code>: Represents the access hits of the merged data.</p>
</li>
<li>
<p><code>MergingLastAccessTime</code>: Represents the last time when the merged data is accessed.</p>
</li>
<li>
<p><code>MergingLastUpdateTime</code>: Represents the last time when the merged data is updated.</p>
</li>
<li>
<p><code>MergingTTL</code>: Represents the time-to-live value of the merged data.</p>
</li>
<li>
<p><code>MergingMaxIdle</code>: Represents the maximum idle timeout value of the merged data.</p>
</li>
<li>
<p><code>MergingCost</code>: Represents the memory costs for the merging process after a split-brain.</p>
</li>
<li>
<p><code>MergingVersion</code>: Represents the version of the merged data.</p>
</li>
<li>
<p><code>MergingExpirationTime</code>: Represents the expiration time of the merged data.</p>
</li>
<li>
<p><code>MergingLastStoredTime</code>: Represents the last stored time of the merged data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>And the following table shows the merge types provided by each data structure:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Merge Types</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Data Structure</th>
<th class="tableblock halign-left valign-top">Merge Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IMap</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>MergingEntry</code></p>
</li>
<li>
<p><code>MergingCreationTime</code></p>
</li>
<li>
<p><code>MergingHits</code></p>
</li>
<li>
<p><code>MergingLastAccessTime</code></p>
</li>
<li>
<p><code>MergingLastUpdateTime</code></p>
</li>
<li>
<p><code>MergingTTL</code></p>
</li>
<li>
<p><code>MergingMaxIdle</code></p>
</li>
<li>
<p><code>MergingCosts</code></p>
</li>
<li>
<p><code>MergingVersion</code></p>
</li>
<li>
<p><code>MergingExpirationTime</code></p>
</li>
<li>
<p><code>MergingLastStoredTime</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ICache</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>MergingEntry</code></p>
</li>
<li>
<p><code>MergingCreationTime</code></p>
</li>
<li>
<p><code>MergingHits</code></p>
</li>
<li>
<p><code>MergingLastAccessTime</code></p>
</li>
<li>
<p><code>MergingLastUpdateTime</code></p>
</li>
<li>
<p><code>MergingTTL</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ReplicatedMap</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>MergingEntry</code></p>
</li>
<li>
<p><code>MergingCreationTime</code></p>
</li>
<li>
<p><code>MergingHits</code></p>
</li>
<li>
<p><code>MergingLastAccessTime</code></p>
</li>
<li>
<p><code>MergingLastUpdateTime</code></p>
</li>
<li>
<p><code>MergingTTL</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MultiMap</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>MergingEntry</code></p>
</li>
<li>
<p><code>MergingCreationTime</code></p>
</li>
<li>
<p><code>MergingHits</code></p>
</li>
<li>
<p><code>MergingLastAccessTime</code></p>
</li>
<li>
<p><code>MergingLastUpdateTime</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IQueue</code>, <code>ISet</code>, <code>IList</code>, <code>Ringbuffer</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>MergingValue</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IAtomicLong</code>, <code>IAtomicReference</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>MergingValue</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CardinalityEstimator</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>MergingEntry</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ScheduledExecutorService</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>MergingEntry</code></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following sections show various examples on how to implement
merge type interfaces for all data structures, specific merge types or a specific data structure.</p>
</div>
</div>
<div class="sect2">
<h3 id="accessing-deserialized-values"><a class="anchor" href="#accessing-deserialized-values"></a>Accessing Deserialized Values</h3>
<div class="paragraph">
<p><code>MergingValue.getRawValue()</code> and <code>MergingEntry.getRawKey()</code> always return
the data in the in-memory format of the data structure.
For some data structure like <code>IMap</code> this depends on your configuration.
Other data structure like <code>ISet</code> or <code>IList</code> always use the <code>BINARY</code> in-memory format.</p>
</div>
<div class="paragraph">
<p>If you need the deserialized key or value, you have to call <code>MergingValue.getValue()</code> or
<code>MergingEntry.getKey()</code>.
The deserialization is done lazily on that method call, since it&#8217;s quite expensive and
should be avoided if the result is not needed.
This also requires the deserialized classes to be on the classpath of the server.
Otherwise, a <code>ClassNotFoundException</code> is thrown.</p>
</div>
<div class="paragraph">
<p>This is an example which checks if the (deserialized) value of
the <code>mergingValue</code> or <code>existingValue</code> is an <code>Integer</code>.
If so it is merged, otherwise <code>null</code> is returned (which  removes the entry):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MergeIntegerValuesMergePolicy&lt;V&gt; implements SplitBrainMergePolicy&lt;V, MergingValue&lt;V&gt;, Object&gt; {

    @Override
    public Object merge(MergingValue&lt;V&gt; mergingValue, MergingValue&lt;V&gt; existingValue) {
        Object mergingUserValue = mergingValue.getValue();
        Object existingUserValue = existingValue == null ? null : existingValue.getValue();
        System.out.println("========================== Merging..."
                + "\n    mergingValue: " + mergingUserValue
                + "\n    existingValue: " + existingUserValue
                + "\n    mergingValue class: " + mergingUserValue.getClass().getName()
                + "\n    existingValue class: " + (existingUserValue == null ? "null" : existingUserValue.getClass().getName())
        );
        if (mergingUserValue instanceof Integer) {
            return mergingValue.getRawValue();
        }
        return null;
    }

    @Override
    public void writeData(ObjectDataOutput out) {
    }

    @Override
    public void readData(ObjectDataInput in) {
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For data structures like <code>ISet</code> or <code>ICollection</code> you need a merge policy, which supports collections:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MergeCollectionOfIntegerValuesMergePolicy
        implements SplitBrainMergePolicy&lt;Collection&lt;Object&gt;, MergingValue&lt;Collection&lt;Object&gt;&gt;, Collection&lt;Object&gt;&gt; {

    @Override
    public Collection&lt;Object&gt; merge(MergingValue&lt;Collection&lt;Object&gt;&gt; mergingValue,
                                    MergingValue&lt;Collection&lt;Object&gt;&gt; existingValue) {
        Collection&lt;Object&gt; result = new ArrayList&lt;&gt;();
        for (Object value : mergingValue.getValue()) {
            if (value instanceof Integer) {
                result.add(value);
            }
        }
        if (existingValue != null) {
            for (Object value : existingValue.getValue()) {
                if (value instanceof Integer) {
                    result.add(value);
                }
            }
        }
        return result;
    }

    @Override
    public void writeData(ObjectDataOutput out) {
    }

    @Override
    public void readData(ObjectDataInput in) {
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also combine both merge policies to support single values and collections.
This merge policy is a bit more complex and less type safe, but can be configured on all data structures:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MergeIntegerValuesMergePolicy2&lt;V, T extends MergingValue&lt;V&gt;&gt; implements SplitBrainMergePolicy&lt;V, T, Object&gt; {

    @Override
    public Object merge(T mergingValue, T existingValue) {
        if (mergingValue.getValue() instanceof Integer) {
            return mergingValue.getRawValue();
        }
        if (existingValue != null &amp;&amp; existingValue.getValue() instanceof Integer) {
            return existingValue.getRawValue();
        }
        if (mergingValue.getRawValue() instanceof Collection) {
            Collection&lt;Object&gt; result = new ArrayList&lt;&gt;();
            addIntegersToCollection(mergingValue, result);
            if (result.isEmpty() &amp;&amp; existingValue != null) {
                addIntegersToCollection(existingValue, result);
            }
            return result;
        }
        return null;
    }

    private void addIntegersToCollection(T mergingValue, Collection&lt;Object&gt; result) {
        for (Object value : (Collection&lt;Object&gt;) mergingValue.getValue()) {
            if (value instanceof Integer) {
                result.add(value);
            }
        }
    }

    @Override
    public void writeData(ObjectDataOutput out) {
    }

    @Override
    public void readData(ObjectDataInput in) {
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please have in mind that <code>existingValue</code> can be <code>null</code>, so a <code>null</code> check is
mandatory before calling <code>existingValue.getValue()</code> or <code>existingValue.getRawValue()</code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you return <code>null</code> on a collection based data structure, the whole data structure will be removed.
An empty collection works in the same way, so you don&#8217;t have to check <code>Collection.isEmpty()</code> in your merge policy.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="accessing-hazelcast-usercontext"><a class="anchor" href="#accessing-hazelcast-usercontext"></a>Accessing Hazelcast UserContext</h3>
<div class="paragraph">
<p>If you need access to external references in your merge policy,
you can use the Hazelcast <code>UserContext</code> to get them injected.
An example would be a database connection to check which value is stored in your database.
To achieve this your merge policy needs to implement <code>HazelcastInstanceAware</code> and
call <code>HazelcastInstance.getUserContext()</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class UserContextMergePolicy&lt;V&gt; implements SplitBrainMergePolicy&lt;V, MergingValue&lt;V&gt;, Object&gt;, HazelcastInstanceAware {

    public static final String TRUTH_PROVIDER_ID = "truthProvider";

    private transient TruthProvider truthProvider;

    @Override
    public Object merge(MergingValue&lt;V&gt; mergingValue, MergingValue&lt;V&gt; existingValue) {
        Object mergingUserValue = mergingValue.getValue();
        Object existingUserValue = existingValue == null ? null : existingValue.getValue();
        boolean isMergeable = truthProvider.isMergeable(mergingUserValue, existingUserValue);
        System.out.println("========================== Merging..."
                        + "\n    mergingValue: " + mergingUserValue
                        + "\n    existingValue: " + existingUserValue
                        + "\n    isMergeable(): " + isMergeable
        );
        if (isMergeable) {
            return mergingValue.getRawValue();
        }
        return null;
    }

    @Override
    public void writeData(ObjectDataOutput out) {
    }

    @Override
    public void readData(ObjectDataInput in) {
    }

    @Override
    public void setHazelcastInstance(HazelcastInstance hazelcastInstance) {
        ConcurrentMap&lt;String, Object&gt; userContext = hazelcastInstance.getUserContext();
        truthProvider = (TruthProvider) userContext.get(TRUTH_PROVIDER_ID);
    }

    public interface TruthProvider {

        boolean isMergeable(Object mergingValue, Object existingValue);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>UserContext</code> can be setup like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">MergePolicyConfig mergePolicyConfig = new MergePolicyConfig()
  .setPolicy(UserContextMergePolicy.class.getName());

MapConfig mapConfig = new MapConfig("default")
  .setMergePolicyConfig(mergePolicyConfig);

ConcurrentMap&lt;String, Object&gt; userContext = new ConcurrentHashMap&lt;String, Object&gt;();
userContext.put(TruthProvider.TRUTH_PROVIDER_ID, new ExampleTruthProvider());

Config config = new Config()
  .addMapConfig(mapConfig)
  .setUserContext(userContext);

Hazelcast.newHazelcastInstance(config);</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The merge operations are executed on the partition threads.
Database accesses are slow compared to in-memory operations.
The <code>SplitBrainMergePolicy.merge()</code> method is called for every key-value pair or
every collection from your smaller cluster, which has a merge policy defined.
So there can be millions of database accesses due to a merge policy, which implements this.
Be aware that this can block your cluster for a long time or overload your database due to the high amount of queries.</p>
</div>
<div class="paragraph">
<p>Also, the <code>com.hazelcast.core.LifeCycleEvent.MERGED</code> is thrown
after a timeout (we don&#8217;t wait forever for merge operations to continue).
At the moment this timeout is 500 milliseconds per merged item or entry, but at least 5 seconds.
If your database is slow, you might get the <code>LifeCycleEvent</code> while there are still merge operations in progress.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="merge-policies-with-multiple-merge-types"><a class="anchor" href="#merge-policies-with-multiple-merge-types"></a>Merge Policies With Multiple Merge Types</h3>
<div class="paragraph">
<p>You can also write a merge policy, which requires multiple merge types.
This merge policy is supported by all data structures, which provide <code>MergingHits</code> and <code>MergingCreationTime</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class ComposedHitsAndCreationTimeMergePolicy&lt;V, T extends MergingValue&lt;V&gt; &amp; MergingHits &amp; MergingCreationTime&gt;
        implements SplitBrainMergePolicy&lt;V, T, Object&gt; {

    @Override
    public Object merge(T mergingValue, T existingValue) {
        if (existingValue == null) {
            return mergingValue.getValue();
        }
        System.out.println("========================== Merging value " + mergingValue.getValue() + "..."
                + "\n    mergingValue creation time: " + mergingValue.getCreationTime()
                + "\n    existingValue creation time: " + existingValue.getCreationTime()
                + "\n    mergingValue hits: " + mergingValue.getHits()
                + "\n    existingValue hits: " + existingValue.getHits()
        );
 
        if (mergingValue.getCreationTime() &lt; existingValue.getCreationTime()
                &amp;&amp; mergingValue.getHits() &gt; existingValue.getHits()) {
            return mergingValue.getRawValue();
        }
        return existingValue.getRawValue();
    }

    @Override
    public void writeData(ObjectDataOutput out) {
    }

    @Override
    public void readData(ObjectDataInput in) {
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you configure this merge policy on a data structures, which does not provide these merge types,
you get an <code>InvalidConfigurationException</code> with a message like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">The merge policy org.example.merge.ComposedHitsAndCreationTimeMergePolicy
can just be configured on data structures which provide the merging type
com.hazelcast.spi.merge.MergingHits.
See SplitBrainMergingTypes for supported merging types.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="merge-policies-for-specific-data-structures"><a class="anchor" href="#merge-policies-for-specific-data-structures"></a>Merge Policies For Specific Data Structures</h3>
<div class="paragraph">
<p>It&#8217;s also possible to restrict a merge policy to a specific data structure.
This merge policy, for example, only works on <code>IMap</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MapEntryCostsMergePolicy implements SplitBrainMergePolicy&lt;Object, MapMergeTypes&lt;Object, Object&gt;, Object&gt; {

    @Override
    public Object merge(MapMergeTypes mergingValue, MapMergeTypes existingValue) {
        if (existingValue == null) {
            return mergingValue.getValue();
        }
        System.out.println("========================== Merging key " + mergingValue.getKey() + "..."
                + "\n    mergingValue costs: " + mergingValue.getCost()
                + "\n    existingValue costs: " + existingValue.getCost()
        );

        if (mergingValue.getCost() &gt; existingValue.getCost()) {
            return mergingValue.getRawValue();
        }
        return existingValue.getRawValue();
    }

    @Override
    public void writeData(ObjectDataOutput out) {
    }

    @Override
    public void readData(ObjectDataInput in) {
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you configure it on other data structures, you get an <code>InvalidConfigurationException</code> with a message like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">The merge policy org.example.merge.MapEntryCostsMergePolicy
can just be configured on data structures which provide the merging type
com.hazelcast.spi.merge.SplitBrainMergeTypes$MapMergeTypes.
See SplitBrainMergingTypes for supported merging types.</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is another example for a merge policy, which only works on
the <code>IAtomicReference</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class AtomicReferenceMergeIntegerValuesMergePolicy
        implements SplitBrainMergePolicy&lt;Object, AtomicReferenceMergeTypes, Object&gt; {

    @Override
    public Object merge(AtomicReferenceMergeTypes mergingValue, AtomicReferenceMergeTypes existingValue) {
        Object mergingUserValue = mergingValue.getValue();
        Object existingUserValue = existingValue == null ? null : existingValue.getValue();
        System.out.println("========================== Merging..."
                + "\n    mergingValue: " + mergingUserValue
                + "\n    existingValue: " + existingUserValue
                + "\n    mergingValue class: " + mergingUserValue.getClass().getName()
                + "\n    existingValue class: " + (existingUserValue == null ? "null" : existingUserValue.getClass().getName())
        );
        if (mergingUserValue instanceof Integer) {
            return mergingValue.getRawValue();
        }
        return null;
    }

    @Override
    public void writeData(ObjectDataOutput out) {
    }

    @Override
    public void readData(ObjectDataInput in) {
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Although every data structure supports <code>MergingValue</code>, which is
the only merge type of <code>AtomicReferenceMergeTypes</code>, this merge policy is restricted to <code>IAtomicReference</code> data structures:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">The merge policy org.example.merge.AtomicReferenceMergeIntegerValuesMergePolicy
can just be configured on data structures which provide the merging type
com.hazelcast.spi.merge.SplitBrainMergeTypes$AtomicReferenceMergeTypes.
See SplitBrainMergingTypes for supported merging types.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="best-practices"><a class="anchor" href="#best-practices"></a>Best Practices</h3>
<div class="paragraph">
<p>Here are some best practices when implementing your own merge policy</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Only call <code>MergingValue.getValue()</code> and <code>MergingEntry.getKey()</code> when you really need
the deserialized value to save costs (CPU and memory) and avoid <code>ClassNotFoundException</code>.</p>
</li>
<li>
<p>If you want to return one of the given values (merging or existing),
it&#8217;s best to return <code>mergingValue.getRawValue()</code> or <code>existingValue.getRawValue()</code>,
since they are already in the correct in-memory format of the data structure.
If you return a deserialized value, it might need to be serialized again, which are avoidable costs.</p>
</li>
<li>
<p>Be careful with slow operations in the merge policy (like database accesses),
since they block your partition threads. Also, the <code>LifeCycleEvent.MERGED</code> or
<code>LifeCycleEvent.MERGE_FAILED</code> may be thrown too early, if the merge operations take too long to finish.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="eliminating-unsuccessful-cluster-merges"><a class="anchor" href="#eliminating-unsuccessful-cluster-merges"></a>Eliminating Unsuccessful Cluster Merges</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In some cases, Hazelcast Platform members which initially can form a cluster (join to each other) may not be
able to recover from the split-brain even though the network failure which caused the split-brain is healed.
The reason is that the master member of the cluster, which responsible for initiating the healing, fails to discover the other cluster&#8217;s master member, so the split-brain merge process never begins.</p>
</div>
<div class="paragraph">
<p>Considering the scenario when you are scaling-up a cluster. You need to add new members because the initial member count in the cluster is insufficient.
The IP addresses of these new members may not exist in the configurations of
the initial set of members, since the new addresses are not added into the configurations of the initial members while starting them.
So, in a cluster with a long lifecycle, some members may not have the address of every other member, resulting in split-brain recovery failures.</p>
</div>
<div class="paragraph">
<p>To overcome this issue, you can use the following REST endpoint to update the member list on the cluster members at runtime.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">/hazelcast/rest/config/tcp-ip/member-list</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can send a <code>GET</code> request to the above endpoint to retrieve the current member list from the member and a <code>POST</code> request for updating the member list.</p>
</div>
<div class="paragraph">
<p>The following is the cURL command to retrieve the member list, and its response format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">curl http://&lt;member IP address&gt;:&lt;port&gt;/hazelcast/rest/config/tcp-ip/member-list

{"status":"success","member-list":["&lt;member-1-address&gt;","&lt;member-2-address&gt;","&lt;member-3-address&gt;", ...]}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is the cURL command to update the member list, and its response format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">curl --data-urlencode "&lt;cluster-name&gt;" --data-urlencode "" --data-urlencode "&lt;member1-address&gt;,&lt;member2-address&gt;,&lt;member3-address&gt;" http://&lt;member IP address&gt;:&lt;port&gt;/hazelcast/rest/config/tcp-ip/member-list

{"status":"success","message":"The member list of TCP-IP join config is updated at run time. ","member-list":["&lt;member1-address&gt;","&lt;member2-address&gt;","&lt;member3-address&gt;"]</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If <a href="../security/overview" class="xref page">security</a> enabled and <a href="../security/simple-authentication" class="xref page">custom member authentication</a> is used in your cluster, the cURL command to update the member list would
look like the following.</p>
</div>
<div class="paragraph">
<p>curl --data-urlencode "&lt;username&gt;" --data-urlencode "&lt;password&gt;" --data-urlencode "&lt;member1-address&gt;,&lt;member2-address&gt;,&lt;member3-address&gt;" <a href="http://&lt;member" class="bare">http://&lt;member</a> IP address&gt;:&lt;port&gt;/hazelcast/rest/config/tcp-ip/member-list</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For these requests to work, you need to enable the <code>CLUSTER_READ</code> and <code>CLUSTER_WRITE</code> endpoint groups, respectively, in the cluster members. See <a href="../maintain-cluster/rest-api#enabling-endpoint-groups" class="xref page">Enabling Endpoint Groups</a>.</p>
</div>
<div class="paragraph">
<p>By using this REST endpoint, you are able to add the missing addresses of the members from the other cluster to your members. Therefore, one cluster master member will find the other cluster&#8217;s master member.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="title">Deprecation Notice for the Community Edition REST API</div>
<div class="paragraph">
<p>The Community Edition REST API has been deprecated and will be removed as of Hazelcast version 7.0. An improved Enterprise version of this feature is available and actively being developed. For more info, see <a href="../maintain-cluster/enterprise-rest-api" class="xref page">Enterprise REST API</a></p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="split-brain-protection">Split-Brain Protection</a></span>
  <span class="next"><a href="../cp-subsystem/cp-subsystem">Overview</a></span>
</nav>
</article>
    <div class="toc-container">
  <aside class="toc sidebar" data-title="Contents" data-levels="1">
    <div class="toc-menu"></div>
  </aside>
  <div class="feedback-prompt">
    <a class="edit-this-page feedback-button" href="https://github.com/hazelcast/hz-docs/edit/v/5.5/docs/modules/network-partitioning/pages/split-brain-recovery.adoc" target="_blank">
      <span class="feedback-button-text git-pull">
        Edit this page
      </span>
    </a>
      <a class="additional-feedback feedback-button" href="https://github.com/hazelcast/hz-docs/issues/new?title=Docs: Feedback for Split-Brain Recovery&body=Hi, I have some feedback about [this page](https://github.com/hazelcast/hz-docs/edit/main/docs/modules/network-partitioning/pages/split-brain-recovery.adoc)%0D%0A" target="_blank">
        <span class="feedback-button-text git">
          Report an issue
        </span>
      </a>
    <div class="feedback-form-container">
  <div id="helpful-feedback-widget" class="helpful-feedback">
    <span class="helpful-feedback-title">Was this helpful?</span>
    <div class="helpful-feedback-buttons">
      <label for="positive-feedback-starter" class="feedback-button yes-button">
        <img src="../../../_/img/thumbs-up.svg" alt="like" class="like-img"/>
        <input type="radio" id="positive-feedback-starter" value="yes"/>
      </label>
      <label for="negative-feedback-starter" class="feedback-button no-button">
        <img src="../../../_/img/thumbs-down.svg" alt="like" class="like-img"/>
        <input type="radio" id="negative-feedback-starter" value="no"/>
      </label>
    </div>
  </div>
  <p id="feedback-submit-success" class="feedback-submit-success hidden">
    Thank you for your feedback.
  </p>
</div>
<div id="feedback-overlay" class="overlay feedback-overlay">
  <div class="overlay-content feedback-overlay-content">
    <span id="close-feedback-overlay" class="close-overlay">&times;</span>
    <h2 class="feedback-overlay-title">Send us your feedback</h2>
    <p class="feedback-overlay-description">Thank you for helping us improve Hazelcast documentation.</p>
    <div>
      <form name="detailed-docs-feedback" id="feedback-form" netlify-honeypot="bot-field" method="POST"
            data-netlify="true">
        <p class="hidden">
          <label>Don’t fill this out if you’re human: <input name="bot-field"/></label>
        </p>
        <div id="positive-feedback-form-container"
             class="feedback-form-container positive-feedback-form-container hidden">
          <label for="yes" class="hidden">
            <input type="radio" id="yes" name="helpful" value="yes">
          </label>

          <label for="solved-my-problem-feedback" class="feedback-radio-button-label">
            <input type="radio" id="solved-my-problem-feedback" name="feedback" value="Solved my problem">
            <span class="feedback-description">
        <span class="radio-btn-title">
          Solved my problem
        </span>
          <span class="radio-btn-description">
          Helped me resolve an issue or answer a question.
        </span>
      </span>
          </label>
                <label for="accurate-radio-feedback" class="feedback-radio-button-label">
            <input type="radio" id="accurate-radio-feedback" name="feedback" value="Accurate"/>
            <span class="feedback-description">
              <span class="radio-btn-title">
                Accurate
              </span>
              <span class="radio-btn-description">
                Precisely describes the product or feature.
              </span>
            </span>
          </label>
          <label for="easy-to-understand" class="feedback-radio-button-label">
            <input type="radio" id="easy-to-understand" name="feedback" value="Easy to understand">
            <span class="feedback-description">
        <span class="radio-btn-title">
          Easy to understand
        </span>
        <span class="radio-btn-description">
          Well written and easy to follow.
        </span>
      </span>
          </label>
          <label for="helped-in-decision" class="feedback-radio-button-label">
            <input type="radio" id="helped-in-decision" name="feedback" value="Helped me decide to use the product">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Helped me decide to use the product
              </span>
              <span class="radio-btn-description">
                Convinced me to try or adopt the product or feature.
              </span>
            </span>
          </label>
          <label for="another-reason" class="feedback-radio-button-label">
            <input type="radio" id="another-reason" name="feedback" value="Another positive reason">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Another reason
              </span>
            </span>
          </label>
        </div>

        <div id="negative-feedback-form-container"
             class="feedback-form-container negative-feedback-form-container hidden">

          <label for="no" class="hidden">
            <input type="radio" id="no" name="helpful" value="no">
          </label>

          <label for="could-not-find" class="feedback-radio-button-label">
            <input type="radio" id="could-not-find" name="feedback" value="Couldn't find what I was looking for">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Couldn't find what I was looking for
              </span>
              <span class="radio-btn-description">
                Missing important information or didn't answer my question.
              </span>
            </span>
          </label>
          <label for="inaccurate-radio-feedback" class="feedback-radio-button-label">
            <input type="radio" id="inaccurate-radio-feedback" name="feedback" value="Inaccurate">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Inaccurate
              </span>
              <span class="radio-btn-description">
                Doesn't accurately describe the product or feature.
              </span>
            </span>
          </label>

          <label for="hard-to-understand" class="feedback-radio-button-label">
            <input type="radio" id="hard-to-understand" name="feedback" value="Hard to understand">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Hard to understand
              </span>
              <span class="radio-btn-description">
                Too complicated or badly written.
              </span>
            </span>
          </label>
          <label for="code-sample-errors" class="feedback-radio-button-label">
            <input type="radio" id="code-sample-errors" name="feedback" value="Code sample errors">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Code sample error
              </span>
              <span class="radio-btn-description">
                Incorrect or missing code sample(s).
               </span>
            </span>
          </label>
          <label for="another-negative-reason" class="feedback-radio-button-label">
            <input type="radio" id="another-negative-reason" name="feedback" value="Another negative reason">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Another reason
              </span>
            </span>
          </label>
        </div>
        <div class="feedback-form-submit-container">
          <button type="submit" id="feedback-form-submit-btn" class="feedback-form-submit-btn">
            SUBMIT
          </button>
        </div>
        <textarea
          id="additional-textual-feedback"
          name="additional-textual-feedback"
          class="additional-textual-feedback"
          placeholder="(Optional) Please provide specific examples or suggestions!"
          rows="6"
        ></textarea>
      </form>
    </div>
  </div>
</div>
</div>
</div>
  </div>
</main>

</div>
    <div class="feedback-footer-container">
  <div class="feedback-footer">
    <div class="card-header">
      <img class="card-img" src="../../../_/img/lifebuoy.svg" alt="lifebuoy" />
      <h4 class="card-title">Help and support</h4>
    </div>
      <a class="additional-feedback feedback-button" href="https://github.com/hazelcast/hz-docs/issues/new?title=Docs: Feedback for Split-Brain Recovery&body=Hi, I have some feedback about [this page](https://github.com/hazelcast/hz-docs/edit/main/docs/modules/network-partitioning/pages/split-brain-recovery.adoc)%0D%0A" target="_blank">
        <span class="feedback-button-text git">
          Report an issue
        </span>
      </a>
    <a class="additional-feedback feedback-button" href="https://slack.hazelcast.com/" target="_blank">
      <span class="feedback-button-text command">
        Ask Community
      </span>
    </a>
    <a class="additional-feedback feedback-button" href="https://training.hazelcast.com/?utm_source=docs-website" target="_blank">
      <span class="feedback-button-text training">
        Online Training
      </span>
    </a>
    <a class="additional-feedback feedback-button" href="https://support.hazelcast.com/s/?utm_source=docs-website" target="_blank">
      <span class="feedback-button-text mail">
        Contact Support
      </span>
    </a>
  </div>
</div>
    <footer class="footer">
  <a href="https://hazelcast.com/terms-of-use/?utm_source=docs-website">Terms of service</a>
  <a href="/privacy/">Privacy</a>
  <a href="https://hazelcast.com/contact/?utm_source=docs-website">Contact us</a>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>

<script>
  const hzDocSearch = (facetFilters, placeholder) => {
    docsearch({
      apiKey: 'ef7bd9485eafbd75d6e8425949eda1f5',
      indexName: 'prod_hazelcast_docs',
      appId: 'QK2EAH8GB0',
      container: '#search-input',
      // Set debug to true to inspect the dropdown
      debug: false,
      searchParameters: { facetFilters: facetFilters },
      translations: {
        button: {
          buttonText: placeholder,
          buttonAriaLabel: placeholder,
        },
      },
    })
  };
</script>

<!-- SEARCH CONFIGURATIONS -->
<!-- 404 is not a component, so we avoid reading the component versions and names from it -->
  <!-- TUTORIALS -->
  <script>
    hzDocSearch(["tags:hazelcast-5.5"]);
  </script>
  <script>
    function closeBanner() {
      var banner = document.getElementById('latest-banner')
      if (banner) {
        banner.style.display = 'none'
      }
    }
  </script>
  <script>
  function applyFacetedSearch(){
      var checkbox = document.getElementById('facet')
      if (checkbox.checked) {
        hzDocSearch([[
          "tags:hazelcast-5.5",
          "tags:management-center-5.7",
          "tags:cloud",
          "tags:flow-",
        ]], 'Search all docs...');
      } else {
        hzDocSearch(["tags:hazelcast-5.5"]);
      }
    }
  </script>

<script>
  feather.replace();
</script>
  </body>
</html>
