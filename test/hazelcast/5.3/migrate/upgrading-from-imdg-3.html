<!DOCTYPE html>
<html lang="en">
  <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
 <title>Upgrading from IMDG 3.12.x | Hazelcast Documentation</title>
    <link rel="canonical" href="https://docs.hazelcast.com/hazelcast/5.5/migrate/upgrading-from-imdg-3">
    <link rel="prev" href="upgrading-from-imdg-4">
    <link rel="next" href="../architecture/architecture">
    <meta name="generator" content="Antora 3.1.10">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
<!-- Apply the site styles after the docsearch ones -->
<link rel="stylesheet" href="../../../_/css/site.css">
<style>
  .nav-item[data-depth="1"] {
  color: #6d7480;
}
</style>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
<meta name="google-site-verification" content="3gaMIo4Cp94mol0v1ae9PNYw9xYLbP4O_IrQxSvnS7E" />
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MQ59XD6');</script>
  <!-- End Google Tag Manager -->

  <!-- Kapa snippet -->
  <script
    src="https://widget.kapa.ai/kapa-widget.bundle.js"
    data-website-id="6b326171-dd1e-40c6-a948-1f9bb6c0ed52"
    data-project-name="Hazelcast"
    data-project-color="#000000"
    data-project-logo="/_/img/kapa/kapa-logo.png"
    data-modal-z-index="10001"
    data-modal-title="Ask AI"
    data-modal-header-bg-color="#71808A"
    data-modal-title-color="#fff"
    data-modal-disclaimer-text-color="#10A4B3"
    data-modal-image-width="40"
    data-modal-image-height="40"
    data-modal-title-font-family="PP Telegraf"
    data-modal-title-font-size="30px"
    data-modal-title-font-weight="400"
    data-modal-disclaimer="This is an experimental custom LLM for answering technical questions about Hazelcast. Answers are based **only** on Hazelcast documentation and support sources, but may not be fully accurate so please use your best judgement. Don't forget to rate the answers and give feedback!"
    data-modal-example-questions="How do I get started with Hazelcast?,What are Enterprise-only features?,What is the best serialization strategy?,What is the CP Subsystem?"
    data-button-image-width="40"
    data-button-image-height="40"
    data-button-border="1px solid #AFE922"
    data-button-border-radius="10px"
    data-button-bg-color="#0b2b39"
    data-button-text-font-family="PP Telegraf"
    data-button-text-font-size="16px"
    data-button-text-font-weight="400"
    data-search-mode-enabled="true"
    data-search-display-num-results="10"
    data-search-source-group-order='["docs.hazelcast.com", "Java API Docs", "C# API Docs", "Go Client Docs"]'
  ></script>
  <!-- End Kapa snippet -->

<script src="https://app.enzuzo.com/scripts/cookiebar/85a261c2-e311-11ef-b8c9-bb6cda60a835"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/js/all.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
      <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MQ59XD6"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
<header class="header">
  <nav class="navbar navbar-brand">
    <div class="navbar-start">
      <a class="navbar-item navbar-logo-item" href="/">
        <img class="navbar-logo-item-img" src="../../../_/img/hazelcast-logo-white.png" alt="Hazelcast Logo" />
      </a>
      <p class="navbar-item navbar-app-title">
        Documentation
      </p>
    </div>

    <div class="navbar-end">
        <div id="search-input" class="navbar-item searchbox"></div>
          <label class="filter checkbox">
            <input id="facet" type="checkbox" onclick="applyFacetedSearch()"> Search all docs
          </label>
        <a class="navbar-item get-hazelcast-link" href="https://hazelcast.com/get-started/?utm_source=docs-website" target="_blank">
          <button class="button navbar-button">Get Hazelcast</button>
        </a>
    </div>
  </nav>
</header>
    <div class="body">
  <div class="nav-container" data-component="hazelcast" data-version="5.3">
  <aside class="nav">
    <div id="navVersionPicker" class="nav-version-picker" data-active-toggle>
  <div class="navbar-product-name">
    <a id="navbarProductName" class="nav-version-picker-toggle nav-version-picker-toggle-components" data-toggle-value="product"  title="Hazelcast Platform">
      Hazelcast Platform
    </a>
  </div>

    <div class="navbar-product-version">
      <a id="navbarProductVersion" class="nav-version-picker-toggle nav-version-picker-toggle-versions" data-toggle-value="version" title="5.3">
        5.3
      </a>
    </div>

  <ul class="nav-version-picker-components" id="navbarProductsList">
      <span>hazelcast</span>
        <li class="component is-current">
              <a href="../../5.5/">
                Hazelcast Platform
              </a>
        </li>
      <span>management-center</span>
        <li class="component">
              <a href="../../../management-center/5.7/">
                Management Center
              </a>
        </li>
      <span>home</span>
      <span>privacy</span>
      <span>templates</span>
      <span>tutorials</span>
        <li class="component">
              <a href="../../../tutorials/">
                Tutorials
              </a>
        </li>
  </ul>

      <ul class="nav-version-picker-versions" id="navbarVersionsList">
            <li
              class="version"
            >
              <a href="../../6.0-snapshot/migrate/upgrading-from-imdg-3">6.0-SNAPSHOT</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.5/migrate/upgrading-from-imdg-3">5.5</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.4/migrate/upgrading-from-imdg-3">5.4</a>
            </li>
            <li
              class="version is-current"
            >
              <a href="upgrading-from-imdg-3">5.3</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.2/migrate/upgrading-from-imdg-3">5.2</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.1/migrate/upgrading-from-imdg-3">5.1</a>
            </li>
            <li
              class="version"
            >
              <a href="../../5.0/migrate/upgrading-from-imdg-3">5.0</a>
            </li>
      </ul>
</div>
    <div class="panels">
  <div class="nav-panel-menu is-active" data-panel="menu">
    <nav class="nav-menu">
        <ul class="nav-list">
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Get Started</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../">Hazelcast Overview</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Start a Local Cluster</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-cli">CLI</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-docker">Docker</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-binary">Binary</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/get-started-java">Java Embedded</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Explore Enterprise Features</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/enterprise-overview">Get Started with Hazelcast Enterprise</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/persistence">Persist Map Entries on Disk</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/authenticate-clients">Authenticate Client Connections</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/wan">Replicate a Map over Clusters in a WAN</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/blue-green">Deploy Blue-Green Clusters</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/support">Getting Support</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../getting-started/resources">Developer Resources</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../glossary">Glossary</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Develop Solutions</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Finding the Right Tool</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../ingest/overview">Ingesting Data from External Sources</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../computing/distributed-computing">Distributed Computing</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../query/overview">Running Distributed Queries</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Connecting to a Cluster</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clients/hazelcast-clients">Getting Started with a Hazelcast Client</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clients/java">Java Client</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clients/cplusplus">C++ Client</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clients/dotnet">.NET Client</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clients/rest">REST Client</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clients/memcache">Memcache Client</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clients/python">Python Client</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clients/nodejs">Node.js Client</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clients/go">Go Client</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clients/clc">Hazelcast Command-Line Client</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Distributed Data Structures</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/distributed-data-structures">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Map</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/map">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/map-config">Configuring Maps</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/creating-a-map">Creating a Map</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/reading-a-map">Reading Data From a Map</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/updating-map-entries">Updating Map Entries</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/setting-data-format">Setting the In-Memory Format of Map Entries</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/backing-up-maps">Making Your Map Data Safe</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/managing-map-memory">Managing Map Memory</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/locking-maps">Locking Maps</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/listening-for-map-entries">Acting Upon Changes to a Map</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../data-structures/reading-map-metrics">Reading Map Metrics</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">JCache</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/jcache">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/overview">JCache Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/setup">JCache Setup and Configuration</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/providers">JCache Providers</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/api">JCache API</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/hazelcast-integration">JCache - Hazelcast Instance Integration</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/icache">Hazelcast JCache Extension - ICache</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../jcache/tck">Testing for JCache Specification Compliance</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/queue">Queue</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/priority-queue">Priority Queue</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/multimap">MultiMap</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/set">Set</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/list">List</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/ringbuffer">Ringbuffer</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/topic">Topic</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/reliable-topic">Reliable Topic</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/fencedlock">FencedLock</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/iatomiclong">IAtomicLong</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/isemaphore">ISemaphore</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/iatomicreference">IAtomicReference</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/icountdownlatch">ICountDownLatch</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/pn-counter">PN Counter</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/flake-id-generator">Flake ID Generator</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/replicated-map">Replicated Map</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/cardinality-estimator-service">Cardinality Estimator Service</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/event-journal">Event Journal</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../cache/overview">Caching Data</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../mapstore/working-with-external-data">Building a Cache with MapStore</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../mapstore/configuring-a-generic-maploader">Using the generic MapLoader</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../mapstore/configuring-a-generic-mapstore">Using the generic MapStore</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../mapstore/implement-a-mapstore">Implementing a Custom MapStore</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../mapstore/configuration-guide">Configuring a MapStore</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../mapstore/mapstore-triggers">Map Operations that Trigger Methods on a MapStore</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Building Data Pipelines</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/overview">About Data Pipelines</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Get Started</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/stream-processing-embedded">Get Started with Stream Processing (Embedded)</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/stream-processing-client">Get Started with Stream Processing (Client/Server)</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Ingesting Data from Sources</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/ingesting-from-sources">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-stream-source">Creating a Custom Streaming Source</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-batch-source">Adding Batching to a Custom Source</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Processing Data</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/transforms">Transforms</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-aggregate-operation">Building a Custom Aggregate Operation</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/python">Apply a Custom Transform with Python</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Sending Results to Sinks</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/sending-data-to-sinks">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/custom-sink">Create a Custom Sink</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Stream Processing</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/building-pipelines">About Stream Processing Pipelines</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/windowing">Apply Windowed Aggregation</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/stream-imap">Subscribe to Changes to a Map</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/map-join">Enrich a Stream</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/cdc-overview">Change Data Capture (CDC)</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc-database-setup">Setting Up a Database for Change Data Capture</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc">Capture Changes from MySQL</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc-postgres">Capture Changes from PostgreSQL</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/cdc-join">Join Change Data Capture Records</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../pipelines/etl-overview">Extract Transform Load (ETL)</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/kafka">Connect to Apache Kafka</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/kinesis">Connect to Amazon Kinesis</a>
              </li>
      <li class="nav-item" data-depth="4">
            <a class="nav-link

            " href="../pipelines/pulsar">Group Messages from Apache Pulsar</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/serialization">Serializing Pipelines</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/configuring-jobs">Configuring Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-security">Securing Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/submitting-jobs">Submitting Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-management">Managing Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-monitoring">Monitoring Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/job-update">Updating Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../pipelines/xa">Testing Sources and Sinks for XA Transaction Support</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../query/predicate-overview">Predicates API</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Improving Query Performance</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../query/indexing-maps">Indexing Maps</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../performance/data-affinity">Data Affinity</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../performance/caching-deserialized-values">Caching Deserialized Values</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../performance/near-cache">Near Cache</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-structures/preventing-out-of-memory">Preventing Out of Memory Exceptions when Querying a Map</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">SQL</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/sql-overview">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over Maps</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/get-started-sql">Tutorial</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/querying-maps-sql">Queries</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-maps">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over Kafka</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/learn-sql">Tutorial</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-kafka">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over File Systems</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/get-started-sql-files">Tutorial</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/mapping-to-a-file-system">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over JDBC</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link
 beta
            " href="../sql/mapping-to-jdbc">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">SQL Over MongoDB</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link
 beta
            " href="../sql/mapping-to-mongo">Mappings</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/working-with-json">Working with JSON</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/querying-streams">Stream Processing</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/parameterized-queries">Query Parameters</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/finding-mappings">Finding Mappings</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/improving-performance">Improving Performance</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/troubleshooting">Troubleshooting</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Statements</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/sql-statements">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/alter-job"><code>ALTER JOB</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-data-connection"><code>CREATE DATA CONNECTION</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-index"><code>CREATE INDEX</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-job"><code>CREATE JOB</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-mapping"><code>CREATE MAPPING</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-snapshot"><code>CREATE SNAPSHOT</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/create-view"><code>CREATE VIEW</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/delete"><code>DELETE</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-data-connection"><code>DROP DATA CONNECTION</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-job"><code>DROP JOB</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-mapping"><code>DROP MAPPING</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-snapshot"><code>DROP SNAPSHOT</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/drop-view"><code>DROP VIEW</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/explain"><code>EXPLAIN</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/sink-into"><code>INSERT INTO</code>/<code>SINK INTO</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/select"><code>SELECT</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/show-jobs"><code>SHOW JOBS</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/show-resources"><code>SHOW RESOURCES</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/show-mappings"><code>SHOW MAPPINGS</code></a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../sql/update"><code>UPDATE</code></a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/functions-and-operators">Functions and Expressions</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/data-types">SQL Data Types</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../sql/user-defined-types">User-Defined Types in SQL</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Connector Guides</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/connectors">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Files</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/file-connector">Unified File Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/legacy-file-connector">Legacy File Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Kafka Connect Connectors</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link
 beta
            " href="../integrate/kafka-connect-connectors">Source Connectors</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Messaging System Connectors</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/messaging-system-connectors">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/kafka-connector">Apache Kafka Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/kinesis-connector">Amazon Kinesis Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/jms-connector">JMS Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/pulsar-connector">Apache Pulsar Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Data Structure Connectors</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/jcache-connector">JCache Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/list-connector">List Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/map-connector">Map Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/reliable-topic-connector">Reliable Topic Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Databases</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/database-connectors">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/jdbc-connector">JDBC Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/cdc-connectors">CDC Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/elasticsearch-connector">Elasticsearch Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/mongodb-connector">MongoDB Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/influxdb-connector">InfluxDB Connector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../integrate/redis-connector">Redis Connector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/test-connectors">Test Source Connectors</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/socket-connector">Socket Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/http-connector">HTTP Listener Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/twitter-connector">Twitter Connector</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../integrate/custom-connectors">Custom Connectors</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Integrating with Spring</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/overview">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/configuration">Configuring Hazelcast in Spring</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/springaware">Enabling SpringAware Objects</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/add-caching">Adding Caching to Spring</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/hibernate">Configuring Hibernate Second-Level Cache</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/transaction-manager">Configuring Hazelcast Transaction Manager</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../spring/best-practices">Spring Best Practices</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Java Executor Service</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../computing/executor-service">Java Executor Service</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../computing/durable-executor-service">Durable Executor Service</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../computing/scheduled-executor-service">Scheduled Executor Service</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../computing/entry-processor">Entry Processor</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Adding Java Classes to Members</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/deploying-code-on-member">Deploying User Code on the Member</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/deploying-code-from-clients">Deploying User Code from Clients</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/accessing-domain-objects">Accessing Domain Objects Without Domain Classes</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Serialization</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/serialization">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/compact-serialization">Compact Serialization</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/serializing-json">HazelcastJsonValue</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/implementing-identifieddataserializable">IdentifiedDataSerializable</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Other Serialization Options</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-java-serializable">Java Serializable and Externalizable</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-dataserializable">DataSerializable</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-portable-serialization">Portable</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/custom-serialization">Custom Serialization</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/global-serializer">Global Serializer</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../serialization/implementing-hazelcastinstanceaware">HazelcastInstanceAware</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../serialization/serialization-configuration">Configuring Serializers</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Listening to Events</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/distributed-events">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/cluster-events">Cluster Events</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/event-listeners-for-clients">Event Listeners for Hazelcast Clients</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/global-event-configuration">Global Event Configuration</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../events/object-events">Distributed Object Events</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Transactions</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../transactions/creating-a-transaction-interface">Creating a Transaction Interface</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../transactions/providing-xa-transactions">Providing XA Transactions</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Testing Applications</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../test/testing-apps">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../test/testing">Testing Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../simulator">Hazelcast Simulator</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Troubleshooting</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/troubleshooting">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/error-handling">Error Handling Strategies for Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/remedies-for-alerts">Actions and Remedies for Alerts</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/recovery-members">Recovery from a Partial or Total Failure</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../troubleshoot/recovery-clients">Recovery from Client Connection Failures</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../common-exception-types">Common Exception Types</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Deploy Clusters</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../production-checklist">Production Checklist</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../capacity-planning">Capacity Planning</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Installation</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/choosing-a-deployment-option">Choosing an Application Topology</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/editions">Editions and Distributions</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/install-hazelcast">Open Source</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../getting-started/install-enterprise">Enterprise</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Member/Client Discovery</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovery-mechanisms">Discovery Mechanisms</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovering-by-tcp">Discovering Members by TCP</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovering-by-multicast">Discovering Members by Multicast</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/discovering-native-clients">Discovering Java Clients</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Public Cloud</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/deploying-in-cloud">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/deploying-on-aws">Deploying a Cluster on Amazon AWS</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/deploying-on-azure">Deploying a Cluster on Microsoft Azure</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../deploy/deploying-on-gcp">Deploying a Cluster on Google Cloud Platform</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../deploy/deploying-with-docker">Deploying on Docker</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Kubernetes</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/deploying-in-kubernetes">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="#operator:ROOT:get-started.adoc">Hazelcast Platform Operator</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/kubernetes-auto-discovery">Kubernetes Auto Discovery</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../kubernetes/troubleshooting-and-limitations">Troubleshooting and Limitations</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Helm Charts</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-hazelcast-chart">Hazelcast Chart</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-hazelcast-enterprise-chart">Hazelcast Enterprise Edition Chart</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-upgrade-guide">Helm Upgrade Guide</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-adding-custom-jar">Adding Custom Jar</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-enabling-external-access">Enabling External Access</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-configuring-ssl">Configuring SSL</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../kubernetes/helm-dynamic-persistence-configuration">Dynamic Persistence Configuration</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Configure and Manage Clusters</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Configuration</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../configuration/understanding-configuration">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Static Configuration</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-declaratively">Member Configuration Files</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-programmatically">Configuring Hazelcast in Embedded Mode</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-with-system-properties">System Props and Environment Variables</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/jvm-parameters">JVM Parameters</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/configuring-within-spring">Configuring Hazelcast in Spring</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/pattern-matcher">Configuration Pattern Matcher</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/using-wildcards">Using Wildcards</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Dynamic Configuration</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config-programmatic-api">Programmatic API</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config-update-and-reload">Update and Reload with REST</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../configuration/dynamic-config-persistence">Configuration Options</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../deploy/enterprise-licenses">Managing Enterprise License Keys</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../maintain-cluster/logging">Configuring Logging</a>
              </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Maintaining a Cluster</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/rolling-upgrades">Rolling Upgrades</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/monitoring">Monitoring</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/cluster-member-states">Cluster and Member States</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/member-attributes">Filtering Members with Attributes</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/lite-members">Lite Members</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/shutdown">Shutting Down</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../maintain-cluster/rest-api">REST API</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../management/cluster-utilities">Cluster Utilities</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Partition Groups and Networking</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/creating-clusters">Grouping Clusters</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/partition-group-configuration">Grouping Partitions</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../clusters/network-configuration">Networking</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Improving Cluster Performance</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/performance-tuning">Performance Tuning</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cluster-performance/best-practices">Best Practices</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../storage/high-density-memory">High-Density Memory Store</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Securing a Cluster</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/overview">Security Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../secure-cluster/security-defaults">Security Defaults</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../secure-cluster/hardening-recommendations">Security Hardening Recommendations</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/enabling-jaas">Enabling JAAS Security</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">TLS/SSL</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/tls-ssl">TLS/SSL Basics</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/integrating-openssl">Integrating OpenSSL / BoringSSL</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/tls-configuration">Other TLS-Related Configurations</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Authentication Types</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/default-authentication">Default authentication</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/simple-authentication">Simple Authentication</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/jaas-authentication">JAAS authentication</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/security-realms">Security Realms</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/cluster-member-security">Cluster Member Security</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/native-client-security">Client Security</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/socket-interceptor">Socket Interceptor</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../security/security-interceptor">Security Interceptor</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Advanced Security Features</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/logging-auditable-events">Logging Auditable Events</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/validating-secrets">Validating Secrets Using Strength Policy</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/fips-140-2">FIPS 140-2</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/security-debugging">Security Debugging</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../security/encryption">Encryption</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Configuring for Fault Tolerance</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../fault-tolerance/backups">Backups</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Persistence</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/persistence">Overview</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/configuring-persistence">Configuration</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/backing-up-persistence">Backups</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/triggering-force-start">Force-start</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/triggering-partial-start">Partial-start</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/persistence-on-intel">Intel Optane DC</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/copying-persistence">Copying Data</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/performance">Performance Benchmark</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../storage/persistence-design">Design Details</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Detecting Failures</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/failure-detector-configuration">Failure Detectors</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/deadline-detector">Deadline Failure Detector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/phi-accrual-detector">Phi Accrual Failure Detector</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../clusters/ping-detector">Ping Failure Detector</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../fault-tolerance/timeouts">Connection Timeouts</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../fault-tolerance/fault-tolerance">Fault Tolerance for Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
              <span class="nav-text">Handling Network Partitions</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../network-partitioning/network-partitioning">Network Partitioning</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../network-partitioning/partial-network-partitions">Partial Network Partitions</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../network-partitioning/dealing-with-network-partitions">Dealing with Network Partitions</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../network-partitioning/split-brain-protection">Split-Brain Protection</a>
              </li>
      <li class="nav-item" data-depth="3">
            <a class="nav-link

            " href="../network-partitioning/split-brain-recovery">Split-Brain Recovery</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Tiered Storage</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link
 beta
            " href="../tiered-storage/overview">Tiered Storage</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link
 beta
            " href="../tiered-storage/configuration">Configuring Tiered Storage</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">CP Subsystem</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/cp-subsystem">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/configuration">Configuration</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/management">Management</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../cp-subsystem/best-practices">Best Practices</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Data Connections</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../data-connections/data-connections-configuration">Configuring Data Connections to External Systems</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Synchronizing Data Across Clusters</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/wan">WAN Replication Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/modes">WAN Replication Modes</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/quick-start">WAN Quickstart</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/defining-wan-replication">Configuring WAN Replication</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/configuring-for-map-and-cache">Configuring for IMap and ICache</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/advanced-features">Advanced Features</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/tuning">Fine-Tuning WAN Replication</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/failures">Failure Detection and Recovery</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../wan/rest-api">REST API for WAN Wrap-Up</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../extending-hazelcast/extending-hazelcast">Extending Hazelcast</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../extending-hazelcast/operationparker">OperationParker</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../extending-hazelcast/discovery-spi">Discovery SPI</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../extending-hazelcast/config-properties-spi">Config Properties SPI</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../osgi/osgi">OSGI</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/osgi-support">OSGI Support</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/api">API</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/configuring-osgi-support">Configuring Hazelcast OSGI Support</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/design">Design</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../osgi/using-osgi-service">Using Hazelcast OSGI Service</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Upgrade</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../deploy/versioning-compatibility">Versioning and Compatibility</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="data-migration-tool">Using the Data Migration Tool</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="dmt-command-reference">DMT Command Reference</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="migration-tool-imdg">Migrating Data from IMDG 3.12.x</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="upgrading-from-jet">Upgrading from Jet</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="upgrading-from-imdg-4">Upgrading from IMDG 4.x</a>
              </li>
      <li class="nav-item is-current-page" data-depth="1">
            <a class="nav-link

            " href="upgrading-from-imdg-3">Upgrading from IMDG 3.12.x</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Reference</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
              <span class="nav-text">Architecture</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/architecture">Overview</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/data-partitioning">Data Partitioning and Replication</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/distributed-computing">Jet: How Hazelcast Models and Executes Jobs</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/execution-engine">Cooperative Multithreading</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/event-time-processing">How Hazelcast Handles Event Disorder</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/sliding-window">Jet: Sliding Window Aggregation</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../architecture/in-memory-storage">In-Memory Storage</a>
              </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../system-properties">System Properties</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../faq">Frequently Asked Questions</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../list-of-metrics">Metrics</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../phone-homes">Phone Homes</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../compact-binary-specification">Compact Serialization Binary Specification</a>
              </li>
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../plugins/hazelcast-plugins">Hazelcast Plugins</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/cloud-discovery">Cloud Discovery Plugins</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/web-session-replication">Web Session Replication Plugins</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/framework-integration">Framework Integration Plugins</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../plugins/other-integrations">Other Integrations</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
      <li class="nav-item" data-depth="0">
              <span class="nav-text">Release Notes</span>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="1">
            <a class="nav-link

            " href="../release-notes/releases">Releases</a>
              <button class="nav-item-toggle"></button>
          <ul class="nav-list">
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-3-8">5.3.8</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-3-7">5.3.7</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-3-6">5.3.6</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-3-5">5.3.5</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-3-2">5.3.2</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-3-1">5.3.1</a>
              </li>
      <li class="nav-item" data-depth="2">
            <a class="nav-link

            " href="../release-notes/5-3-0">5.3.0</a>
              </li>
  </ul>
      </li>
  </ul>
      </li>
  </ul>
    </nav>
  </div>
    </div>
  </aside>
</div>
<div id="hide-nav">
  <button>
    <span>
      ᐸ
    </span>
  </button>
</div>
  <main class="article">
    <div class="article-banner prerelease" id="latest-banner">
      <div class="prerelease">
        <p>A newer version of Hazelcast Platform is available.</p>
        <a class="btn" href="../../5.5/migrate/upgrading-from-imdg-3">View latest</a>
      </div>
            <button onclick="closeBanner()" style="color:white; font-size: 2em; background:none; border:none; align-self: flex-start;">&times;</button>
    </div>
  <div class="content">
    <article class="doc">
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../">Platform</a></li>
    <li>Upgrade</li>
    <li><a href="upgrading-from-imdg-3">Upgrading from IMDG 3.12.x</a></li>
  </ul>
</nav>
    <button class="nav-toggle"></button>
      <h1 class="page">Upgrading from IMDG 3.12.x</h1>
    <div class="page-versions">
    <button class="version-menu-toggle" title="Show other versions of page">Version 5.3</button>
    <div class="version-menu">
          <a class="version" href="../../6.0-snapshot/migrate/upgrading-from-imdg-3">6.0-SNAPSHOT</a>
          <a class="version" href="../../5.5/migrate/upgrading-from-imdg-3">5.5</a>
          <a class="version" href="../../5.4/migrate/upgrading-from-imdg-3">5.4</a>
          <a class="version is-current" href="upgrading-from-imdg-3">5.3</a>
          <a class="version" href="../../5.2/migrate/upgrading-from-imdg-3">5.2</a>
          <a class="version" href="../../5.1/migrate/upgrading-from-imdg-3">5.1</a>
          <a class="version" href="../../5.0/migrate/upgrading-from-imdg-3">5.0</a>
    </div>
  </div>
  <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This section lists the distribution, documentation and API changes for you to be
aware when you have been using IMDG 3.12.x and want to use Hazelcast Platform.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See also <a href="upgrading-from-imdg-4" class="xref page">Upgrading from IMDG and Jet Version 4.x</a>
to learn about the changes that need to be considered while upgrading from IMDG 4.x to Hazelcast Platform.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Hazelcast offers tools and features for a smooth migration from
3.12 to Platform 5.3. See <a href="migration-tool-imdg" class="xref page">Migrating Data from IMDG 3.12.x</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Hazelcast Platform is a major version release.
Major releases allow us to break compatibility in the wire protocols and API, as well as removing
the previously deprecated API.</p>
</div>
<div class="paragraph">
<p>As breaking changes have been made to the client and cluster member protocols, it is not possible
to perform any in-place or rolling upgrade from a running IMDG 3.12.x cluster to Platform 5.3.
The only way to upgrade to Platform 5.3 is to completely shutdown the cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-hazelcast-client-module"><a class="anchor" href="#removal-of-hazelcast-client-module"></a>Removal of Hazelcast Client Module</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The <code>hazelcast-client</code> module has been merged into the core module: All the classes
in the <code>hazelcast-client</code> module have been moved to <code>hazelcast</code>.
<code>hazelcast-client.jar</code> will not be created anymore.</p>
</li>
<li>
<p>Also the <code>com.hazelcast.client</code> Java module is not used anymore. All classes
are now available within the <code>com.hazelcast.core</code> module.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jcache-default-caching-provider"><a class="anchor" href="#jcache-default-caching-provider"></a>JCache default Caching Provider</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The default <code>CachingProvider</code> is the client-side <code>CachingProvider</code>. In order to select the
member-side <code>CachingProvider</code>, you can specify the member-side <code>CachingProvider</code> by defining
the Hazelcast property <code>hazelcast.jcache.provider.type</code>. See the
<a href="../jcache/providers#configuring-jcache-provider" class="xref page">Configuring JCache Provider</a> section for more details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-user-defined-services"><a class="anchor" href="#removal-of-user-defined-services"></a>Removal of User Defined Services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The public SPI (Service Provider Interface) which was known as
User Defined Service has been removed. It was not simple enough and
backwards compatibility was broken. A new and clearly
defined SPI may be developed in the future if there is enough interest.
The removed SPI&#8217;s classes will be kept to be used internally.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-client-connection-retry-mechanism"><a class="anchor" href="#changes-in-client-connection-retry-mechanism"></a>Changes in Client Connection Retry Mechanism</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The <code>connection-attempt-period</code> and <code>connection-attempt-limit</code>
configuration have been removed. Instead, the elements of
<code>connection-retry</code> are now used. See
<a href="../clients/java#configuring-client-connection-retry" class="xref page">Configuring Client Connection Retry</a>
for the usage of those new elements.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="increasing-the-memberclient-thread-counts"><a class="anchor" href="#increasing-the-memberclient-thread-counts"></a>Increasing the Member/Client Thread Counts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If there are 20 or more processors detected, the Hazelcast member
by default starts 4+4 (4 input and 4 output) I/O threads.
This is to increase out of the box performance on faster machines
because often (especially the cache with
caching situations) the performance is I/O bound and
having some extra cores available for I/O can make a significant
difference. If less than 20 cores are detected, 3+3 IO threads are used
and the behavior remains the same as Hazelcast IMDG 3.x series.</p>
</div>
<div class="paragraph">
<p>A smart client, by default, gets 3+3 (3 input and 3 output) I/O threads to
speed up the performance. Previously, this was
1+1. However, the client I/O can become a bottleneck with too few threads.
If TLS/SSL is enabled, then by default a smart client
makes use of 3+3 I/O threads which was already the case with previous versions.</p>
</div>
<div class="paragraph">
<p>There has been a new performance feature since IMDG 4.0 called
thread overcommit. By default, Hazelcast creates more
threads than it has cores, e.g., on a 20 cores machine it creates 28 threads;
20 threads for the partition operations
and 4+4 threads for I/O. In case of a typical caching usage (get/put/set, etc.)
having too many threads can cause a performance
degradation due to increased context switching. So there is
a new option called <code>hazelcast.operation.thread.overcommit</code>.
If this property is set to true, i.e., <code>-Dhazelcast.operation.thread.overcommit=true</code>,
which is the default, Hazelcast uses the old style thread
configuration where there are more threads than cores. If set to false,
the number of partition threads plus the I/O threads will be equal to the  core count.
It depends on the environment if this gives a performance boost or not.
In some environments it can give a significant boost
and in some it will give a significant loss; it is best to benchmark
for your specific situation. If you are doing lots of queries or other tasks
which are CPU-bound, e.g., aggregations, you probably want to have as many cores available to partition
operations as possible.</p>
</div>
<div class="paragraph">
<p>See <a href="../cluster-performance/best-practices#threading-model" class="xref page">Threading Model</a> for more information on Hazelcast&#8217;s threading model.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="optimizing-for-single-threaded-usages"><a class="anchor" href="#optimizing-for-single-threaded-usages"></a>Optimizing for Single Threaded Usages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A write-through optimization has been performed. This helps to reduce the
latency in case of single threaded usages.</p>
</div>
<div class="paragraph">
<p>Normally, when a request is made, the request is handed over the
I/O system where an I/O thread takes care of sending it over the wire.
This is great for throughput, but in case of single threaded setups,
it adds to the latency and therefore it reduces the throughput because threads
need to be notified.</p>
</div>
<div class="paragraph">
<p>Hazelcast now detects the single threaded usage
and tries to write through to the socket directly instead of handing
it over to the I/O thread; this optimization is called "write-through".</p>
</div>
<div class="paragraph">
<p>This technique is being applied on the client, but also on the member.
We have something similar when responses are received: normally a
response is processed by the response thread, but in case of
a single threaded usage, the response is processed on the I/O thread
so we can remove a thread notification and therefore get higher throughput.</p>
</div>
<div class="paragraph">
<p>Both the write-through and response-through are enabled by default.
If Hazelcast detects that there are many active threads,
response- and write-through are disabled so it won&#8217;t cause a performance
degradation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removing-deprecated-client-configurations"><a class="anchor" href="#removing-deprecated-client-configurations"></a>Removing Deprecated Client Configurations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following methods of <a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/client/config/ClientConfig.html" target="_blank" rel="noopener">ClientConfig</a> have been refactored:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>addNearCacheConfig(String, NearCacheConfig)</code> &#8594; <code>addNearCacheConfig(NearCacheConfig)</code></p>
</li>
<li>
<p><code>setSmartRouting(boolean)</code> &#8594; <code>getNetworkConfig().setSmartRouting(boolean);</code></p>
</li>
<li>
<p><code>getSocketInterceptorConfig()</code> &#8594; <code>getNetworkConfig().getSocketInterceptorConfig();</code></p>
</li>
<li>
<p><code>setSocketInterceptorConfig(SocketInterceptorConfig)</code> &#8594; <code>getNetworkConfig().setSocketInterceptorConfig(SocketInterceptorConfig);</code></p>
</li>
<li>
<p><code>getConnectionTimeout()</code> &#8594; <code>getNetworkConfig().getConnectionTimeout();</code></p>
</li>
<li>
<p><code>setConnectionTimeout(int)</code> &#8594; <code>getNetworkConfig().setConnectionTimeout(int);</code></p>
</li>
<li>
<p><code>addAddress(String)</code> &#8594; <code>getNetworkConfig().addAddress(String);</code></p>
</li>
<li>
<p><code>getAddresses()</code> &#8594; <code>getNetworkConfig().getAddresses();</code></p>
</li>
<li>
<p><code>setAddresses(List)</code> &#8594; <code>getNetworkConfig().setAddresses(List);</code></p>
</li>
<li>
<p><code>isRedoOperation()</code> &#8594; <code>getNetworkConfig().isRedoOperation();</code></p>
</li>
<li>
<p><code>setRedoOperation(boolean)</code> &#8594; <code>getNetworkConfig().setRedoOperation(boolean);</code></p>
</li>
<li>
<p><code>getSocketOptions()</code> &#8594; <code>getNetworkConfig().getSocketOptions();</code></p>
</li>
<li>
<p><code>setSocketOptions()</code> &#8594; <code>getNetworkConfig().setSocketOptions(SocketOptions);</code></p>
</li>
<li>
<p><code>setSocketOptions()</code> &#8594; <code>getNetworkConfig().setSocketOptions(SocketOptions);</code></p>
</li>
<li>
<p><code>getNetworkConfig().setAwsConfig(new ClientAwsConfig());</code> &#8594; <code>getNetworkConfig().setAwsConfig(new AwsConfig());</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Also the <code>ClientAwsConfig</code> class has been renamed as <a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/config/AwsConfig.html"><code>AwsConfig</code></a></p>
</div>
<div class="paragraph">
<p>The naming for the declarative configuration elements have not been changed.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after configuration samples.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Adding Near Cache</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">ClientConfig clientConfig = new ClientConfig();
clientConfig.addNearCacheConfig("myCache", new NearCacheConfig());</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">ClientConfig clientConfig = new ClientConfig();
NearCacheConfig nearCacheConfig = new NearCacheConfig("myCache");
clientConfig.addNearCacheConfig(nearCacheConfig);</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Programmatic Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">ClientConfig clientConfig = new ClientConfig();
            clientConfig.setSmartRouting(true);
            clientConfig.isSmartRouting();
            clientConfig.getSocketInterceptorConfig();
            clientConfig.setSocketInterceptorConfig(new SocketInterceptorConfig());
            clientConfig.getConnectionTimeout();
            clientConfig.setConnectionTimeout(1000);
            clientConfig.addAddress("127.0.0.1:5701");
            clientConfig.getAddresses();
            clientConfig.setAddresses(Collections.singletonList("127.0.0.1:5701"));
            clientConfig.isRedoOperation();
            clientConfig.setRedoOperation(true);
            clientConfig.getSocketOptions();
            clientConfig.setSocketOptions(new SocketOptions());
            clientConfig.getNetworkConfig().setAwsConfig(new ClientAwsConfig());
            ClientAwsConfig awsConfig = clientConfig.getNetworkConfig().getAwsConfig();
        }</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">ClientConfig clientConfig = new ClientConfig();
            clientConfig.getNetworkConfig().setSmartRouting(true);
            clientConfig.getNetworkConfig().isSmartRouting();
            clientConfig.getNetworkConfig().getSocketInterceptorConfig();
            clientConfig.getNetworkConfig().setSocketInterceptorConfig(new SocketInterceptorConfig());
            clientConfig.getNetworkConfig().getConnectionTimeout();
            clientConfig.getNetworkConfig().setConnectionTimeout(1000);
            clientConfig.getNetworkConfig().addAddress("127.0.0.1:5701");
            clientConfig.getNetworkConfig().getAddresses();
            clientConfig.getNetworkConfig().setAddresses(Collections.singletonList("127.0.0.1:5701"));
            clientConfig.getNetworkConfig().isRedoOperation();
            clientConfig.getNetworkConfig().setRedoOperation(true);
            clientConfig.getNetworkConfig().getSocketOptions();
            clientConfig.getNetworkConfig().setSocketOptions(new SocketOptions());
            clientConfig.getNetworkConfig().setAwsConfig(new AwsConfig());
            AwsConfig awsConfig = clientConfig.getNetworkConfig().getAwsConfig();
        }</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-index-configuration"><a class="anchor" href="#changes-in-index-configuration"></a>Changes in Index Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to support further extensibility of Hazelcast,
index configuration has been refactored.</p>
</div>
<div class="paragraph">
<p>Index type is now defined through the <code>IndexType</code> enumeration
instead of the boolean flag: ordered index is now referred to as
<code>IndexType.SORTED</code>, unordered as <code>IndexType.HASH</code>.</p>
</div>
<div class="paragraph">
<p>In composite indexes, index parts are now defined as
a list of strings instead of a single string with comma-separated values.</p>
</div>
<div class="paragraph">
<p>With these changes, the following configuration parameters
have been renamed:</p>
</div>
<div class="paragraph">
<p><strong>Programmatic configuration objects and methods:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MapIndexConfig</code> &#8594; <code>IndexConfig</code></p>
</li>
<li>
<p><code>MapConfig.getMapIndexConfig</code> &#8594; <code>MapConfig.getIndexConfig</code></p>
</li>
<li>
<p><code>MapConfig.setMapIndexConfig</code> &#8594; <code>MapConfig.setIndexConfig</code></p>
</li>
<li>
<p><code>MapConfig.addMapIndexConfig</code> &#8594; <code>MapConfig.addIndexConfig</code></p>
</li>
<li>
<p><code>IMap.addIndex(String, boolean)</code> &#8594; <code>IMap.addIndex(IndexConfig)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the following table for the before/after samples.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Programmatic Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">MapIndexConfig indexConfig = new MapIndexConfig();
indexConfig.setOrdered(false);
indexConfig.setAttribute("name, age");

MapConfig mapConfig = new MapConfig();
mapConfig.addMapIndexConfig(indexConfig);</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">IndexConfig indexConfig = new IndexConfig();
indexConfig.setType(IndexType.HASH);
indexConfig.addAttribute("name");
indexConfig.addAttribute("age");

MapConfig mapConfig = new MapConfig();
mapConfig.addIndexConfig(indexConfig);</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Declarative Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="person"&gt;
        &lt;indexes&gt;
            &lt;index ordered="false"&gt;name, age&lt;/index&gt;
        &lt;/indexes&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="person"&gt;
        &lt;indexes&gt;
            &lt;index type="HASH"&gt;
                &lt;attributes&gt;
                    &lt;attribute&gt;name&lt;/attribute&gt;
                    &lt;attribute&gt;age&lt;/attribute&gt;
                &lt;/attributes&gt;
            &lt;/index&gt;
        &lt;/indexes&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Dynamic Index Create</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">IMap map;

map.addIndex("name, age", false);</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">IMap map;

map.addIndex(new IndexConfig(IndexType.HASH, "name", "age"));</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-custom-attributes"><a class="anchor" href="#changes-in-custom-attributes"></a>Changes in Custom Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="../query/predicate-overview" class="xref page">Custom attributes</a> are referenced in
predicates, queries and indexes. Some improvements have been
performed in Hazelcast&#8217;s query engine and one of the results
is the change in custom attribute configurations.</p>
</div>
<div class="paragraph">
<p>With this change, the following configuration parameters
have been renamed:</p>
</div>
<div class="paragraph">
<p><strong>Declarative configuration elements:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>extractor</code> &#8594; <code>extractor-class-name</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Programmatic configuration objects and methods:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MapAttributeConfig</code> &#8594; <code>AttributeConfig</code></p>
</li>
<li>
<p><code>setExtractor()</code> &#8594; <code>setExtractorClassName()</code></p>
</li>
<li>
<p><code>addMapAttributeConfig()</code> &#8594; <code>addAttributeConfig()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the following table for the before/after samples.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Programmatic Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">MapAttributeConfig attributeConfig = new MapAttributeConfig();
attributeConfig.setName("currency");
attributeConfig.setExtractor("com.bank.CurrencyExtractor");

MapConfig mapConfig = new MapConfig();
mapConfig.addMapAttributeConfig(attributeConfig);</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">AttributeConfig attributeConfig = new AttributeConfig();
attributeConfig.setName("currency");
attributeConfig.setExtractorClassName("com.bank.CurrencyExtractor");

MapConfig mapConfig = new MapConfig();
mapConfig.addAttributeConfig(attributeConfig);</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Declarative Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="trades"&gt;
        &lt;attributes&gt;
            &lt;attribute extractor="com.bank.CurrencyExtractor"&gt;currency&lt;/attribute&gt;
        &lt;/attributes&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="trades"&gt;
        &lt;attributes&gt;
            &lt;attribute extractor-class-name="com.bank.CurrencyExtractor"&gt;currency&lt;/attribute&gt;
        &lt;/attributes&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Also, some custom query attribute classes were previously abstract classes
with one abstract method. They have been converted into functional interfaces:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/query/extractor/ValueCallback.html" target="_blank" rel="noopener">ValueCallback</a></p>
</li>
<li>
<p><a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/query/extractor/ValueExtractor.html" target="_blank" rel="noopener">ValueExtractor</a></p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Implementing <code>ValueExtractor</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public static class PortableNameExtractor extends ValueExtractor&lt;ValueReader, Object&gt; {
    @Override
    public void extract(ValueReader target, Object argument, ValueCollector collector) {
        target.read("name", new ValueCallback&lt;Object&gt;() {
            @Override
            public void onResult(Object value) {
                collector.addObject(value);
            }
        });
    }
}</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public static class PortableNameExtractor implements ValueExtractor&lt;ValueReader, Object&gt; {
    @Override
    public void extract(ValueReader target, Object argument, ValueCollector collector) {
        target.read("name", (ValueCallback) value -&gt; collector.addObject(value));
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-mapreduce"><a class="anchor" href="#removal-of-mapreduce"></a>Removal of MapReduce</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MapReduce API has been removed, which was deprecated. Instead, you can use the
<a href="../query/predicate-overview" class="xref page">aggregations</a> on top of Query infrastructure and
<a href="../pipelines/overview#what-is-the-jet-engine" class="xref page">Hazelcast Jet engine</a>
distributed computing platform as its successors and replacements.</p>
</div>
<div class="paragraph">
<p>See the following table for the before(MapReduce)/after(Hazelcast Jet)
word count sample.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x (MapReduce)</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3 (Jet Engine)</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Word Count Sample</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">JobTracker tracker = hazelcastInstance.getJobTracker("default");

IMap&lt;String, String&gt; map = hazelcastInstance.getMap(MAP_NAME);
KeyValueSource&lt;String, String&gt; source = KeyValueSource.fromMap(map);

Job&lt;String, String&gt; job = tracker.newJob(source);
ICompletableFuture&lt;Map&lt;String, Integer&gt;&gt; future = job
           .mapper(new TokenizerMapper())
           .combiner(new WordcountCombinerFactory())
           .reducer(new WordcountReducerFactory())
           .submit();

     System.out.println(ToStringPrettyfier.toString(future.get()));</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">Pattern delimiter = Pattern.compile("\\W+");
Pipeline p = Pipeline.create();
p.readFrom(Sources.&lt;String, String&gt;map(MAP_NAME))
    .flatMap(e -&gt; Traversers.traverseArray(delimiter.split(e.getValue().toLowerCase())))
    .filter(word -&gt; !word.isEmpty())
    .groupingKey(Functions.wholeItem())
    .aggregate(AggregateOperations.counting())
    .writeTo(Sinks.map(COUNTS));

hazelcastInstance.getJet().newJob(p).join();

printResults(hz.getMap(COUNTS));</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See the <a href="../architecture/distributed-computing#the-word-count-task" class="xref page">Word Count Task</a> for a full insight.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="refactoring-of-migration-listener"><a class="anchor" href="#refactoring-of-migration-listener"></a>Refactoring of Migration Listener</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>MigrationListener</code> API has been refactored.
With this change, an event is published when a new
migration process starts and another event when migration
is completed. These events include statistics
about the migration process including the start time,
planned migration count, completed migration count, etc.</p>
</div>
<div class="paragraph">
<p>Additionally, a migration event is published on each replica
migration, both for primary and backup replica migrations.
This event includes the partition ID, replica index and
migration progress statistics.</p>
</div>
<div class="paragraph">
<p>3.12.x, the following were the events listened by <code>MigrationListener</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>migrationStarted</code></p>
</li>
<li>
<p><code>migrationCompleted</code></p>
</li>
<li>
<p><code>migrationFailed</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>5.3, we have the following events instead:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>migrationStarted</code></p>
</li>
<li>
<p><code>migrationFinished</code></p>
</li>
<li>
<p><code>replicaMigrationCompleted</code></p>
</li>
<li>
<p><code>replicaMigrationFailed</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the following table for the before/after samples.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Implementing a Migration Listener</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">import com.hazelcast.core.MigrationEvent;
import com.hazelcast.core.MigrationListener;

public class ClusterMigrationListener implements MigrationListener {
    @Override
    public void migrationStarted(MigrationEvent migrationEvent) {
        System.err.println("Started: " + migrationEvent);
    }
    @Override
    public void migrationCompleted(MigrationEvent migrationEvent) {
        System.err.println("Completed: " + migrationEvent);
    }
    @Override
    public void migrationFailed(MigrationEvent migrationEvent) {
        System.err.println("Failed: " + migrationEvent);
    }
}</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">import com.hazelcast.partition.MigrationListener;
import com.hazelcast.partition.MigrationState;
import com.hazelcast.partition.ReplicaMigrationEvent;

public class ClusterMigrationListener implements MigrationListener {

    @Override
    public void migrationStarted(MigrationState state) {
        System.out.println("Migration Started: " + state);
    }

    @Override
    public void migrationFinished(MigrationState state) {
        System.out.println("Migration Finished: " + state);
    }

    @Override
    public void replicaMigrationCompleted(ReplicaMigrationEvent event) {
        System.out.println("Replica Migration Completed: " + event);
    }

    @Override
    public void replicaMigrationFailed(ReplicaMigrationEvent event) {
        System.out.println("Replica Migration Failed: " + event);
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See the <a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/partition/MigrationListener.html" target="_blank" rel="noopener">MigrationListener</a> Javadoc
for a full insight.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="defaulting-to-openssl"><a class="anchor" href="#defaulting-to-openssl"></a>Defaulting to OpenSSL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hazelcast defaults to use OpenSSL when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>when you use <a href="../security/tls-ssl" class="xref page">TLS/SSL</a> and Hazelcast detects some
<a href="../security/integrating-openssl" class="xref page">OpenSSL</a> capabilities</p>
</li>
<li>
<p>the Java version is less than 11</p>
</li>
<li>
<p>no explicit <a href="../security/integrating-openssl#configuring-hazelcast-for-openssl" class="xref page">SSLEngineFactory</a> is configured.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-security-configurations"><a class="anchor" href="#changes-in-security-configurations"></a>Changes in Security Configurations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="replacing-group-by-simple-cluster-name-configuration"><a class="anchor" href="#replacing-group-by-simple-cluster-name-configuration"></a>Replacing <code>group</code> by Simple Cluster Name Configuration</h3>
<div class="paragraph">
<p>The <code>GroupConfig</code> class has been removed. Both the client and member configurations have
the <code>GroupConfig</code> (or <code>&lt;group&gt;</code> in XML) replaced by a simple  cluster name configuration.
The password part from the <code>GroupConfig</code> which was already deprecated is removed now.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after sample configurations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Declarative Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    &lt;group&gt;
        &lt;name&gt;dev&lt;/name&gt;
        &lt;password&gt;dev-pass&lt;/password&gt;
    &lt;/group&gt;
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    &lt;cluster-name&gt;dev&lt;/cluster-name&gt;
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Programmatic Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">Config configProd = new Config();
configProd.getGroupConfig().setName( "production" );

Config configDev = new Config();
configDev.getGroupConfig().setName( "development" );</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">Config configProd = new Config();
configProd.setClusterName( "production" );

Config configDev = new Config();
configDev.setClusterName( "development" );</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="member-authentication-and-identity-configuration"><a class="anchor" href="#member-authentication-and-identity-configuration"></a>Member Authentication and Identity Configuration</h3>
<div class="paragraph">
<p>Hazelcast IMDG 4.0 replaces the <code>&lt;member-credentials-factory&gt;</code>, <code>&lt;member-login-modules&gt;</code> and
<code>&lt;client-login-modules&gt;</code> configuration by references to security realms.
The security realms is a new abstraction in the security configuration of Hazelcast members.
It defines the security configuration independently on the configuration
part where the security is used. The component requesting security just references
the security realm name.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after sample configurations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;security enabled="true"&gt;
    &lt;member-credentials-factory class-name="com.hazelcast.examples.MyCredentialsFactory"&gt;
        &lt;properties&gt;
            &lt;property name="property"&gt;value&lt;/property&gt;
        &lt;/properties&gt;
    &lt;/member-credentials-factory&gt;
    &lt;member-login-modules&gt;
        &lt;login-module class-name="com.hazelcast.examples.MyRequiredLoginModule" usage="REQUIRED"&gt;
            &lt;properties&gt;
                &lt;property name="property"&gt;value&lt;/property&gt;
            &lt;/properties&gt;
        &lt;/login-module&gt;
    &lt;/member-login-modules&gt;
    &lt;client-login-modules&gt;
        &lt;login-module class-name="com.hazelcast.examples.MyRequiredLoginModule" usage="REQUIRED"&gt;
            &lt;properties&gt;
                &lt;property name="property"&gt;value&lt;/property&gt;
            &lt;/properties&gt;
        &lt;/login-module&gt;
    &lt;/client-login-modules&gt;
&lt;/security&gt;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;security enabled="true"&gt;
    &lt;realms&gt;
        &lt;realm name="realm1"&gt;
            &lt;authentication&gt;
                &lt;jaas&gt;
                    &lt;login-module class-name="com.hazelcast.examples.MyRequiredLoginModule" usage="REQUIRED"&gt;
                        &lt;properties&gt;
                            &lt;property name="property"&gt;value&lt;/property&gt;
                        &lt;/properties&gt;
                    &lt;/login-module&gt;
                &lt;/jaas&gt;
            &lt;/authentication&gt;
            &lt;identity&gt;
                &lt;credentials-factory class-name="com.hazelcast.examples.MyCredentialsFactory"&gt;
                    &lt;properties&gt;
                        &lt;property name="property"&gt;value&lt;/property&gt;
                    &lt;/properties&gt;
                &lt;/credentials-factory&gt;
            &lt;/identity&gt;
        &lt;/realm&gt;
    &lt;/realms&gt;
    &lt;member-authentication realm="realm1"/&gt;
    &lt;client-authentication realm="realm1"/&gt;
&lt;/security&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="client-identity-configuration"><a class="anchor" href="#client-identity-configuration"></a>Client Identity Configuration</h3>
<div class="paragraph">
<p>The <code>&lt;credentials&gt;</code> configuration is not supported
anymore in the client security configuration.
Existing <code>&lt;credentials-factory&gt;</code> configuration allows
to fully replace the credentials as it is more flexible.
There are also new <code>&lt;username-password&gt;</code> and <code>&lt;token&gt;</code>
configuration elements which simplify the migration.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after sample configurations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;security&gt;
    &lt;credentials&gt;com.acme.security.JohnDoeCredentials&lt;/credentials&gt;
&lt;/security&gt;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;security&gt;
    &lt;username-password username="johndoe" password="s3crEt"/&gt;
&lt;/security&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jaas-authentication-cleanups"><a class="anchor" href="#jaas-authentication-cleanups"></a>JAAS Authentication Cleanups</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="introducing-new-principal-types"><a class="anchor" href="#introducing-new-principal-types"></a>Introducing New Principal Types</h3>
<div class="paragraph">
<p>The <code>ClusterPrincipal</code> class representing an authenticated user within the JAAS Subject
has been replaced by three different principal types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ClusterIdentityPrincipal</code></p>
</li>
<li>
<p><code>ClusterRolePrincipal</code></p>
</li>
<li>
<p><code>ClusterEndpointPrincipal</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All these new principal types share the <code>HazelcastPrincipal</code> interface so
it is simple to get or remove them all from the subject.</p>
</div>
<div class="paragraph">
<p>With this change, the <code>Credentials</code> object is not referenced from
the principals anymore.</p>
</div>
<div class="paragraph">
<p>Also, <code>DefaultPermissionPolicy</code> which was consuming <code>ClusterPrincipal</code>
and also reading the endpoint address from it works with the new
<code>ClusterRolePrincipals</code> and <code>ClusterEndpointPrincipals</code> principal types.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after sample <a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/security/IPermissionPolicy.html" target="_blank" rel="noopener">IPermissionPolicy</a> implementations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public PermissionCollection getPermissions(Subject subject, Class&lt;? extends Permission&gt; type) {
    PermissionCollection collection = ...;
    for (ClusterPrincipal principal : subject.getPrincipals(ClusterPrincipal.class)) {
      String endpoint = principal.getEndpoint();
      String principalName = principal.getPrincipal();
      addPermissionsToPrincipal(collection, principalName, endpoint);
    }
    return collection;
}</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public PermissionCollection getPermissions(Subject subject, Class&lt;? extends Permission&gt; type) {
    PermissionCollection collection = ...;
    Set&lt;ClusterEndpointPrincipal&gt; endpointPrincipals = subject.getPrincipals(ClusterEndpointPrincipal.class);
    String endpoint = endpointIterator.hasNext() ? endpointIterator.next().getName() : null;
    for (ClusterRolePrincipal rolePrincipal : subject.getPrincipals(ClusterRolePrincipal.class)) {
        String role = rolePrincipal.getName();
        addPermissionsToPrincipal(collection, role, endpoint);
    }
    return collection;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="changes-in-clusterloginmodule"><a class="anchor" href="#changes-in-clusterloginmodule"></a>Changes in ClusterLoginModule</h3>
<div class="paragraph">
<p><code>ClusterLoginModule</code> in Hazelcast IMDG 3.12.x contained four
abstract methods to alter the behavior of <code>LoginModule</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>onLogin</code></p>
</li>
<li>
<p><code>onCommit</code></p>
</li>
<li>
<p><code>onAbort</code></p>
</li>
<li>
<p><code>onLogout</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The login module was retrieving <code>Credentials</code> and
using it to create the <code>ClusterPrincipal</code> back then.</p>
</div>
<div class="paragraph">
<p>In Hazelcast IMDG 4.0, only <code>onLogin</code> is abstract.
Others now have empty implementations. The login module creates
<code>ClusterEndpointPrincipal</code> automatically and adds it to the <code>Subject</code>.</p>
</div>
<div class="paragraph">
<p>The <code>getName()</code> abstract method has been added. It is used for
constructing <code>ClusterIdentityPrincipal</code>. The <code>addRole(String)</code> method
can be called by the child implementations to add <code>ClusterRolePrincipals</code>
with the given name.</p>
</div>
<div class="paragraph">
<p>Also, <code>ClusterLoginModule</code> introduces three login module options (boolean),
which allows skipping principals of a given type to the JAAS <code>Subject</code>.
It allows, for instance, to have just one <code>ClusterIdentityPrincipal</code>
in the <code>Subject</code> even if there are more login modules in the chain. These
options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>skipIdentity</code></p>
</li>
<li>
<p><code>skipRole</code></p>
</li>
<li>
<p><code>skipEndpoint</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the following table for the before/after sample implementations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public class TestLoginModule extends ClusterLoginModule {

    @Override
    public boolean onLogin() throws LoginException {
        UsernamePasswordCredentials usernamePasswordCredentials = (UsernamePasswordCredentials) credentials;
        if ("foo".equals(usernamePasswordCredentials.getUsername())
                &amp;&amp; "bar".equals(usernamePasswordCredentials.getPassword())) {
            // the "foo" principal is added
            return true;
        }
        throw new FailedLoginException("Username or password doesn't match expected value.");
    }

    @Override
    public boolean onCommit() {
        return loginSucceeded;
    }

    @Override
    protected boolean onAbort() {
        return true;
    }

    @Override
    protected boolean onLogout() {
        return true;
    }
}</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public class TestLoginModule extends ClusterLoginModule {

    private String name;

    @Override
    public boolean onLogin() throws LoginException {
        NameCallback ncb = new NameCallback("");
        PasswordCallback pcb = new PasswordCallback("", false);
        try {
            callbackHandler.handle(new Callback[] { ncb, pcb });
        } catch (IOException | UnsupportedCallbackException e) {
            throw new LoginException("Unable to handle credentials");
        }
        name = credentials.getName();
        if ("foo".equals(name)
                &amp;&amp; Arrays.equals("bar".toCharArray(), pcb.getPassword())) {
            addRole("admin");
            return true;
        }
        throw new FailedLoginException("Username or password doesn't match expected value.");
    }

    @Override
    protected String getName() {
        return name;
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="changes-in-credentials-for-client-protocol"><a class="anchor" href="#changes-in-credentials-for-client-protocol"></a>Changes in Credentials for Client Protocol</h3>
<div class="paragraph">
<p>In Hazelcast IMDG 3.12.x, the custom credentials coming through
the client protocol was always automatically deserialized. To
avoid this, the <code>Credentials</code> interface has been redesigned in
Hazelcast IMDG 4.0 to contain only the <code>getName()</code>
(renamed from <code>getPrincipal()</code>) method.
The endpoint handling has been moved out of the interface.</p>
</div>
<div class="paragraph">
<p>Now, <code>Credentials</code> has two new subinterfaces:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PasswordCredentials</code>: The existing <code>UsernamePasswordCredentials</code> class
is the default implementation.</p>
</li>
<li>
<p><code>TokenCredentials</code>: The new <code>SimpleTokenCredentials</code> class has been introduced
to implement it.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>TokenCredentials</code> is just a holder for byte array, and
the authentication implementations themselves, i.e., custom <code>LoginModules</code>,
are responsible for the data deserialization when needed.</p>
</div>
<div class="paragraph">
<p>The data from client authentication message is not deserialized by Hazelcast members
anymore. For standard authentication, <code>UsernamePasswordCredentials</code> is constructed.
For custom authentication, <code>SimpleTokenCredentials</code> is constructed.
If the original <code>Credentials</code> object is not a <code>PasswordCredentials</code>
or <code>TokenCredentials</code> instance, then it can be deserialized manually.
However, the deserialization during authentication remains a dangerous
operation and should be avoided.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after sample implementations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public boolean onLogin() throws LoginException {
    if (credentials == null || !(credentials instanceof CustomCredentials)) {
        throw new FailedLoginException("No valid CustomCredentials found");
    }
    CustomCredentials custom = (CustomCredentials) credentials;
    if (!verify(custom.getJsonToken())) {
      throw new FailedLoginException("JSON token is not valid.");
    }
    return true;
}</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public boolean onLogin() throws LoginException {
    CredentialsCallback cc = new CredentialsCallback();
    try {
        callbackHandler.handle(new Callback[] { cc });
    } catch (IOException | UnsupportedCallbackException e) {
        throw new FailedLoginException("Unable to retrieve credentials. " + e.getMessage());
    }
    Credentials creds = cc.getCredentials();
    if (creds == null || !(creds instanceof TokenCredentials)) {
        throw new FailedLoginException("No valid TokenCredentials found");
    }
    TokenCredentials tokenCreds = (TokenCredentials) creds;
    if (!verify(new String(tokenCreds.getToken()))) {
      throw new FailedLoginException("JSON token is not valid.");
    }
    return true;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>Credentials</code> serialization and deserialization in the member protocol
has not been changed.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="changes-in-jaas-callbacks"><a class="anchor" href="#changes-in-jaas-callbacks"></a>Changes in JAAS Callbacks</h3>
<div class="paragraph">
<p>In Hazelcast IMDG 3.x, the <code>CallbackHandler</code> implementation <code>ClusterCallbackHandler</code>
was only able to work with Hazelcast&#8217;s <code>CredentialsCallback</code>.
In Hazelcast IMDG 4.0, it also works with the standard Java Callback implementations
<code>NameCallback</code> and <code>PasswordCallback</code>.</p>
</div>
<div class="paragraph">
<p><code>DefaultLoginModule</code> was using the login module options to retrieve the
member&#8217;s <code>Config</code> object. Now, custom <code>Callback</code> types have been
implemented which can be used to retrieve additional data required for
the authentication.</p>
</div>
<div class="paragraph">
<p>List of the supported <code>Callback</code>s in Hazelcast IMDG 4.0:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>javax.security.auth.callback.NameCallback</code></p>
</li>
<li>
<p><code>javax.security.auth.callback.PasswordCallback</code></p>
</li>
<li>
<p><code>com.hazelcast.security.CredentialsCallback</code> (provides access to the incoming <code>Credentials</code> instance)</p>
</li>
<li>
<p><code>com.hazelcast.security.EndpointCallback</code> (allows retrieving the remote host address, it&#8217;s a replacement for <code>Credentials.getEndpoint()</code> in Hazelcast IMDG 3.12.x)</p>
</li>
<li>
<p><code>com.hazelcast.security.ConfigCallback</code> (allows retrieving member&#8217;s <code>Config</code> object)</p>
</li>
<li>
<p><code>com.hazelcast.security.SerializationServiceCallback</code> (provides access to Hazelcast <code>SerializationService</code>)</p>
</li>
<li>
<p><code>com.hazelcast.security.ClusterNameCallback</code> (provides access to Hazelcast cluster name sent by the connecting party)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="renaming-quorum-as-split-brain-protection"><a class="anchor" href="#renaming-quorum-as-split-brain-protection"></a>Renaming Quorum as Split Brain Protection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Both in the API/code samples and documentation, the term "quorum" has been
replaced by "split-brain protection".</p>
</div>
<div class="paragraph">
<p>With this change, the following configuration parameters
have been renamed:</p>
</div>
<div class="paragraph">
<p><strong>Declarative configuration elements:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>quorum</code> &#8594; <code>split-brain-protection</code></p>
</li>
<li>
<p><code>quorum-size</code> &#8594; <code>minimum-cluster-size</code></p>
</li>
<li>
<p><code>quorum-ref</code> &#8594;  <code>split-brain-protection-ref</code></p>
</li>
<li>
<p><code>quorum-type</code> &#8594; <code>protect-on</code></p>
</li>
<li>
<p><code>probabilistic-quorum</code> &#8594; <code>probabilistic-split-brain-protection</code></p>
</li>
<li>
<p><code>recently-active-quorum</code> &#8594; <code>recently-active-split-brain-protection</code></p>
</li>
<li>
<p><code>quorum-function-class-name</code> &#8594; <code>split-brain-protection-function-class-name</code></p>
</li>
<li>
<p><code>quorum-listeners</code> &#8594; <code>split-brain-protection-listeners</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Programmatic configuration objects and methods:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>QuorumConfig</code> &#8594; <code>SplitBrainProtectionConfig</code></p>
</li>
<li>
<p><code>QuorumConfig.setSize()</code> &#8594; <code>SplitBrainProtectionConfig.setMinimumClusterSize()</code></p>
</li>
<li>
<p><code>QuorumConfig.setType()</code> &#8594; <code>SplitBrainProtectionConfig.setProtectOn()</code></p>
</li>
<li>
<p><code>QuorumListenerConfig</code> &#8594; <code>SplitBrainProtectionListenerConfig</code></p>
</li>
<li>
<p><code>QuorumEvent</code> &#8594; <code>SplitBrainProtectionEvent</code></p>
</li>
<li>
<p><code>QuorumService</code> &#8594; <code>SplitBrainProtectionService</code></p>
</li>
<li>
<p><code>QuorumService.getQuorum()</code> &#8594; <code>SplitBrainProtectionService.getSplitBrainProtection()</code></p>
</li>
<li>
<p><code>isPresent()</code> &#8594; <code>hasMinimumSize()</code></p>
</li>
<li>
<p><code>setQuorumName()</code> &#8594; <code>setSplitBrainProtectionName()</code></p>
</li>
<li>
<p><code>addQuorumConfig()</code> &#8594; <code>addSplitBrainProtectionConfig()</code></p>
</li>
<li>
<p><code>newProbabilisticQuorumConfigBuilder()</code> &#8594; <code>newProbabilisticSplitBrainProtectionConfigBuilder()</code></p>
</li>
<li>
<p><code>newRecentlyActiveQuorumConfigBuilder()</code> &#8594; <code>newRecentlyActiveSplitBrainProtectionConfigBuilder()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the following table for a before/after sample.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;quorum name="quorumRuleWithFourMembers" enabled="true"&gt;
        &lt;quorum-size&gt;4&lt;/quorum-size&gt;
    &lt;/quorum&gt;
    &lt;map name="default"&gt;
        &lt;quorum-ref&gt;quorumRuleWithFourMembers&lt;/quorum-ref&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;split-brain-protection name="splitBrainProtectionRuleWithFourMembers" enabled="true"&gt;
        &lt;minimum-cluster-size&gt;4&lt;/minimum-cluster-size&gt;
    &lt;/split-brain-protection&gt;
    &lt;map name="default"&gt;
        &lt;split-brain-protection-ref&gt;splitBrainProtectionRuleWithFourMembers&lt;/split-brain-protection-ref&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See the <a href="../network-partitioning/split-brain-protection" class="xref page">Split-Brain Protection section</a> for more information on network partitioning.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="renaming-getid-to-getclassid-in-identifieddataserializable"><a class="anchor" href="#renaming-getid-to-getclassid-in-identifieddataserializable"></a>Renaming getID to getClassId in IdentifiedDataSerializable</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>getId()</code> method of the <a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/nio/serialization/IdentifiedDataSerializable.html" target="_blank" rel="noopener">IdentifiedDataSerializable</a> interface
is a method with a common name, meaning a naming conflict would happen frequently.
For example, database entities also have a <code>getId()</code> method.
Therefore, it has been renamed as <code>getClassId()</code>.</p>
</div>
<div class="paragraph">
<p>See the following table showing the interface code before and 5.3.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">package com.hazelcast.nio.serialization;

public interface IdentifiedDataSerializable extends DataSerializable {

    int getFactoryId();

    int getId();
}</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">package com.hazelcast.nio.serialization;

public interface IdentifiedDataSerializable extends DataSerializable {

    int getFactoryId();

    int getClassId();
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="../serialization/implementing-dataserializable#identifieddataserializable" class="xref page">here</a> for more information
on <code>IdentifiedDataSerializable</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introducing-lambda-friendly-interfaces"><a class="anchor" href="#introducing-lambda-friendly-interfaces"></a>Introducing Lambda Friendly Interfaces</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="entry-processor"><a class="anchor" href="#entry-processor"></a>Entry Processor</h3>
<div class="paragraph">
<p>The <code>EntryBackupProcessor</code> interface has been removed in favor
of <a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/map/EntryProcessor.html" target="_blank" rel="noopener">EntryProcessor</a> which now defines how the entries will be processed
both on the primary and the backup replicas.</p>
</div>
<div class="paragraph">
<p>Because of this, the <code>AbstractEntryProcessor</code> interface has been removed.
This should make writing entry processors more lambda friendly.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">        map.executeOnKey(key, new AbstractEntryProcessor&lt;Integer, Employee&gt;() {

            @Override
            public Object process(Map.Entry&lt;Integer, Employee&gt; entry) {
                Employee employee = entry.getValue();
                if (employee == null) {
                    employee = new Employee();
                }
                employee.setSalary(value);
                entry.setValue(employee);
                return null;
            }
        });</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">map.executeOnKey(key,
        entry -&gt; {
            Employee employee = entry.getValue();
            if (employee == null) {
                employee = new Employee();
            }
            employee.setSalary(value);
            entry.setValue(employee);
            return null;
        });</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This should cover most cases. If you need to define a custom
backup entry processor, you can override the <code>EntryProcessor#getBackupProcessor</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">map.executeOnKey(key, new EntryProcessor&lt;Object, Object, Object&gt;() {
    @Override
    public Object process(Entry&lt;Object, Object&gt; entry) {
        // process primary entry
    }

    private Object processBackupEntry(Entry&lt;Object, Object&gt; backupEntry) {
        // process backup entry
    }

    @Nullable
    @Override
    public EntryProcessor&lt;Object, Object, Object&gt; getBackupProcessor() {
        return this::processBackupEntry;
    }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="functional-and-serializable-interfaces"><a class="anchor" href="#functional-and-serializable-interfaces"></a>Functional and Serializable Interfaces</h3>
<div class="paragraph">
<p>Introduces interfaces with single abstract method which declares a
checked exception. The interfaces are also <code>Serializable</code> and can be
readily used when providing a lambda which is then serialized.</p>
</div>
<div class="paragraph">
<p>The <a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/projection/Projection.html" target="_blank" rel="noopener">Projection</a> class was an abstract interface for historical reasons.
It has been turned into a functional interface so it&#8217;s more lambda-friendly.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after sample implementations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">Collection&lt;String&gt; keys = map.project(new Projection&lt;Entry&lt;String, Double&gt;, String&gt;() {
    @Override
    public String transform(Entry&lt;String, Double&gt; input) {
        return input.getKey();
    }
});</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">Collection&lt;String&gt; keys = map.project(Entry::getKey);</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="expanding-nullablenonnull-annotations"><a class="anchor" href="#expanding-nullablenonnull-annotations"></a>Expanding Nullable/Nonnull Annotations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The APIs of the distributed data structures have been made cleaner
by adding <code>Nullable</code> and <code>Nonnull</code> annotations, and
their API documentation have been improved:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Now, it is obvious when looking at the API where <code>null</code> is allowed and
where it is not.</p>
</li>
<li>
<p>Some methods were throwing <code>NullPointerException</code> while others were throwing
<code>IllegalArgumentException</code>. Now the behavior is aligned and an unexpected <code>null</code>
argument results in a <code>NullPointerException</code> being thrown.</p>
</li>
<li>
<p>Some methods actually allowed <code>null</code> but there was no indication that they did.</p>
</li>
<li>
<p>A method when used on the member would accept <code>null</code> and have some behavior
accordingly while, on the client, the method would throw a <code>NullPointerException</code>.
Now, the behavior of the member and client have been aligned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The data structures and interfaces enhanced in this sense are listed below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>IQueue</code>, <code>ISet</code>, <code>IList</code></p>
</li>
<li>
<p><code>IMap</code>, <code>MultiMap</code>, <code>ReplicatedMap</code></p>
</li>
<li>
<p><code>Cluster</code></p>
</li>
<li>
<p><code>ITopic</code></p>
</li>
<li>
<p><code>Ringbuffer</code></p>
</li>
<li>
<p><code>ScheduledExecutor</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-icompletablefuture"><a class="anchor" href="#removal-of-icompletablefuture"></a>Removal of ICompletableFuture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Hazelcast IMDG 3.12.x series, <code>com.hazelcast.core.ICompletableFuture</code> was
introduced to enable reactive programming style. <code>ICompletableFuture</code> was
intended as a temporary, JDK 6 compatible replacement for <code>java.util.concurrent.CompletableFuture</code>
that was introduced in Java 8. Since Hazelcast 4.0 requires Java 8, the user-facing
asynchronous Hazelcast API methods now have their return type changed from
<code>ICompletableFuture</code> to Java 8&#8217;s <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html" target="_blank" rel="noopener">java.util.concurrent.CompletionStage</a>.</p>
</div>
<div class="paragraph">
<p>Dependent computation stages registered using default async methods which do not
accept an explicit <code>Executor</code> argument (such as <code>thenAcceptAsync</code>, <code>whenCompleteAsync</code> etc)
are executed by the <code>java.util.concurrent.ForkJoinPool#commonPool()</code> (unless it does not
support a parallelism level of at least two, in which case, a new <code>Thread</code> is created to
run each task).</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after samples.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">import com.hazelcast.core.ExecutionCallback;
import com.hazelcast.core.Hazelcast;
import com.hazelcast.core.HazelcastInstance;
import com.hazelcast.core.IMap;

public class Main {

    public static void main(String[] args) {
        HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance();
        IMap&lt;Integer, String&gt; map = hazelcastInstance.getMap("map");

        map.putAsync(1, "one").andThen(new ExecutionCallback&lt;String&gt;() {
            @Override
            public void onResponse(String response) {
                map.getAsync(1).andThen(new ExecutionCallback&lt;String&gt;() {
                    @Override
                    public void onResponse(String response) {
                        System.out.println("Value of 1 is " + response);
                    }

                    @Override
                    public void onFailure(Throwable t) {
                        t.printStackTrace();
                    }
                });
            }

            @Override
            public void onFailure(Throwable t) {
                t.printStackTrace();
            }
        });
    }
}</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">import com.hazelcast.core.Hazelcast;
import com.hazelcast.core.HazelcastInstance;
import com.hazelcast.map.IMap;

public class Main {

    public static void main(String[] args) {
        HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance();
        IMap&lt;Integer, String&gt; map = hazelcastInstance.getMap("map");

        map.putAsync(1, "one").whenCompleteAsync((response, throwable) -&gt; {
            if (throwable == null) {
                map.getAsync(1).thenAcceptAsync(v -&gt; {
                    System.out.println("Value of 1 is " + v);
                });
            } else {
                throwable.printStackTrace();
            }
        });
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="wan-replication-configuration-changes"><a class="anchor" href="#wan-replication-configuration-changes"></a>WAN Replication Configuration Changes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Previously, Configuring WAN replication was problematic:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You needed to specify the fully qualified class name of the WAN implementation that should be used.
In most cases, this was the built-in Hazelcast IMDG Enterprise Edition (EE) implementation.</p>
</li>
<li>
<p>There were various configuration options, some of which were present as Java class instance fields
or XML child nodes and attributes while others were present in a properties list. The issue with
the property list is that there was no checking for typos, no documentation and no IDE help.</p>
</li>
<li>
<p>If you wanted to use a custom WAN publisher SPI implementation, some configuration options did not
make sense as they were tied to our implementation, e.g., WAN queue size.</p>
</li>
<li>
<p>It was verbose.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The tag which was supposed to cover both cases, using the built-in Hazelcast EE implementation and a
custom WAN replication implementation (<code>wan-publisher</code> or <code>WanPublisherConfig</code>), has been separated into
two configuration elements/classes to be used for built-in and custom WAN publishers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>batch-publisher</code> (declarative configuration) or <code>WanBatchPublisherConfig</code> (programmatic configuration)</p>
</li>
<li>
<p><code>custom-publisher</code> (declarative configuration) or <code>WanCustomPublisherConfig</code> (programmatic configuration)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This means, if you&#8217;re using the Hazelcast built-in WAN replication, the new configuration element
is <code>batch-publisher</code> or <code>WanBatchPublisherConfig</code>.
If you&#8217;re using a custom WAN replication implementation, the new configuration element is
<code>custom-publisher</code> or <code>WanCustomPublisherConfig</code>.</p>
</div>
<div class="paragraph">
<p>Additionally, the group password has been removed from the configuration and now only the cluster name is checked
when connecting to the target cluster. This has been done to align the behavior with members forming a single
cluster, where members with different passwords but with the same cluster name (previously group name)
could form a cluster.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after built-in WAN publisher examples:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Declarative Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;wan-publisher group-name="builtInPublisher" publisher-id="builtInPublisherId"&gt;
    &lt;class-name&gt;com.hazelcast.enterprise.wan.impl.replication.WanBatchReplication&lt;/class-name&gt;
    &lt;queue-capacity&gt;15000&lt;/queue-capacity&gt;
    &lt;queue-full-behavior&gt;DISCARD_AFTER_MUTATION&lt;/queue-full-behavior&gt;
    &lt;initial-publisher-state&gt;REPLICATING&lt;/initial-publisher-state&gt;
    &lt;wan-sync&gt;
        &lt;consistency-check-strategy&gt;NONE&lt;/consistency-check-strategy&gt;
    &lt;/wan-sync&gt;
    &lt;properties&gt;
        &lt;property name="endpoints"&gt;10.3.5.1:5701,10.3.5.2:5701&lt;/property&gt;
        &lt;property name="batch.size"&gt;1000&lt;/property&gt;
        &lt;property name="batch.max.delay.millis"&gt;2000&lt;/property&gt;
        &lt;property name="response.timeout.millis"&gt;60000&lt;/property&gt;
        &lt;property name="ack.type"&gt;ACK_ON_OPERATION_COMPLETE&lt;/property&gt;
        &lt;property name="snapshot.enabled"&gt;false&lt;/property&gt;
        &lt;property name="group.password"&gt;nyc-pass&lt;/property&gt;
    &lt;/properties&gt;
&lt;/wan-publisher&gt;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;batch-publisher&gt;
    &lt;cluster-name&gt;builtInPublisher&lt;/cluster-name&gt;
    &lt;publisher-id&gt;builtInPublisherId&lt;/publisher-id&gt;
    &lt;batch-size&gt;1000&lt;/batch-size&gt;
    &lt;batch-max-delay-millis&gt;2000&lt;/batch-max-delay-millis&gt;
    &lt;response-timeout-millis&gt;60000&lt;/response-timeout-millis&gt;
    &lt;acknowledge-type&gt;ACK_ON_OPERATION_COMPLETE&lt;/acknowledge-type&gt;
    &lt;initial-publisher-state&gt;REPLICATING&lt;/initial-publisher-state&gt;
    &lt;snapshot-enabled&gt;false&lt;/snapshot-enabled&gt;
    &lt;queue-full-behavior&gt;DISCARD_AFTER_MUTATION&lt;/queue-full-behavior&gt;
    &lt;queue-capacity&gt;10000&lt;/queue-capacity&gt;
    &lt;target-endpoints&gt;10.3.5.1:5701,10.3.5.2:5701&lt;/target-endpoints&gt;
    &lt;sync&gt;
        &lt;consistency-check-strategy&gt;NONE&lt;/consistency-check-strategy&gt;
    &lt;/sync&gt;
&lt;/batch-publisher&gt;</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Programmatic Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">WanPublisherConfig publisherConfig = new WanPublisherConfig()
        .setGroupName("builtInPublisher")
        .setPublisherId("builtInPublisherId")
        .setClassName("com.hazelcast.enterprise.wan.impl.replication.WanBatchReplication")
        .setQueueCapacity(15000)
        .setQueueFullBehavior(WANQueueFullBehavior.DISCARD_AFTER_MUTATION)
        .setInitialPublisherState(WanPublisherState.REPLICATING);
publisherConfig.getWanSyncConfig().setConsistencyCheckStrategy(ConsistencyCheckStrategy.NONE);
Map&lt;String, Comparable&gt; properties = publisherConfig.getProperties();
properties.put("endpoints", "10.3.5.1:5701,10.3.5.2:5701");
properties.put("batch.size", 1000);
properties.put("batch.max.delay.millis", 2000);
properties.put("response.timeout.millis", 60000);
properties.put("ack.type", WanAcknowledgeType.ACK_ON_OPERATION_COMPLETE.toString());
properties.put("snapshot.enabled", false);
properties.put("group.password", "nyc-pass");</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">WanBatchPublisherConfig publisherConfig = new WanBatchPublisherConfig()
        .setClusterName("builtInPublisher")
        .setPublisherId("builtInPublisherId")
        .setClassName("com.hazelcast.enterprise.wan.impl.replication.WanBatchReplication")
        .setQueueCapacity(15000)
        .setQueueFullBehavior(WanQueueFullBehavior.DISCARD_AFTER_MUTATION)
        .setInitialPublisherState(WanPublisherState.REPLICATING)
        .setTargetEndpoints("10.3.5.1:5701,10.3.5.2:5701")
        .setBatchSize(1000)
        .setBatchMaxDelayMillis(2000)
        .setResponseTimeoutMillis(60000)
        .setAcknowledgeType(WanAcknowledgeType.ACK_ON_OPERATION_COMPLETE)
        .setSnapshotEnabled(false);
publisherConfig.getWanSyncConfig().setConsistencyCheckStrategy(ConsistencyCheckStrategy.NONE);</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See the following table for the before/after custom WAN publisher examples:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Declarative Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;wan-publisher group-name="customWanPublisherId"&gt;
    &lt;class-name&gt;com.myCompany.MyImplementation&lt;/class-name&gt;
    &lt;properties&gt;
        &lt;property name="some.property"&gt;some-value&lt;/property&gt;
        &lt;property name="some.other.property"&gt;some-other-value&lt;/property&gt;
    &lt;/properties&gt;
&lt;/wan-publisher&gt;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;custom-publisher&gt;
    &lt;publisher-id&gt;customPublisherId&lt;/publisher-id&gt;
    &lt;class-name&gt;com.myCompany.MyImplementation&lt;/class-name&gt;
    &lt;properties&gt;
        &lt;property name="some.property"&gt;some-value&lt;/property&gt;
        &lt;property name="some.other.property"&gt;some-other-value&lt;/property&gt;
    &lt;/properties&gt;
&lt;/custom-publisher&gt;</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Programmatic Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">WanPublisherConfig publisherConfig = new WanPublisherConfig()
        .setGroupName("customWanPublisherId")
        .setClassName("com.myCompany.MyImplementation");
Map&lt;String, Comparable&gt; properties = publisherConfig.getProperties();
properties.put("some.property", "some-value");
properties.put("some.other.property", "some-other-value");</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">WanCustomPublisherConfig publisherConfig = new WanCustomPublisherConfig()
        .setPublisherId("customWanPublisherId")
        .setClassName("com.myCompany.MyImplementation");
Map&lt;String, Comparable&gt; properties = publisherConfig.getProperties();
properties.put("some.property", "some-value");
properties.put("some.other.property", "some-other-value");</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See the <a href="../wan/wan" class="xref page">here</a> for more information on WAN Replication.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="wan-replication-spi-changes"><a class="anchor" href="#wan-replication-spi-changes"></a>WAN Replication SPI Changes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In IMDG 3.12.x series, the WAN publisher SPI allowed you to plug into the lifecycle of a map/cache entry
and replicate the updates to another system. For example, you might implement replication to
Kafka or some JMS queue or even write out map and cache event changes to a log on disk.
The SPI was not very intuitive though:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It was not clear which interface needed to be implemented (<code>WanPublisher</code> vs. <code>WanReplicationEndpoint</code>).</p>
</li>
<li>
<p>You had to implement different interfaces, depending on whether you were using Hazelcast IMDG
Open Source or Enterprise edition.</p>
</li>
<li>
<p>There were cases of leaking internals which don&#8217;t make sense for some custom implementations.</p>
</li>
<li>
<p>There were unused methods in the public SPI.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We have provided a new and cleaner WAN publisher SPI after 3.12.x. You only need to
implement a single interface: <code>com.hazelcast.wan.WanPublisher</code>. This implementation can
then be set in the WAN replication configuration and be used with both Hazelcast Open Source and
Enterprise editions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="predicate-api-cleanups"><a class="anchor" href="#predicate-api-cleanups"></a>Predicate API Cleanups</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following refactors and cleanups have been performed
on the public Predicate related API:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Moved the following classes from the <code>com.hazelcast.query</code> package
to <code>com.hazelcast.query.impl.predicates</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>IndexAwarePredicate</code></p>
</li>
<li>
<p><code>VisitablePredicate</code></p>
</li>
<li>
<p><code>SqlPredicate/Parser</code></p>
</li>
<li>
<p><code>TruePredicate</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Moved the <code>FalsePredicate</code> and <code>SkipIndexPredicate</code> classes to
the <code>com.hazelcast.query.impl.predicates</code> package.</p>
</li>
<li>
<p>Converted <code>PagingPredicate</code> and <code>PartitionPredicate</code> to interfaces
and added <code>PagingPredicateImpl</code> and <code>PartitionPredicateImpl</code> to
the <code>com.hazelcast.query.impl.predicate</code> package.</p>
</li>
<li>
<p>Converted <code>PredicateBuilder</code> and <code>EntryObject</code> to interfaces (and made
<code>EntryObject</code> a nested interface in <code>PredicateBuilder</code>) and added
<code>PredicateBuilderImpl</code> to the <code>com.hazelcast.query.impl.predicates</code> package.</p>
</li>
<li>
<p>The public API classes/interfaces no longer extend <code>IndexAwarePredicate</code>/
<code>VisitablePredicate</code>; this dependency has been moved to the <code>impl</code> classes.</p>
</li>
<li>
<p>Introduced the new factory methods in <code>Predicates</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>newPredicateBuilder()</code></p>
</li>
<li>
<p><code>sql()</code></p>
</li>
<li>
<p><code>pagingPredicate()</code></p>
</li>
<li>
<p><code>partitionPredicate()</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Consequently, the public Predicate API now provides only interfaces (<code>Predicate</code>,
<code>PagingPredicate</code> and <code>PartitionPredicate</code>) with no dependencies on any internal APIs.</p>
</div>
<div class="paragraph">
<p>See the <a href="../query/predicate-overview" class="xref page">Predicates API section</a> for more information on predicates.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changing-the-uuid-string-type-to-uuid"><a class="anchor" href="#changing-the-uuid-string-type-to-uuid"></a>Changing the UUID String Type to UUID</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some public APIs that return UUID strings have been changed to return UUID.
These changes include <code>getUuid()</code> method of the <code>Endpoint</code> interface,
<code>getTxnId()</code> method of the <code>TransactionContext</code> interface,
return values of the listener registrations and <code>registrationId</code> parameters for the methods
that de-register the listeners.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after sample implementations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">        HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance();
        String registrationId = hazelcastInstance.getClientService().addClientListener(new ClientListener() {
            @Override
            public void clientConnected(Client client) {
                String clientUuid = client.getUuid();
                System.out.println("Client connected &gt;&gt;&gt; " + clientUuid);
            }

            @Override
            public void clientDisconnected(Client client) {
                String clientUuid = client.getUuid();
                System.out.println("Client disconnected &gt;&gt;&gt; " + clientUuid);
            }
        });
        hazelcastInstance.getClientService().removeClientListener(registrationId);</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">        HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance();
        UUID registrationId = hazelcastInstance.getClientService().addClientListener(new ClientListener() {
            @Override
            public void clientConnected(Client client) {
                UUID clientUuid = client.getUuid();
                System.out.println("Client connected &gt;&gt;&gt; " + clientUuid);
            }

            @Override
            public void clientDisconnected(Client client) {
                UUID clientUuid = client.getUuid();
                System.out.println("Client disconnected &gt;&gt;&gt; " + clientUuid);
            }
        });
        hazelcastInstance.getClientService().removeClientListener(registrationId);</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-deprecated-concurrency-api-implementations"><a class="anchor" href="#removal-of-deprecated-concurrency-api-implementations"></a>Removal of Deprecated Concurrency API Implementations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After introduction of <em>CP Subsystem</em> in Hazelcast IMDG 3.12,
legacy implementations of the distributed concurrency APIs, e.g., <code>ILock</code> and <code>IAtomicLong</code>,
had been deprecated.
In IMDG 4.0 and afterwards, these deprecated implementations and additionally
<code>ILock</code> and <code>ICondition</code> interfaces are completely removed.</p>
</div>
<div class="paragraph">
<p>After Hazelcast IMDG 3.12, <em>CP Subsystem</em> has received
an <em>unsafe</em> operation mode which provides weaker
consistency guarantees similar to former implementations in Hazelcast IMDG 3.x series.</p>
</div>
<div class="paragraph">
<p>For more information, see the <a href="../cp-subsystem/cp-subsystem" class="xref page">CP Subsystem section</a>.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after samples.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">import com.hazelcast.core.Hazelcast;
import com.hazelcast.core.HazelcastInstance;
import com.hazelcast.core.IAtomicLong;
import com.hazelcast.core.IAtomicReference;
import com.hazelcast.core.ICountDownLatch;
import com.hazelcast.core.ILock;
import com.hazelcast.core.ISemaphore;

public class Main {

    public static void main(String[] args) {
        HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance();

        IAtomicLong atomiclong = hazelcastInstance.getAtomicLong("atomiclong");
        atomiclong.incrementAndGet();

        IAtomicReference&lt;String&gt; atomicref = hazelcastInstance.getAtomicReference("atomicref");
        atomicref.set("value");

        ILock lock = hazelcastInstance.getLock("lock");
        lock.tryLock();

        ISemaphore semaphore = hazelcastInstance.getSemaphore("semaphore");
        semaphore.tryAcquire();

        ICountDownLatch latch = hazelcastInstance.getCountDownLatch("latch");
        latch.countDown();
    }
}</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">import com.hazelcast.core.Hazelcast;
import com.hazelcast.core.HazelcastInstance;
import com.hazelcast.cp.CPSubsystem;
import com.hazelcast.cp.IAtomicLong;
import com.hazelcast.cp.IAtomicReference;
import com.hazelcast.cp.ICountDownLatch;
import com.hazelcast.cp.ISemaphore;
import com.hazelcast.cp.lock.FencedLock;

public class Main {

    public static void main(String[] args) {
        HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance();
        CPSubsystem cpSubsystem = hazelcastInstance.getCPSubsystem();

        IAtomicLong atomiclong = cpSubsystem.getAtomicLong("atomiclong");
        atomiclong.incrementAndGet();

        IAtomicReference&lt;String&gt; atomicref = cpSubsystem.getAtomicReference("atomicref");
        atomicref.set("value");

        FencedLock lock = cpSubsystem.getLock("lock");
        lock.tryLock();

        ISemaphore semaphore = cpSubsystem.getSemaphore("semaphore");
        semaphore.tryAcquire();

        ICountDownLatch latch = cpSubsystem.getCountDownLatch("latch");
        latch.countDown();
    }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-legacy-merge-policies"><a class="anchor" href="#removal-of-legacy-merge-policies"></a>Removal of Legacy Merge Policies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All legacy merge policies have been removed. Replacements of
legacies are under the <code>com.hazelcast.spi.merge</code> package.</p>
</div>
<div class="paragraph">
<p>These are the replacements for IMap and ICache:</p>
</div>
<div class="paragraph">
<p><em>Removed IMap Merge Policies and Their Replacements</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>com.hazelcast.map.merge.HigherHitsMapMergePolicy</code> &#8594; <code>com.hazelcast.spi.merge.HigherHitsMergePolicy</code></p>
</li>
<li>
<p><code>com.hazelcast.map.merge.LatestUpdateMapMergePolicy</code> &#8594; <code>com.hazelcast.spi.merge.LatestUpdateMergePolicy</code></p>
</li>
<li>
<p><code>com.hazelcast.map.merge.PassThroughMergePolicy</code> &#8594; <code>com.hazelcast.spi.merge.PassThroughMergePolicy</code></p>
</li>
<li>
<p><code>com.hazelcast.map.merge.PutIfAbsentMapMergePolicy</code> &#8594; <code>com.hazelcast.spi.merge.PutIfAbsentMergePolicy</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Removed ICache Merge Policies and Their Replacements</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>com.hazelcast.cache.merge.HigherHitsCacheMergePolicy</code> &#8594; <code>com.hazelcast.spi.merge.HigherHitsMergePolicy</code></p>
</li>
<li>
<p><code>com.hazelcast.cache.merge.LatestAccessCacheMergePolicy</code> &#8594; <code>com.hazelcast.spi.merge.LatestAccessMergePolicy</code></p>
</li>
<li>
<p><code>com.hazelcast.cache.merge.PassThroughCacheMergePolicy</code> &#8594; <code>com.hazelcast.spi.merge.PassThroughMergePolicy</code></p>
</li>
<li>
<p><code>com.hazelcast.cache.merge.PutIfAbsentCacheMergePolicy</code> &#8594; <code>com.hazelcast.spi.merge.PutIfAbsentMergePolicy</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Moreover, the <code>setMergePolicy/getMergePolicy</code> methods have been
removed from <code>MapConfig</code>, <code>ReplicatedMapConfig</code> and <code>CacheConfig</code>.
They have been replaced by the <code>setMergePolicyConfig/getMergePolicyConfig</code> methods.</p>
</div>
<div class="paragraph">
<p>The <code>merge-policy</code> declarative configuration element that
has been used in the older IMDG versions still can be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">&lt;merge-policy batch-size="100"&gt;LatestAccessMergePolicy&lt;/merge-policy&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="../network-partitioning/split-brain-recovery#configuring-merge-policies" class="xref page">here</a> for more information on configuring merge policies.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-aws-configuration"><a class="anchor" href="#changes-in-aws-configuration"></a>Changes in AWS Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>AWS programmatic configuration has been merged with a more universal configuration
infrastructure common to all cloud providers. The declarative configuration
remains unchanged. See <a href="../deploy/deploying-on-aws" class="xref page">here</a>
for more information on configuring Hazelcast on AWS.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after samples.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">AwsConfig config = new AwsConfig();
config.setSecretKey("my-secret-key") ;
config.setRegion("my-region");
config.setSecurityGroupName("my-security-group");
config.setTagKey("my-tag-key");
config.setTagValue("my-tag-value");
...
config.setEnabled(true);</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">AwsConfig config = new AwsConfig();
config.setProperty("secret-key", "my-secret-key") ;
config.setProperty("region", "my-region");
config.setProperty("security-group-name", "my-security-group-name");
config.setProperty("tag-key", "my-tag-key");
config.setProperty("tag-value", "my-tag-value");
...
config.setEnabled(true);</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-deprecated-system-properties"><a class="anchor" href="#removal-of-deprecated-system-properties"></a>Removal of Deprecated System Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following deprecated cluster properties were removed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>hazelcast.rest.enabled</code></p>
</li>
<li>
<p><code>hazelcast.memcache.enabled</code></p>
</li>
<li>
<p><code>hazelcast.http.healthcheck.enabled</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please see <a href="../maintain-cluster/rest-api#using-the-rest-endpoint-groups" class="xref page">Using the REST Endpoint Groups</a> on how
to configure Hazelcast instance to expose REST endpoints.
Please see <a href="../maintain-cluster/monitoring#health-check-and-monitoring" class="xref page">Health Check and Monitoring</a> on how
to enable the health check.
Please see <a href="../clients/memcache" class="xref page">Memcache Client</a> on how to enable memcache client
request listener service.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-deprecations-in-loginmoduleconfig"><a class="anchor" href="#removal-of-deprecations-in-loginmoduleconfig"></a>Removal of Deprecations in <code>LoginModuleConfig</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following deprecated methods have been removed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>getImplementation()</code>, replaced by <code>getClassName()</code>.</p>
</li>
<li>
<p><code>setImplementation(Object)</code>, replaced by <code>setClassName(String)</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In declarative configuration <code>class-name</code> property should be used instead.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-deprecations-in-multimapconfig"><a class="anchor" href="#removal-of-deprecations-in-multimapconfig"></a>Removal of Deprecations in <code>MultiMapConfig</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following deprecated methods have been removed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>getSyncBackupCount()</code>, replaced by <code>getBackupCount()</code>.</p>
</li>
<li>
<p><code>setSyncBackupCount(int)</code>, replaced by <code>setBackupCount(int)</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In declarative configuration <code>backup-count</code> property should be used instead.</p>
</div>
<div class="paragraph">
<p>See <a href="../data-structures/multimap#configuring-multimap" class="xref page">here</a> for more information on configuring MultiMap.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-deprecations-in-partitioningstrategyconfig"><a class="anchor" href="#removal-of-deprecations-in-partitioningstrategyconfig"></a>Removal of Deprecations in <code>PartitioningStrategyConfig</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Misspelled <code>setPartitionStrategy(PartitioningStrategy)</code> has been removed,
<code>setPartitioningStrategy(PartitioningStrategy)</code> should be used instead.</p>
</div>
<div class="paragraph">
<p>See <a href="../performance/data-affinity#partitioningstrategy" class="xref page">here</a> for more information on configuring MultiMap.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-deprecations-in-serviceconfig"><a class="anchor" href="#removal-of-deprecations-in-serviceconfig"></a>Removal of Deprecations in <code>ServiceConfig</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following deprecated methods have been removed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>getServiceImpl()</code>, replaced by <code>getImplementation()</code>.</p>
</li>
<li>
<p><code>setServiceImpl(Object)</code>, replaced by <code>setImplementation(Object)</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/config/ServiceConfig.html" target="_blank" rel="noopener">here</a>
for <code>ServiceConfig</code>s Javadoc.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-deprecations-in-transactioncontext"><a class="anchor" href="#removal-of-deprecations-in-transactioncontext"></a>Removal of Deprecations in <code>TransactionContext</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deprecated <code>getXaResource()</code> method has been removed. <code>HazelcastInstance.getXAResource()</code>
should be used instead.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/core/HazelcastInstance.html" target="_blank" rel="noopener">here</a>
for <code>HazelcastInstance</code>s Javadoc.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-deprecations-in-distributedobjectevent"><a class="anchor" href="#removal-of-deprecations-in-distributedobjectevent"></a>Removal of Deprecations in <code>DistributedObjectEvent</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deprecated <code>getObjectId()</code> method has been removed, <code>getObjectName()</code> should be used
instead.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://docs.hazelcast.org/docs/5.3.8/javadoc/com/hazelcast/core/DistributedObjectEvent.html" target="_blank" rel="noopener">here</a>
for <code>DistributedObjectEvents</code>s Javadoc.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removal-of-deprecated-entrylistener-based-listener-api-in-imap"><a class="anchor" href="#removal-of-deprecated-entrylistener-based-listener-api-in-imap"></a>Removal of Deprecated <code>EntryListener</code>-based Listener API in <code>IMap</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following set of deprecated <code>EntryListener</code>-based listener API methods has been
removed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>addLocalEntryListener(EntryListener&lt;K, V&gt;)</code></p>
</li>
<li>
<p><code>addLocalEntryListener(EntryListener&lt;K, V&gt;, Predicate&lt;K, V&gt;, boolean)</code></p>
</li>
<li>
<p><code>addLocalEntryListener(EntryListener&lt;K, V&gt;, Predicate&lt;K, V&gt;, K, boolean)</code></p>
</li>
<li>
<p><code>addEntryListener(EntryListener&lt;K, V&gt;, boolean)</code></p>
</li>
<li>
<p><code>addEntryListener(EntryListener&lt;K, V&gt;, K, boolean)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following <code>MapListener</code>-based methods should be used as replacements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>addLocalEntryListener(MapListener)</code></p>
</li>
<li>
<p><code>addLocalEntryListener(MapListener, Predicate&lt;K,V&gt;, boolean)</code></p>
</li>
<li>
<p><code>addLocalEntryListener(MapListener, Predicate&lt;K,V&gt;, K, boolean)</code></p>
</li>
<li>
<p><code>addEntryListener(MapListener, boolean)</code></p>
</li>
<li>
<p><code>addEntryListener(MapListener, K, boolean)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>EntryListener</code>-based listeners are still supported by the newer
<code>MapListener</code>-based API and declarative configuration.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-maploader"><a class="anchor" href="#changes-in-maploader"></a>Changes in MapLoader</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When trying to load map entries from a store with your MapLoader implementation (<code>loadAll()</code>), Hazelcast fails to do so if any of the keys or values are null for IMDG 4.x and Platform 5.x releases.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-imap-eviction-configuration"><a class="anchor" href="#changes-in-imap-eviction-configuration"></a>Changes in <code>IMap</code> Eviction Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There has been a simplification and improvement in the
way of configuring the eviction for a map.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after samples.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="default"&gt;
        &lt;eviction-policy&gt;LRU&lt;/eviction-policy&gt;
        &lt;max-size policy="PER_NODE"&gt;20&lt;/max-size&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="default"&gt;
        &lt;eviction eviction-policy="LRU" max-size-policy="PER_NODE" size="20"/&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-imap-custom-eviction-policy-configuration"><a class="anchor" href="#changes-in-imap-custom-eviction-policy-configuration"></a>Changes in <code>IMap</code> Custom Eviction Policy Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There has been a simplification and improvement in the
way of configuring the custom eviction policy for a map.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after samples.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="default"&gt;
        &lt;map-eviction-policy-class-name&gt;
            com.mycompany.MyMapEvictionPolicyComparator
        &lt;/map-eviction-policy-class-name&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="default"&gt;
        &lt;eviction comparator-class-name="com.mycompany.MyMapEvictionPolicyComparator"/&gt;
    &lt;/map&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-entrylistenerconfig"><a class="anchor" href="#changes-in-entrylistenerconfig"></a>Changes in <code>EntryListenerConfig</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Return type of the <code>EntryListenerConfig.getImplementation()</code>
method has been changed from <code>EntryListener</code> to <code>MapListener</code>.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after snippets.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">EntryListenerConfig config = new EntryListenerConfig();
EntryListener listenerImpl = config.getImplementation();</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">EntryListenerConfig config = new EntryListenerConfig();
MapListener listenerImpl = config.getImplementation();</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-rest-endpoints"><a class="anchor" href="#changes-in-rest-endpoints"></a>Changes in REST Endpoints</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following REST endpoints have been changed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/hazelcast/rest/mancenter/changeurl</code> is removed</p>
</li>
<li>
<p>All <code>/hazelcast/rest/mancenter/wan/*</code> endpoints are renamed to <code>/hazelcast/rest/wan/</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following REST endpoints now require cluster name and password
as the first two URL-encoded parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/hazelcast/rest/wan/sync/map</code></p>
</li>
<li>
<p><code>/hazelcast/rest/wan/sync/allmaps</code></p>
</li>
<li>
<p><code>/hazelcast/rest/wan/clearWanQueues</code></p>
</li>
<li>
<p><code>/hazelcast/rest/wan/addWanConfig</code></p>
</li>
<li>
<p><code>/hazelcast/rest/wan/pausePublisher</code></p>
</li>
<li>
<p><code>/hazelcast/rest/wan/stopPublisher</code></p>
</li>
<li>
<p><code>/hazelcast/rest/wan/resumePublisher</code></p>
</li>
<li>
<p><code>/hazelcast/rest/wan/consistencyCheck/map</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The output of the following endpoints has been changed to JSON:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/hazelcast/health/node-state</code></p>
</li>
<li>
<p><code>/hazelcast/health/cluster-state</code></p>
</li>
<li>
<p><code>/hazelcast/health/cluster-safe</code></p>
</li>
<li>
<p><code>/hazelcast/health/migration-queue-size</code></p>
</li>
<li>
<p><code>/hazelcast/health/cluster-size</code></p>
</li>
<li>
<p><code>/hazelcast/health/ready</code></p>
</li>
<li>
<p><code>/hazelcast/rest/cluster</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-the-diagnostics-configuration"><a class="anchor" href="#changes-in-the-diagnostics-configuration"></a>Changes in the Diagnostics Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By introducing the <a href="../maintain-cluster/monitoring#metrics" class="xref page">metrics system</a> in Hazelcast IMDG 4.0 and afterwards,
the metrics collected by <a href="../maintain-cluster/monitoring#diagnostics" class="xref page">Diagnostics</a>
and the metrics system is shared.
This has come with the following changes of the system
properties that configure diagnostics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>hazelcast.diagnostics.metric.level</code> is not available anymore.
Collecting debug metrics can be enabled by setting
the <code>hazelcast.metrics.debug.enabled</code> or <code>hazelcast.client.metrics.debug.enabled</code>
system properties to <code>true</code> for the members and clients respectively.</p>
</li>
<li>
<p><code>hazelcast.diagnostics.metric.distributed.datastructures</code> is not anymore available
since the data structure metrics are required for the other <a href="../maintain-cluster/monitoring#exposing-metrics" class="xref page">metric consumers</a>.
Therefore, they are collected by default and no need for enabling it for the diagnostics.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-the-management-center-configuration"><a class="anchor" href="#changes-in-the-management-center-configuration"></a>Changes in the Management Center Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As Management Center now uses Hazelcast Java client for communication with the cluster,
all attributes and nested elements have been removed from programmatic, XML and YAML configurations
for Management Center, i.e., from <code>ManagementCenterConfig</code> class and <code>management-center</code>
configuration element, except for the <code>scripting-enabled</code> attribute.</p>
</div>
<div class="paragraph">
<p>The default value of <code>scripting-enabled</code> attribute is <code>false</code>, whereas in
Hazelcast 3.x it was enabled by default for Hazelcast Open Source.</p>
</div>
<div class="paragraph">
<p>A full example of settings available in the Management Center configuration now looks like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;management-center scripting-enabled="true" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This has come with the following changes of the system properties that configure Management Center:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>hazelcast.mc.url.change.enabled</code> is not available anymore.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-in-the-event-journal-configuration"><a class="anchor" href="#changes-in-the-event-journal-configuration"></a>Changes in the Event Journal Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Event journal configuration had been put as a top-level configuration
element. With IMDG 4.0 and afterwards, this restriction has been removed; this means
event journal configuration now can be part of both map and cache
configurations. This eliminates additionally specifying the map
/cache names on the event journal configuration to connect it
to the map/cache configurations.</p>
</div>
<div class="paragraph">
<p>See the following table for the before/after snippets.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>3.12.x</em></strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><em>5.3</em></strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;event-journal enabled="false"&gt;
        &lt;mapName&gt;default&lt;/mapName&gt;
        &lt;capacity&gt;10000&lt;/capacity&gt;
        &lt;time-to-live-seconds&gt;0&lt;/time-to-live-seconds&gt;
    &lt;/event-journal&gt;
    ...
    &lt;event-journal enabled="false"&gt;
        &lt;cacheName&gt;default&lt;/cacheName&gt;
        &lt;capacity&gt;10000&lt;/capacity&gt;
        &lt;time-to-live-seconds&gt;0&lt;/time-to-live-seconds&gt;
    &lt;/event-journal&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;hazelcast&gt;
    ...
    &lt;map name="default"&gt;
        &lt;event-journal enabled="false"&gt;
            &lt;capacity&gt;10000&lt;/capacity&gt;
            &lt;time-to-live-seconds&gt;0&lt;/time-to-live-seconds&gt;
        &lt;/event-journal&gt;
    &lt;/map&gt;
    ...
    &lt;cache name="*"&gt;
        &lt;event-journal enabled="false"&gt;
            &lt;capacity&gt;10000&lt;/capacity&gt;
            &lt;time-to-live-seconds&gt;0&lt;/time-to-live-seconds&gt;
        &lt;/event-journal&gt;
    &lt;/cache&gt;
    ...
&lt;/hazelcast&gt;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="upgrading-from-imdg-4">Upgrading from IMDG 4.x</a></span>
  <span class="next"><a href="../architecture/architecture">Overview</a></span>
</nav>
</article>
    <div class="toc-container">
  <aside class="toc sidebar" data-title="Contents" data-levels="1">
    <div class="toc-menu"></div>
  </aside>
  <div class="feedback-prompt">
    <a class="edit-this-page feedback-button" href="https://github.com/hazelcast/hz-docs/edit/v/5.3/docs/modules/migrate/pages/upgrading-from-imdg-3.adoc" target="_blank">
      <span class="feedback-button-text git-pull">
        Edit this page
      </span>
    </a>
      <a class="additional-feedback feedback-button" href="https://github.com/hazelcast/hz-docs/issues/new?title=Docs: Feedback for Upgrading from IMDG 3.12.x&body=Hi, I have some feedback about [this page](https://github.com/hazelcast/hz-docs/edit/main/docs/modules/migrate/pages/upgrading-from-imdg-3.adoc)%0D%0A" target="_blank">
        <span class="feedback-button-text git">
          Report an issue
        </span>
      </a>
    <div class="feedback-form-container">
  <div id="helpful-feedback-widget" class="helpful-feedback">
    <span class="helpful-feedback-title">Was this helpful?</span>
    <div class="helpful-feedback-buttons">
      <label for="positive-feedback-starter" class="feedback-button yes-button">
        <img src="../../../_/img/thumbs-up.svg" alt="like" class="like-img"/>
        <input type="radio" id="positive-feedback-starter" value="yes"/>
      </label>
      <label for="negative-feedback-starter" class="feedback-button no-button">
        <img src="../../../_/img/thumbs-down.svg" alt="like" class="like-img"/>
        <input type="radio" id="negative-feedback-starter" value="no"/>
      </label>
    </div>
  </div>
  <p id="feedback-submit-success" class="feedback-submit-success hidden">
    Thank you for your feedback.
  </p>
</div>
<div id="feedback-overlay" class="overlay feedback-overlay">
  <div class="overlay-content feedback-overlay-content">
    <span id="close-feedback-overlay" class="close-overlay">&times;</span>
    <h2 class="feedback-overlay-title">Send us your feedback</h2>
    <p class="feedback-overlay-description">Thank you for helping us improve Hazelcast documentation.</p>
    <div>
      <form name="detailed-docs-feedback" id="feedback-form" netlify-honeypot="bot-field" method="POST"
            data-netlify="true">
        <p class="hidden">
          <label>Don’t fill this out if you’re human: <input name="bot-field"/></label>
        </p>
        <div id="positive-feedback-form-container"
             class="feedback-form-container positive-feedback-form-container hidden">
          <label for="yes" class="hidden">
            <input type="radio" id="yes" name="helpful" value="yes">
          </label>

          <label for="solved-my-problem-feedback" class="feedback-radio-button-label">
            <input type="radio" id="solved-my-problem-feedback" name="feedback" value="Solved my problem">
            <span class="feedback-description">
        <span class="radio-btn-title">
          Solved my problem
        </span>
          <span class="radio-btn-description">
          Helped me resolve an issue or answer a question.
        </span>
      </span>
          </label>
                <label for="accurate-radio-feedback" class="feedback-radio-button-label">
            <input type="radio" id="accurate-radio-feedback" name="feedback" value="Accurate"/>
            <span class="feedback-description">
              <span class="radio-btn-title">
                Accurate
              </span>
              <span class="radio-btn-description">
                Precisely describes the product or feature.
              </span>
            </span>
          </label>
          <label for="easy-to-understand" class="feedback-radio-button-label">
            <input type="radio" id="easy-to-understand" name="feedback" value="Easy to understand">
            <span class="feedback-description">
        <span class="radio-btn-title">
          Easy to understand
        </span>
        <span class="radio-btn-description">
          Well written and easy to follow.
        </span>
      </span>
          </label>
          <label for="helped-in-decision" class="feedback-radio-button-label">
            <input type="radio" id="helped-in-decision" name="feedback" value="Helped me decide to use the product">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Helped me decide to use the product
              </span>
              <span class="radio-btn-description">
                Convinced me to try or adopt the product or feature.
              </span>
            </span>
          </label>
          <label for="another-reason" class="feedback-radio-button-label">
            <input type="radio" id="another-reason" name="feedback" value="Another positive reason">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Another reason
              </span>
            </span>
          </label>
        </div>

        <div id="negative-feedback-form-container"
             class="feedback-form-container negative-feedback-form-container hidden">

          <label for="no" class="hidden">
            <input type="radio" id="no" name="helpful" value="no">
          </label>

          <label for="could-not-find" class="feedback-radio-button-label">
            <input type="radio" id="could-not-find" name="feedback" value="Couldn't find what I was looking for">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Couldn't find what I was looking for
              </span>
              <span class="radio-btn-description">
                Missing important information or didn't answer my question.
              </span>
            </span>
          </label>
          <label for="inaccurate-radio-feedback" class="feedback-radio-button-label">
            <input type="radio" id="inaccurate-radio-feedback" name="feedback" value="Inaccurate">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Inaccurate
              </span>
              <span class="radio-btn-description">
                Doesn't accurately describe the product or feature.
              </span>
            </span>
          </label>

          <label for="hard-to-understand" class="feedback-radio-button-label">
            <input type="radio" id="hard-to-understand" name="feedback" value="Hard to understand">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Hard to understand
              </span>
              <span class="radio-btn-description">
                Too complicated or badly written.
              </span>
            </span>
          </label>
          <label for="code-sample-errors" class="feedback-radio-button-label">
            <input type="radio" id="code-sample-errors" name="feedback" value="Code sample errors">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Code sample error
              </span>
              <span class="radio-btn-description">
                Incorrect or missing code sample(s).
               </span>
            </span>
          </label>
          <label for="another-negative-reason" class="feedback-radio-button-label">
            <input type="radio" id="another-negative-reason" name="feedback" value="Another negative reason">
            <span class="feedback-description">
              <span class="radio-btn-title">
                Another reason
              </span>
            </span>
          </label>
        </div>
        <div class="feedback-form-submit-container">
          <button type="submit" id="feedback-form-submit-btn" class="feedback-form-submit-btn">
            SUBMIT
          </button>
        </div>
        <textarea
          id="additional-textual-feedback"
          name="additional-textual-feedback"
          class="additional-textual-feedback"
          placeholder="(Optional) Please provide specific examples or suggestions!"
          rows="6"
        ></textarea>
      </form>
    </div>
  </div>
</div>
</div>
</div>
  </div>
</main>

</div>
    <div class="feedback-footer-container">
  <div class="feedback-footer">
    <div class="card-header">
      <img class="card-img" src="../../../_/img/lifebuoy.svg" alt="lifebuoy" />
      <h4 class="card-title">Help and support</h4>
    </div>
      <a class="additional-feedback feedback-button" href="https://github.com/hazelcast/hz-docs/issues/new?title=Docs: Feedback for Upgrading from IMDG 3.12.x&body=Hi, I have some feedback about [this page](https://github.com/hazelcast/hz-docs/edit/main/docs/modules/migrate/pages/upgrading-from-imdg-3.adoc)%0D%0A" target="_blank">
        <span class="feedback-button-text git">
          Report an issue
        </span>
      </a>
    <a class="additional-feedback feedback-button" href="https://slack.hazelcast.com/" target="_blank">
      <span class="feedback-button-text command">
        Ask Community
      </span>
    </a>
    <a class="additional-feedback feedback-button" href="https://training.hazelcast.com/?utm_source=docs-website" target="_blank">
      <span class="feedback-button-text training">
        Online Training
      </span>
    </a>
    <a class="additional-feedback feedback-button" href="https://support.hazelcast.com/s/?utm_source=docs-website" target="_blank">
      <span class="feedback-button-text mail">
        Contact Support
      </span>
    </a>
  </div>
</div>
    <footer class="footer">
  <a href="https://hazelcast.com/terms-of-use/?utm_source=docs-website">Terms of service</a>
  <a href="/privacy/">Privacy</a>
  <a href="https://hazelcast.com/contact/?utm_source=docs-website">Contact us</a>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>

<script>
  const hzDocSearch = (facetFilters, placeholder) => {
    docsearch({
      apiKey: 'ef7bd9485eafbd75d6e8425949eda1f5',
      indexName: 'prod_hazelcast_docs',
      appId: 'QK2EAH8GB0',
      container: '#search-input',
      // Set debug to true to inspect the dropdown
      debug: false,
      searchParameters: { facetFilters: facetFilters },
      translations: {
        button: {
          buttonText: placeholder,
          buttonAriaLabel: placeholder,
        },
      },
    })
  };
</script>

<!-- SEARCH CONFIGURATIONS -->
<!-- 404 is not a component, so we avoid reading the component versions and names from it -->
  <!-- TUTORIALS -->
  <script>
    hzDocSearch(["tags:hazelcast-5.3"]);
  </script>
  <script>
    function closeBanner() {
      var banner = document.getElementById('latest-banner')
      if (banner) {
        banner.style.display = 'none'
      }
    }
  </script>
  <script>
  function applyFacetedSearch(){
      var checkbox = document.getElementById('facet')
      if (checkbox.checked) {
        hzDocSearch([[
          "tags:hazelcast-5.3",
          "tags:management-center-5.3",
          "tags:cloud",
          "tags:flow-",
        ]], 'Search all docs...');
      } else {
        hzDocSearch(["tags:hazelcast-5.3"]);
      }
    }
  </script>

<script>
  feather.replace();
</script>
  </body>
</html>
